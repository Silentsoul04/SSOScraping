{"link":"https://o365.tacoma.k12.wa.us/adfs/ls/?wa=wsignin1.0&wtrealm=urn:federation:MicrosoftOnline","html":"<head>\n        <meta http-equiv=\"X-UA-Compatible\" content=\"IE=10.000\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no\">\n        <meta http-equiv=\"content-type\" content=\"text/html;charset=UTF-8\">\n        <meta http-equiv=\"cache-control\" content=\"no-cache,no-store\">\n        <meta http-equiv=\"pragma\" content=\"no-cache\">\n        <meta http-equiv=\"expires\" content=\"-1\">\n        <meta name=\"mswebdialog-title\" content=\"Connecting to Tacoma Public School District\">\n\n        <title>Sign In</title>\n        <script type=\"text/javascript\">\n//<![CDATA[\nfunction LoginErrors(){this.userNameFormatError = 'Enter your user ID in the format \\u0026quot;domain\\\\user\\u0026quot; or \\u0026quot;user@domain\\u0026quot;.'; this.passwordEmpty = 'Enter your password.'; this.passwordTooLong = 'Password must be shorter than 128 characters.';}; var maxPasswordLength = 128;\n//]]>\n</script>\n\n<script type=\"text/javascript\">\n//<![CDATA[\n// Copyright (c) Microsoft Corporation.  All rights reserved.\nfunction InputUtil(errTextElementID, errDisplayElementID) {\n\n    if (!errTextElementID)  errTextElementID = 'errorText'; \n    if (!errDisplayElementID)  errDisplayElementID = 'error'; \n\n    this.hasFocus = false;\n    this.errLabel = document.getElementById(errTextElementID);\n    this.errDisplay = document.getElementById(errDisplayElementID);\n};\nInputUtil.prototype.canDisplayError = function () {\n    return this.errLabel && this.errDisplay;\n}\nInputUtil.prototype.checkError = function () {\n    if (!this.canDisplayError){\n        throw new Error ('Error element not present');\n    }\n    if (this.errLabel && this.errLabel.innerHTML) {\n        this.errDisplay.style.display = '';        \n        var cause = this.errLabel.getAttribute('for');\n        if (cause) {\n            var causeNode = document.getElementById(cause);\n            if (causeNode && causeNode.value) {\n                causeNode.focus();\n                this.hasFocus = true;\n            }\n        }\n    }\n    else {\n        this.errDisplay.style.display = 'none';\n    }\n};\nInputUtil.prototype.setInitialFocus = function (input) {\n    if (this.hasFocus) return;\n    var node = document.getElementById(input);\n    if (node) {\n        if ((/^\\s*$/).test(node.value)) {\n            node.focus();\n            this.hasFocus = true;\n        }\n    }\n};\nInputUtil.prototype.setError = function (input, errorMsg) {\n    if (!this.canDisplayError) {\n        throw new Error('Error element not present');\n    }\n    input.focus();\n\n    if (errorMsg) {\n        this.errLabel.innerHTML = errorMsg;\n    }\n    this.errLabel.setAttribute('for', input.id);\n    this.errDisplay.style.display = '';\n};\nInputUtil.makePlaceholder = function (input) {\n    var ua = navigator.userAgent;\n\n    if (ua != null && \n        (ua.match(/MSIE 9.0/) != null || \n         ua.match(/MSIE 8.0/) != null ||\n         ua.match(/MSIE 7.0/) != null)) {\n        var node = document.getElementById(input);\n        if (node) {\n            var placeholder = node.getAttribute(\"placeholder\");\n            if (placeholder != null && placeholder != '') {\n                var label = document.createElement('input');\n                label.type = \"text\";\n                label.value = placeholder;\n                label.readOnly = true;\n                label.style.position = 'absolute';\n                label.style.borderColor = 'transparent';\n                label.className = node.className + ' hint';\n                label.tabIndex = -1;\n                label.onfocus = function () { this.nextSibling.focus(); };\n\n                node.style.position = 'relative';\n                node.parentNode.style.position = 'relative';\n                node.parentNode.insertBefore(label, node);\n                node.onkeyup = function () { InputUtil.showHint(this); };\n                node.onblur = function () { InputUtil.showHint(this); };\n                node.style.background = 'transparent';\n\n                node.setAttribute(\"placeholder\", \"\");\n                InputUtil.showHint(node);\n            }\n        }\n    }\n};\nInputUtil.focus = function (inputField) {\n    var node = document.getElementById(inputField);\n    if (node) node.focus();\n};\nInputUtil.hasClass = function(node, clsName) {\n    return node.className.match(new RegExp('(\\\\s|^)' + clsName + '(\\\\s|$)'));\n};\nInputUtil.addClass = function(node, clsName) {\n    if (!this.hasClass(node, clsName)) node.className += \" \" + clsName;\n};\nInputUtil.removeClass = function(node, clsName) {\n    if (this.hasClass(node, clsName)) {\n        var reg = new RegExp('(\\\\s|^)' + clsName + '(\\\\s|$)');\n        node.className = node.className.replace(reg, ' ');\n    }\n};\nInputUtil.showHint = function (node, gotFocus) {\n    if (node.value && node.value != '') {\n        node.previousSibling.style.display = 'none';\n    }\n    else {\n        node.previousSibling.style.display = '';\n    }\n};\n//]]>\n</script>\n\n\n        \n        <link rel=\"stylesheet\" type=\"text/css\" href=\"/adfs/portal/css/style.css?id=DBC0B4741D4217A138377E7BCC747D0D30B93B979DC99146E4C4016785BA8C42\"><style>.illustrationClass {background-image:url(/adfs/portal/illustration/illustration.jpg?id=C04934393348B4762E66C552F145CF59DBAFD07EE0CAAD03E4B1C6195A98E403);}</style>\n\n    </head>\n    <body dir=\"ltr\" class=\"body\">\n    <div id=\"noScript\" style=\"position: static; width: 100%; height: 100%; z-index: 100; display: none;\">\n        <h1>JavaScript required</h1>\n        <p>JavaScript is required. This web browser does not support JavaScript or JavaScript in this web browser is not enabled.</p>\n        <p>To find out if your web browser supports JavaScript or to enable JavaScript, see web browser help.</p>\n    </div>\n    <script type=\"text/javascript\" language=\"JavaScript\">\n         document.getElementById(\"noScript\").style.display = \"none\";\n    </script>\n    <div id=\"fullPage\">\n        <div id=\"brandingWrapper\" class=\"float\">\n            <div id=\"branding\" class=\"illustrationClass\"></div>\n        </div>\n        <div id=\"contentWrapper\" class=\"float\">\n            <div id=\"content\">\n                <div id=\"header\">\n                    Tacoma Public School District\n                </div>\n                <div id=\"workArea\">\n                    \n    <div id=\"authArea\" class=\"groupMargin\">\n        \n        \n    <div id=\"loginArea\">        \n        <div id=\"loginMessage\" class=\"groupMargin\">Type your user name and password</div>\n\n        <form method=\"post\" id=\"loginForm\" autocomplete=\"off\" novalidate=\"novalidate\" onkeypress=\"if (event &amp;&amp; event.keyCode == 13) Login.submitLoginRequest();\" action=\"/adfs/ls/?wa=wsignin1.0&amp;wtrealm=urn:federation:MicrosoftOnline\">\n            <div id=\"error\" class=\"fieldMargin error smallText\" style=\"display: none;\">\n                <label id=\"errorText\" for=\"\"></label>\n            </div>\n\n            <div id=\"formsAuthenticationArea\">\n                <div id=\"userNameArea\">\n                    <input id=\"userNameInput\" name=\"UserName\" type=\"email\" value=\"\" tabindex=\"1\" class=\"text fullWidth\" spellcheck=\"false\" placeholder=\"someone@example.com\" autocomplete=\"off\">     \n                </div>\n\n                <div id=\"passwordArea\">\n                     <input id=\"passwordInput\" name=\"Password\" type=\"password\" tabindex=\"2\" class=\"text fullWidth\" placeholder=\"Password\" autocomplete=\"off\">                                   \n                </div>\n                <div id=\"kmsiArea\" style=\"display:none\">\n                    <input type=\"checkbox\" name=\"Kmsi\" id=\"kmsiInput\" value=\"true\" tabindex=\"3\">\n                    <label for=\"kmsiInput\">Keep me signed in</label>\n                </div>\n                <div id=\"submissionArea\" class=\"submitMargin\">\n                    <span id=\"submitButton\" class=\"submit\" tabindex=\"4\" onkeypress=\"if (event &amp;&amp; event.keyCode == 32) Login.submitLoginRequest();\" onclick=\"return Login.submitLoginRequest();\">Sign in</span>\n                </div>\n            </div>\n            <input id=\"optionForms\" type=\"hidden\" name=\"AuthMethod\" value=\"FormsAuthentication\">\n        </form>\n\n             <div id=\"authOptions\">\n        <form id=\"options\" method=\"post\" action=\"https://o365.tacoma.k12.wa.us:443/adfs/ls/?wa=wsignin1.0&amp;wtrealm=urn:federation:MicrosoftOnline\">\n            <script type=\"text/javascript\">\n                function SelectOption(option) {\n                    var i = document.getElementById('optionSelection');\n                    i.value = option;\n                    document.forms['options'].submit();\n                    return false;\n                }\n            </script>\n            <input id=\"optionSelection\" type=\"hidden\" name=\"AuthMethod\">\n            <div class=\"groupMargin\"></div>\n        </form>\n      </div>\n\n        <div id=\"introduction\" class=\"groupMargin\">\n                                 \n        </div>\n\n        <script type=\"text/javascript\">\n        //<![CDATA[\n\n            function Login() {\n            }\n\n            Login.userNameInput = 'userNameInput';\n            Login.passwordInput = 'passwordInput';\n\n            Login.initialize = function () {\n\n                var u = new InputUtil();\n\n                u.checkError();\n                u.setInitialFocus(Login.userNameInput);\n                u.setInitialFocus(Login.passwordInput);\n            }();\n\n            Login.submitLoginRequest = function () { \n                var u = new InputUtil();\n                var e = new LoginErrors();\n\n                var userName = document.getElementById(Login.userNameInput);\n                var password = document.getElementById(Login.passwordInput);\n\n                if (!userName.value || !userName.value.match('[@\\\\\\\\]')) {\n                    u.setError(userName, e.userNameFormatError);\n                    return false;\n                }\n\n                if (!password.value) {\n                    u.setError(password, e.passwordEmpty);\n                    return false;\n                }\n\n                if (password.value.length > maxPasswordLength) {\n                    u.setError(password, e.passwordTooLong);\n                    return false;\n                }\n\n                document.forms['loginForm'].submit();\n                return false;\n            };\n\n            InputUtil.makePlaceholder(Login.userNameInput);\n            InputUtil.makePlaceholder(Login.passwordInput);\n        //]]>\n        </script>\n    </div>\n\n    </div>\n\n                </div>\n                <div id=\"footerPlaceholder\"></div>\n            </div>\n            <div id=\"footer\">\n                <div id=\"footerLinks\" class=\"floatReverse\">\n                     <div><span id=\"copyright\">© 2013 Microsoft</span><a id=\"home\" class=\"pageLink\" href=\"http://www.tacoma.k12.wa.us\">Tacoma Public Schools Home Page</a></div>\n                </div>\n            </div>\n        </div> \n    </div>\n    <script type=\"text/javascript\">\n//<![CDATA[\n// Copyright (c) Microsoft Corporation.  All rights reserved.\n\n// This file contains several workarounds on inconsistent browser behaviors that administrators may customize.\n\"use strict\";\n\n// iPhone email friendly keyboard does not include \"\\\" key, use regular keyboard instead.\n// Note change input type does not work on all versions of all browsers.\nif (navigator.userAgent.match(/iPhone/i) != null) {\n    var emails = document.querySelectorAll(\"input[type='email']\");\n    if (emails) {\n        for (var i = 0; i < emails.length; i++) {\n            emails[i].type = 'text';\n        }\n    }\n}\n\n// In the CSS file we set the ms-viewport to be consistent with the device dimensions, \n// which is necessary for correct functionality of immersive IE. \n// However, for Windows 8 phone we need to reset the ms-viewport's dimension to its original\n// values (auto), otherwise the viewport dimensions will be wrong for Windows 8 phone.\n// Windows 8 phone has agent string 'IEMobile 10.0'\nif (navigator.userAgent.match(/IEMobile\\/10\\.0/)) {\n    var msViewportStyle = document.createElement(\"style\");\n    msViewportStyle.appendChild(\n        document.createTextNode(\n            \"@-ms-viewport{width:auto!important}\"\n        )\n    );\n    msViewportStyle.appendChild(\n        document.createTextNode(\n            \"@-ms-viewport{height:auto!important}\"\n        )\n    );\n    document.getElementsByTagName(\"head\")[0].appendChild(msViewportStyle);\n}\n\n// If the innerWidth is defined, use it as the viewport width.\nif (window.innerWidth && window.outerWidth && window.innerWidth !== window.outerWidth) {\n    var viewport = document.querySelector(\"meta[name=viewport]\");\n    viewport.setAttribute('content', 'width=' + window.innerWidth + 'px; initial-scale=1.0; maximum-scale=1.0');\n}\n\n// Gets the current style of a specific property for a specific element.\nfunction getStyle(element, styleProp) {\n    var propStyle = null;\n\n    if (element && element.currentStyle) {\n        propStyle = element.currentStyle[styleProp];\n    }\n    else if (element && window.getComputedStyle) {\n        propStyle = document.defaultView.getComputedStyle(element, null).getPropertyValue(styleProp);\n    }\n\n    return propStyle;\n}\n\n// The script below is used for downloading the illustration image \n// only when the branding is displaying. This script work together\n// with the code in PageBase.cs that sets the html inline style\n// containing the class 'illustrationClass' with the background image.\nvar computeLoadIllustration = function () {\n    var branding = document.getElementById(\"branding\");\n    var brandingDisplay = getStyle(branding, \"display\");\n    var brandingWrapperDisplay = getStyle(document.getElementById(\"brandingWrapper\"), \"display\");\n\n    if (brandingDisplay && brandingDisplay !== \"none\" &&\n        brandingWrapperDisplay && brandingWrapperDisplay !== \"none\") {\n        var newClass = \"illustrationClass\";\n\n        if (branding.classList && branding.classList.add) {\n            branding.classList.add(newClass);\n        } else if (branding.className !== undefined) {\n            branding.className += \" \" + newClass;\n        }\n        if (window.removeEventListener) {\n            window.removeEventListener('load', computeLoadIllustration, false);\n            window.removeEventListener('resize', computeLoadIllustration, false);\n        }\n        else if (window.detachEvent) {\n            window.detachEvent('onload', computeLoadIllustration);\n            window.detachEvent('onresize', computeLoadIllustration);\n        }\n    }\n};\n\nif (window.addEventListener) {\n    window.addEventListener('resize', computeLoadIllustration, false);\n    window.addEventListener('load', computeLoadIllustration, false);\n}\nelse if (window.attachEvent) {\n    window.attachEvent('onresize', computeLoadIllustration);\n    window.attachEvent('onload', computeLoadIllustration);\n}\n\n// Code to change �Sign in with organizational account� string.\n// Check whether the loginMessage element is present on this page.\nvar loginMessage = document.getElementById('loginMessage');\nif (loginMessage)\n{\n       // loginMessage element is present, modify its properties.\n       loginMessage.innerHTML = 'Type your user name and password';\n}\n\n// make sure students can just use accountname without prefixing tps-ad to accountname\nif(Login) {\n    Login.submitLoginRequest = function () { \n    var u = new InputUtil();\n    var e = new LoginErrors();\n    var userName = document.getElementById(Login.userNameInput);\n    var password = document.getElementById(Login.passwordInput);\n    if (userName.value && !userName.value.match('[@\\\\\\\\]')) \n    {\n        var userNameValue = 'TPS-AD\\\\' + userName.value;\n        document.forms['loginForm'].UserName.value = userNameValue;\n    }\n\n    if (!userName.value) {\n       u.setError(userName, e.userNameFormatError);\n       return false;\n    }\n\n\n    if (!password.value) \n    {\n        u.setError(password, e.passwordEmpty);\n        return false;\n    }\n    document.forms['loginForm'].submit();\n    return false;\n};\n}\n\n//]]>\n</script>\n\n\n    \n \n\n</body>"}
