{"link":"bubble.am","html":"<head>\n<meta charset=\"utf-8\">\n<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n<meta name=\"description\" content=\"Eat cells smaller than you and don't get eaten by the bigger ones, as an MMO\">\n<meta name=\"keywords\" content=\"agario, agar, io, bubbleam, bubble, cell, cells, virus, bacteria, blob, game, games, web game, html5, fun, flash\">\n<meta name=\"robots\" content=\"index, follow\">\n<meta name=\"viewport\" content=\"minimal-ui, width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no\">\n<meta name=\"apple-mobile-web-app-capable\" content=\"yes\">\n<meta property=\"og:title\" content=\"Bubble.AM\">\n<meta property=\"og:description\" content=\"Eat cells smaller than you and don't get eaten by the bigger ones, as an MMO\">\n<meta property=\"og:url\" content=\"http://bubble.am\">\n<meta property=\"og:image\" content=\"http://m.bubble.am/bubble.am.png\">\n<meta property=\"og:image:width\" content=\"1294\">\n<meta property=\"og:image:height\" content=\"536\">\n<meta property=\"og:type\" content=\"website\">\n<title>Bubble.am</title>\n<script async=\"\" src=\"//www.google-analytics.com/analytics.js\"></script><script id=\"facebook-jssdk\" src=\"//connect.facebook.net/en_US/sdk.js#xfbml=1&amp;version=v2.3\"></script><script async=\"\" src=\"//ajax.cloudflare.com/cdn-cgi/nexp/dok3v=85b614c0f6/cloudflare.min.js\"></script><script type=\"text/javascript\">\n//<![CDATA[\ntry{if (!window.CloudFlare) {var CloudFlare=[{verbose:0,p:0,byc:0,owlid:\"cf\",bag2:1,mirage2:0,oracle:0,paths:{cloudflare:\"/cdn-cgi/nexp/dok3v=1613a3a185/\"},atok:\"b4c4dd43333f1f37c92d48ebe75097c6\",petok:\"9711557c0b46e9522445b443e3d99d7f2463021a-1492843193-1800\",adblock:1,betok:\"a6643fbd051af51b29771bbe3635b2cfb37ec1a9-1492843193-120\",zone:\"bubble.am\",rocket:\"0\",apps:{}}];!function(a,b){a=document.createElement(\"script\"),b=document.getElementsByTagName(\"script\")[0],a.async=!0,a.src=\"//ajax.cloudflare.com/cdn-cgi/nexp/dok3v=85b614c0f6/cloudflare.min.js\",b.parentNode.insertBefore(a,b)}()}}catch(e){};\n//]]>\n</script>\n<link id=\"favicon\" rel=\"icon\" type=\"image/png\" href=\"/favicon-32x32.png\">\n<link rel=\"stylesheet\" type=\"text/css\" href=\"https://fonts.googleapis.com/css?family=Ubuntu:700\">\n<link rel=\"stylesheet\" type=\"text/css\" href=\"http://m.bubble.am/css/bootstrap.min.css?v=3\">\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/css/style.css?v=0.2.32\">\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/css/font.awesome.css?v3\">\n<script src=\"//m.bubble.am/js/jquery.js\"></script>\n<script>\nwindow.onerror = function(message, url, lineNumber) {  \nvar http = new XMLHttpRequest();\nvar url = \"/report.php\";\nvar params = \"m=\"+message+\"&url=\"+url+\"&line=\"+lineNumber;\nhttp.open(\"POST\", url, true);\n//Send the proper header information along with the request\nhttp.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\nhttp.send(params);\n};  \n\nvar instructions = '<center style=\"margin-bottom:20px;\"><span class=\"text-muted\">Move your mouse to control your cell<br/>Press <b>Space</b> to split<br/>Press <strong>W, E (auto)</strong> to eject some mass<br/><br /></span></center>';\n$(document).ready(function() {\n\t$('#instructions').html(instructions);\n});\nfunction teamsAllowed() {\n}\n\n\tvar chathistory = 20;\n\t\tvar default_mode = '5';\n\tvar busy = false;\n\t\n\tvar lang_play = 'Play';\n\tvar lang_n_20 = 'Checking...';\n\tvar lang_n_21 = 'Please login to continue!';\n\tvar lang_n_22 = 'No servers available. (Retry in';\n\tvar lang_n_23 = 'Start';\n\tvar lang_join_tournament = 'Join the Tournmanet!';\n\t\n\tfunction twoDigits(value) {\n\t   if(value < 10) {\n\t\treturn '0' + value;\n\t   }\n\t   return value;\n\t}\n\tfunction timeConverter(UNIX_timestamp){\n\t  var a = new Date(UNIX_timestamp * 1000);\n\t  var months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];\n\t  var year = a.getFullYear();\n\t  //var month = months[a.getMonth()];\n\t  var month = a.getMonth();\n\t  var date = a.getDate();\n\t  var hour = a.getHours();\n\t  var min = a.getMinutes();\n\t  var sec = a.getSeconds();\n\t  var time = twoDigits(date) + '/' + twoDigits(month+1) + '/' + year + ' ' + twoDigits(hour) + ':' + twoDigits(min) + ':' + twoDigits(sec) ;\n\t  return time;\n\t}\n\t\n\t\n\t\n$(document).ready(function() {\n\t\t$('#gamemode').on('change', function() {\n\t\t\tconsole.log(this.value);\n\t\t\tif (this.value == ':5' || this.value == ':11' || this.value == ':1') {\n\t\t\t\t$('#radio_mode').find('input[type=radio]').prop(\"checked\", false);\n\t\t\t\tswitch(this.value) {\n\t\t\t\t\tcase \":1\": $('#radio_mode .radio-ffa, #radio_mode .radio-battle').hide(); $('#radio_mode .radio-teams').show(); break;\n\t\t\t\t\tcase \":11\": $('#radio_mode .radio-ffa, #radio_mode .radio-teams').hide(); $('#radio_mode .radio-battle').show(); break;\n\t\t\t\t\tdefault: $('#radio_mode .radio-ffa').show(); $('#radio_mode .radio-battle, #radio_mode .radio-teams').hide(); break;\n\t\t\t\t}\n\t\t\t\t$('#radio_mode').css('display','block');\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t$('#radio_mode').css('display','none');\n\t\t\t}\n\t\t\t\n\t\t\tif (this.value == ':11' || this.value == ':10') {\n\t\t\t\t\n\t\t\t\t\tif ($(\"#playBtn\").hasClass('btn-primary')) $(\"#playBtn\").toggleClass('btn-primary btn-danger').html('<span class=\"spinner\"><i class=\"fa fa-spinner fa-spin\"></i></span> ' + lang_play);\n\n\t\t\t\t\tif(logged) {\n\t\t\t\t\t\t$('.showFriends').hide();\n\t\t\t\t\t\t$('#playBtn').css('width','86%');\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\tif(logged) {\n\t\t\t\t\t$('#playBtn').css('width','73%');\n\t\t\t\t\t$('.showFriends').show();\n\t\t\t\t}\n\t\t\t\tif ($(\"#playBtn\").hasClass('btn-danger')) $(\"#playBtn\").toggleClass('btn-danger btn-primary').html(lang_play);\n\t\t\t\tsetGameMode(this.value);\n\t\t\t\t\n\t\t\t}\n\t\t});\n\t\t\n\t\tfunction tournamentTimer(count) {\n\t\t\tvar counter=setInterval(timer, 1000);\n\t\t\tfunction timer() {\n\t\t\t\tcount=count-1;\n\t\t\t\tif (count <= 0) {\n\t\t\t\t\tclearInterval(counter);\n\t\t\t\t\t$('#playBtn').click();\n\t\t\t\t\treturn;\n\t\t\t\t }\n\t\t\t\t$('#countDown').text(count);\n\t\t\t}\n\t\t}\n\n\t\t$('#playBtn').on('click', function(event) {\n\t\t\tevent.preventDefault();\n\t\t\tif ($(\"#playBtn\").hasClass('btn-primary')) {\n\t\t\t\tsetNick(document.getElementById('nick').value); \n\t\t\t\tga('send', 'pageview', {'page': '/play'});\n\t\t\t} else if($(\"#gamemode\").val() == ':10' || $('input[name=mode_type]:checked', '#radio_mode').val() > 10) {\n\t\t\t\tif($(\"#gamemode\").val() == ':10') {\n\t\t\t\t\tif(beforeExit() == \" \") {\n\t\t\t\t\t\tsetNick(document.getElementById('nick').value);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$('#playBtn').prop('disabled',true);\n\t\t\t\t\t\tvar regionID = parseInt($('#region').val());\n\t\t\t\t\t\n\t\t\t\t\t\t$.post( \"/searchTournament\", { fetch: '1',region:regionID }, function( data1 ) {\n\t\t\t\t\t\t\tswitch(data1.status) {\n\t\t\t\t\t\t\t\tcase 0: \n\t\t\t\t\t\t\t\t\tlogged = 0;\n\t\t\t\t\t\t\t\t\twindow.location.hash = 'login';\n\t\t\t\t\t\t\t\t\t$('#playBtn').html(lang_play);\t\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 1: \n\t\t\t\t\t\t\t\t\t$('#playBtn').html(lang_play);\n\t\t\t\t\t\t\t\t\tsetRegion(data1.r2);\n\t\t\t\t\t\t\t\t\tsetShowBorders(0);\n\t\t\t\t\t\t\t\t\tif(connect_audio.paused){\n\t\t\t\t\t\t\t\t\t\tconnect_audio.play();\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tconnect_audio.pause();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tsetGameMode(data1.message,1); \n\t\t\t\t\t\t\t\t\t$(\"#overlays\").fadeOut(2000);\n\t\t\t\t\t\t\t\t\tsetTimeout(function() { $('#playBtn').prop('disabled', false); setNick(document.getElementById('nick').value); },2000);\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 2: \n\t\t\t\t\t\t\t\t\ttournamentTimer(10);\n\t\t\t\t\t\t\t\t\t$('#playBtn').html(data1.message+lang_n_22+' <span id=\"countDown\">10</span>s)');\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 3: \n\t\t\t\t\t\t\t\t\ttournamentTimer(120);\n\t\t\t\t\t\t\t\t\t$('#playBtn').html(lang_n_22+' <span id=\"countDown\">120</span>s)');\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 4:  \n\t\t\t\t\t\t\t\t\ttournamentTimer(15);\n\t\t\t\t\t\t\t\t\t$('#playBtn').html(lang_n_22+' <span id=\"countDown\">15</span>s)');\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tdefault: $('#playBtn').html(lang_play); $('#playBtn').prop('disabled', false);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, \"json\");\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif(beforeExit() == \" \") {\n\t\t\t\t\t\tsetNick('y');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetGameMode(':11', 1);\n\t\t\t\t\t\tcreateBattleServer($('input[name=mode_type]:checked', '#radio_mode').val());\n\t\t\t\t\t}\n\t\t\t\t}\t\n\t\t\t}\n\t\t});\n\t\n});\n\t\n</script>\n<script src=\"//m.bubble.am/js/jquery.cookie.js?v=3\"></script>\n<script>\nif(typeof cnjdfs == 'undefined') {\n\t\t\tvar cnjdfs = true;\n\t}\n</script>\n<script>\n(function(d, e) {\n\nvar bubLogged = false;\n\tvar chkilog = false;\n\tfunction stchkilog(v) {\n\t\tconsole.log('chkilog: '+v);\n\t\tchkilog = v;\n\t}\n\tfunction gekilog() {\n\t\treturn chkilog;\n\t}\n\tvar ef32f;\n\tvar lastup = Date.now();\n\t d.startintd = function() {\n\t\t console.warn('t');\n\t\t clearInterval(ef32f);\n\t\tef32f = setInterval(ba, 40);\n\t}\n\t\n    function Kb() {\n        Fa = 1;\n        cb();\n        setInterval(cb, 18E4);\n        J = Ga = document.getElementById(\"canvas\");\n\t\t\n        var isTyping = false;\n        var chattxt;\n\t\t\n        f = J.getContext(\"2d\");\n        J.onmousedown = function(a) {\n            if (db) {\n                var b = a.clientX - (5 + l / 5 / 2)\n                    , c = a.clientY - (5 + l / 5 / 2);\n                if (Math.sqrt(b * b + c * c) <= l / 5 / 2) {\n                    ba();\n                    K(17);\n                    return\n                }\n            }\n            ma = a.clientX;\n            na = a.clientY;\n            Ha();\n            ba()\n        };\n        J.onmousemove = function(a) {\n            ma = a.clientX;\n            na = a.clientY;\n            Ha();\n\t\t\tlastacti = Date.now();\n        };\n        J.onmouseup = function() {},/firefox/i.test(navigator.userAgent) ? document.addEventListener(\"DOMMouseScroll\", eb, !1) : document.body.onmousewheel = eb, e(d).on(\"beforeunload\", beforeExit);\n\t\t\n\t\tJ.onfocus = function () {\n            isTyping = false;\n        };\n\t\t\n        document.getElementById(\"chat_textbox\").onblur = function () {\n            isTyping = false;\n        };\n\n\n        document.getElementById(\"chat_textbox\").onfocus = function () {\n            isTyping = true;\n        };\n\n        var a = 0, b = 0, c = 0;\n\t\t\n        d.onkeydown = function (n) {\n            switch (n.keyCode) {\n                case 32: // split\n                    if ((!a) && (!isTyping)) {\n                        ba();\n                        K(17);\n                        a = true;\n                    }\n                    break;\n                case 81: // key q pressed\n                    if ((!b) && (!isTyping)) {\n                        K(18);\n                        b = true;\n                    }\n                    break;\n                case 87: // eject mass\n                    if ((!c) && (!isTyping)) {\n                        ba();\n                        K(21);\n                        c = true;\n                    }\n                    break;\n                case 27: // quit\n                    oa(true);\n                    break;\n\n                case 13:\n                    if (isTyping) {\n                        isTyping = false;\n                        document.getElementById(\"chat_textbox\").blur();\n                        chattxt = document.getElementById(\"chat_textbox\").value;\n                        if (chattxt.length > 0) sendChat(chattxt);\n                        //document.getElementById(\"chat_textbox\").value = \"\";\n\n                    } else {\n                        if (!hasOverlay) {\n                            document.getElementById(\"chat_textbox\").focus();\n                            isTyping = true;\n                        }\n                    }\n\t\t\t\tbreak;\n                case 17:\n                        if (!hasOverlay && !isTyping) {\n\t\t\t\t\t\t\tdocument.getElementById(\"chat_textbox\").value = \"/g \";\n                            document.getElementById(\"chat_textbox\").focus();\n                            isTyping = true;\n                        }\n\t\t\t\tbreak;\n            }\n        };\n\t\t\n\t\t\n        d.onkeyup = function(n) {\n            32 == n.keyCode && (a = !1);\n            87 == n.keyCode && (c = !1);\n            81 == n.keyCode && b && (K(19), b = !1)\n        };\n        d.onblur = function() {\n            K(19);\n            c = b = a = !1\n        };\n        d.onresize = fb;\n        d.requestAnimationFrame(gb);\n\t\tstartintd();\n        y && e(\"#region\").val(y);\n        hb();\n        pa(e(\"#region\").val());\n        0 == Ia && y && L();\n        oa(0);\n        fb();\n        /*d.location.hash && 6 <= d.location.hash.length && ib(d.location.hash)*/\n    }\n    d.beforeExit = function() {\n        return ckcj() ? \" \" : void 0\n    }    \n\tfunction eb(a) {\n\t\tif(hasOverlay == false) {\n\t\t\tM *=  Math.pow(.9, a.wheelDelta / -120 || a.detail || 0);\n\t\t\t\t\t\t //  if (!isUnlimitedZoom) { //XXX\n\t\t\t\t   if (0.4 > M) {\n\t\t\t\t\t\tM = 0.4;\n\t\t\t\t\t}\n\t\t\t\t\tif (M > 4 / g) {\n\t\t\t\t\t\tM = 4 / g;\n\t\t\t\t\t}\n\t\t\t//   } \n\t\t\t\t\t}\n\t}\n    function ckcj() {\n        return h.length > 0\n    }\n\t\n    function Lb() {\n        if (.4 > g) ca = null;\n        else {\n            for (var a = Number.POSITIVE_INFINITY, b = Number.POSITIVE_INFINITY, c = Number.NEGATIVE_INFINITY, n = Number.NEGATIVE_INFINITY, d = 0; d < v.length; d++) {\n                var e = v[d];\n                !e.H() || e.L || 20 >= e.size * g || (a = Math.min(e.x - e.size, a), b = Math.min(e.y - e.size, b), c = Math.max(e.x + e.size, c), n = Math.max(e.y + e.size, n))\n            }\n            ca = Mb.X({\n                ba: a - 10\n                , ca: b - 10\n                , Z: c + 10\n                , $: n + 10\n                , fa: 2\n                , ha: 4\n            });\n            for (d = 0; d < v.length; d++)\n                if (e = v[d], e.H() && !(20 >= e.size * g))\n                    for (a = 0; a < e.a.length; ++a) b =\n                        e.a[a].x, c = e.a[a].y, b < t - l / 2 / g || c < u - q / 2 / g || b > t + l / 2 / g || c > u + q / 2 / g || ca.Y(e.a[a])\n        }\n    }\n\n    function Ha() {\n        qa = (ma - l / 2) / g + t;\n        ra = (na - q / 2) / g + u\n\t\t\t\t//console.log(qa+'/'+ra);\n    }\n\n    function cb() {\n        null == sa && (sa = {}, e(\"#region\").children().each(function() {\n            var a = e(this)\n                , b = a.val();\n            b && (sa[b] = a.text())\n        }));\n        e.get(\"/info\", function(a) {\n            var b = {}\n                , c;\n            for (c in a.regions) {\n                var n = c.split(\":\")[0];\n                b[n] = b[n] || 0;\n                b[n] += a.regions[c].numPlayers\n            }\n            for (c in b) e('#region option[value=\"' + c + '\"]').text(sa[c] + \" (\" + b[c] + \" \"+lang[2]+\")\");\n        }, \"json\")\n    }\n\n    function hideOverlay() {\n\t\thasOverlay = false;\n        e(\"#overlays\").css('background','');\n        e(\"#overlays\").css('background-color','rgba(0, 0, 0, 0.498039)');\n        e(\"#overlays\").hide();\n        e(\"#stats\").hide();\n        e(\"#formStd\").hide();\n        U = ea = !1;\n        hb();\n        kb(d.aa)\n    }\n\n    function pa(a) {\n\t\tif(bubLogged == 1) bubParm(1, parseInt(a));\n        a && a != y && (e(\"#region\").val() != a && e(\"#region\").val(a), y = d.localStorage.location = a, e(\".region-message\").hide(), e(\".region-message.\" + a).show(), e(\".btn-needs-server\").prop(\"disabled\", !1), Fa && L())\n    }\n\n    d.oa = function(a) {\n\t\thasOverlay = true;\n\t\t\n        ea || U || ( G = null, lb(d.aa), 1000 > a && (s = 1), ea = 1, e(\"#formStd\").show(), 0 < a ? e(\"#overlays\").fadeIn(a) : e(\"#overlays\").show())\n    }\n\n    function fa(a) {\n        e(\"#helloDialog\").attr(\"data-gamemode\", a);\n        V = a;\n        e(\"#gamemode\").val(a)\n    }\n\n    function hb() {\n        e(\"#region\").val() ? d.localStorage.location = e(\"#region\").val() : d.localStorage.location && e(\"#region\").val(d.localStorage.location);\n        //e(\"#region\").val() ? e(\"#locationKnown\").append(e(\"#region\")) : e(\"#locationUnknown\").append(e(\"#region\"))\n    }\n\n    function lb(a) {\n        d.googletag && d.googletag.cmd.push(function() {\n            Ja && (Ja = !1, setTimeout(function() {\n                Ja = !0\n            }, 6E4 * Nb), d.googletag && d.googletag.pubads && d.googletag.pubads().refresh && d.googletag.pubads().refresh(a))\n        })\n    }\n\n    function kb(a) {\n        d.googletag && d.googletag.pubads && d.googletag.pubads().clear &&\n            d.googletag.pubads().clear(a)\n    }\n\n    function mb() {\n\t\t\n\t\tif(cnjdfs) {\n\t\t\t\n\t\t\te(\"#connecting\").show()\n\t\t\te(\"#time2end\").html('');\n\t\t\tvar a = ++Ia;\n\t\t\tconsole.log(\"Find \" + y + V);\n\t\t\te.ajax(\"http://bubble.am/m\", {\n\t\t\t\terror: function() {\n\t\t\t\t\tsetTimeout(mb, 1E3)\n\t\t\t\t},\n\t\t\t\tsuccess: function(a) {\n\t\t\t\t\ta = a.split(\"\\n\");\n\t\t\t\t\tchkha = a[3];\n\t\t\t\t\tmapSize = a[2];\n\t\t\t\t\tvar cfve = \"20\";\n\t\t\t\t\tif(typeof a[4] !== 'undefined' && beforeExit() !== \" \" && cfve != a[4]) {\n\t\t\t\t\t\tconsole.log(cfve+'!= '+a[4]);\n\t\t\t\t\t\td.location.href = \"http://bubble.am/?v=\"+cfve+\".\"+a[4];\n\t\t\t\t\t}\n\t\t\t\t\tvar ksmd = btoa(a[0]+ a[1]);\n\t\t\t\t\tif(TaL == 1 && parseInt(V.substr(1)) < 10) {e(\"#friendsZone\").val('http://bubble.am/x'+ksmd); e('#fDza').show();} else { e(\"#fDza\").hide(); }\n\t\t\t\t\t\n\t\t\t\t\t/*if(e.cookie('server')) {\n\t\t\t\t\t\t ASaf = e.cookie('server').split(\"-\");\n\t\t\t\t\t\t Ka(\"ws://\" + ASaf[0]+':'+ASaf[1], a[1]);\n\t\t\t\t\t} else {*/\n\t\t\t\t\t\tKa(\"ws://\" + a[0], a[1]);\n\t\t\t\t\t//}\n\n\t\t\t\t},\n\t\t\t\tdataType: \"text\",\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tcache: 0,\n\t\t\t\tcrossDomain: 1,\n\t\t\t\t//data: (w + P || \"?\") + \"=1\"\n\t\t\t\tdata: 'tal='+TaL+'&dm='+y + V\n\t\t\t})\n\n\t\t\t/*e.ajax(da + \"findServer\", {\n            error: function() {\n                setTimeout(mb, 1E3)\n            }\n            , success: function(b) {\n                a == Ia && (b.alert && alert(b.alert), Ka(\"ws://\" + b.ip, b.token))\n            }\n            , dataType: \"json\"\n            , method: \"POST\"\n            , cache: !1\n            , crossDomain: !0\n            , data: (y + V || \"?\") + \"\\n154669603\"\n        })*/\n\t\t}\n    }\n\n    function L() {\n        Fa && y && (mb())\n    }\n\n\td.closesck = function () {\n\t\tif (r) {\n\t\t    try {\n                r.close()\n            } catch (c) {}\n\t\t}\n\t}\n    function Ka(a, b, isC, goSpec) {\n        if (r) {\n            r.onopen = null;\n            r.onmessage = null;\n            r.onclose = null;\n            try {\n                r.close()\n            } catch (c) {}\n            r =\n                null\n        }\n\n        La.ip && (a = \"ws://\" + La.ip);\n\t\tif(a.length < 10) {\n\t\t\te(\"#playBtn\").prop(\"disabled\", 0);\n\t\t\treturn;\n\t\t}\n\t\t\n        if (null != N) {\n            var n = N;\n            N = function() {\n                n(b)\n            }\n        }\n        if (nb) {\n            var d = a.split(\":\");\n            a = d[0] + \"s://ip-\" + d[1].replace(/\\./g, \"-\").replace(/\\//g, \"\") + \".tech.bubble.am:\" + (+d[2] + 2E3)\n        }\n        z = [];\n        h = [];\n        H = {};\n        v = [];\n        W = [];\n        w = [];\n        A = B = null;\n        O = 0;\n        ha = !1;\n\t\tcurrSrv = a;\n        console.log(\"Connecting to \" + a);\n\t\te(\"#playBtn\").prop(\"disabled\", 1);\n\t\t\n        r = new WebSocket(a);\n        r.binaryType = \"arraybuffer\";\n        r.onopen = function() {\n            var a;\n            console.log(\"socket open\");\n            a = P(5);\n            a.setUint8(0, 255);\n            a.setUint32(1, 2207389747, 1);\n            Q(a);\n\t\t\n\t\t\ta = P(5);\n            a.setUint8(0, 254);\n            a.setUint32(1, 4, 1);\n            Q(a);\n\t\t\tif(typeof chkha !== 'undefined') {\n\t\t\t\ta = P(1 + chkha.length);\n\t\t\t\ta.setUint8(0, 253);\n\t\t\t\tfor (var b = 0; b < chkha.length; ++b) a.setUint8(b + 1, chkha.charCodeAt(b));\n\t\t\t\tQ(a);\n\t\t\t}\n\t\t\t\t\t\t\te(\"#playBtn\").prop(\"disabled\", 0);\n\t\t\t\t            /*a = P(1 + b.length);\n            a.setUint8(0, 80);\n\t\t\t\n            for (var c = 0; c < b.length; ++c) {\n\t\t\t\ta.setUint8(c + 1, b.charCodeAt(c));\n\t\t\t}\n\t\t\t\n            Q(a);*/\n            ob();\n        };\n        r.onmessage = Ob;\n        r.onclose = Pb;\n        r.onerror = function() {\n            console.log(\"socket error\")\n        }\n    }\n\n\tfunction srvLogin(login) {\n\t\t\tvar msg = dtview(1 + 2*login.length);\n\t\t\tvar offset = 0;\n\t\t\tmsg.setUint8(offset++, 2);\n            for (var i = 0; i < login.length; ++i) {\n                msg.setUint16(offset, login.charCodeAt(i), true);\n                offset += 2;\n            }\n\t\t\tQ(msg);  \n\t}\n\n    function P(a) {\n        return new DataView(new ArrayBuffer(a))\n    }\n\n    function Q(a) {\n        r.send(a.buffer)\n    }\n\n    function Pb() {\n        ha && (ta = 500);\n        console.log(\"socket close\");\n\t\toa(true);\n        setTimeout(L, ta);\n        ta *= 2\n    }\n\n    function Ob(a) {\n        Qb(new DataView(a.data))\n    }\n\n    function Qb(a) {\n        function b() {\n            for (var b = \"\";;) {\n                var d = a.getUint16(c, !0);\n                c += 2;\n                if (0 == d) break;\n                b += String.fromCharCode(d)\n            }\n            return b\n        }\n        var c = 0;\n        240 == a.getUint8(c) && (c += 5);\n        switch (a.getUint8(c++)) {\n            case 16:\n                Rb(a, c);\n                break;\n            case 17:\n                ia = a.getFloat32(c, !0);\n                c += 4;\n                ja = a.getFloat32(c, !0);\n                c += 4;\n                ka = a.getFloat32(c, !0);\n                c += 4;\n                break;\n            case 20:\n                h = [];\n                z = [];\n                break;\n            case 21:\n                Ma = a.getInt16(c, !0);\n                c += 2;\n                Na = a.getInt16(c, !0);\n                c += 2;\n                Oa || (Oa = !0, ua = Ma, va = Na);\n                break;\n            case 32:\n                z.push(a.getUint32(c, !0));\n                c += 4;\n                break;\n            case 49:\n                if (null != B) break;\n                var n = a.getUint32(c, !0)\n                    , c = c + 4;\n                w = [];\n                for (var d = 0; d < n; ++d) {\n                    var e = a.getUint32(c, !0)\n                        , c = c + 4;\n                    w.push({\n                        id: e\n                        , name: b()\n                    })\n                }\n                pb();\n                break;\n            case 50:\n                B = [];\n                n = a.getUint32(c, !0);\n                c += 4;\n\t\t\t\tfor (d = 0; d < n; ++d) B.push(a.getFloat32(c, !0)),c += 4;\n\t\t\t\n                pb();\n                break;\n            case 64:\n                wa = a.getFloat64(c, 1);\n                c += 8;\n                xa = a.getFloat64(c, 1);\n                c += 8;\n                ya = a.getFloat64(c, 1);\n                c += 8;\n                za = a.getFloat64(c, 1);\n                c += 8;\n                ia = (ya + wa) / 2;\n                ja = (za + xa) / 2;\n                ka = 1;\n                0 == h.length && (t = ia, u = ja, g = ka);\n                break;\n            case 81:\n                var f = a.getUint32(c, !0)\n                    , c = c + 4\n                    , k = a.getUint32(c, !0)\n                    , c = c + 4\n                    , l = a.getUint32(c, !0)\n                    , c = c + 4;\n                setTimeout(function() {\n                    X({\n                        d: f\n                        , e: k\n                        , c: l\n                    })\n                }, 1200)\n\t\t\t\tbreak;\n\t\t\tcase 89:\n\t\t\t\tvar nStatus = a.getUint8(c++);\n\t\t\t\tvar nText = '',char;\n\n\t\t\t\twhile ((char = a.getUint16(c, true)) != 0) {\n\t\t\t\t\tnText += String.fromCharCode(char);\n\t\t\t\t\tc += 2;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tswitch(nStatus) {\n\t\t\t\t\tcase 0: spectate(); setTimeout(hideOverlay,100); break;\n\t\t\t\t\tcase 1: bStartConf(); break;\n\t\t\t\t\tcase 2: stchkilog(true); break;\n\t\t\t\t\tcase 3: shwdebug(nText); break;\n\t\t\t\t\tcase 13: updateNotifications(nStatus, nText); console.log(nStatus + ' / ' + formatSeconds(nText,1)); break; \n\t\t\t\t\tcase 230: var a = P(1);a.setUint8(0, 230);Q(a); break;\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase 90:\n\t\t\t\tdat = a.getFloat64(c, true);\n\t\t\t\tc += 8;\n\t\t\t\tformatSeconds(dat);\n\t\t\t\tbreak;\n\t\t\tcase 99:\n                addChat(a, c);\n             break;\n        }\n    }\n\tfunction shwdebug(text) {\n\t\te('#shwdebug').html(text);\n\t}\n\tfunction formatSeconds(sec, ret) {\n\t\tsec = parseInt(sec);\n\t\t\tvar time = '00:00';\n\t\t\tif(sec > 0) {\n\t\t\t\tvar minutes = Math.floor((sec/ 60));\n\t\t\t\tvar seconds = sec - (minutes * 60);\n\n\t\t\t\tif (minutes < 10) {minutes = \"0\"+minutes;}\n\t\t\t\tif (seconds < 10) {seconds = \"0\"+seconds;}\n\t\t\t\ttime    =  minutes+':'+seconds;\n\t\t\t}\n\t\t\tif(typeof ret == 'undefined') {\n\t\t\t\te('#time2end').html(time);\n\t\t\t} else {\n\t\t\t\treturn time;\n\t\t\t}\n\t}\n    function addChat(view, offset) {\n        function getString() {\n            var text = '',\n                char;\n            while ((char = view.getUint16(offset, true)) != 0) {\n                offset += 2;\n                text += String.fromCharCode(char);\n            }\n            offset += 2;\n            return text;\n\n        }\n\n        var flags = view.getUint8(offset++);\n        // for future expansions\n        if (flags & 2) {\n            offset += 4;\n        }\n        if (flags & 4) {\n            offset += 8;\n        }\n        if (flags & 8) {\n            offset += 16;\n        }\n\n        var r = view.getUint8(offset++),\n            g = view.getUint8(offset++),\n            b = view.getUint8(offset++);\n\t\t\t//color = (r << 16 | g << 8 | b).toString(16);\n\t\t\t\n\t\t\t\n\t\t\n\t\t/*\t\n        while (color.length > 6) {\n            color = '0' + color;\n        }\n\t\t\n        color = '#' + color;*/\n\t\t\n        chatBoard.push({\n            \"name\": getString(),\n            \"color\": 'rgb('+r+','+g+','+b+')',\n            \"message\": getString(),\n            \"time\": Date.now()\n        });\n        drawChatBoard();\n    }\nfunction drawChatBoard() {\n\n        var len = chatBoard.length;\n\n\tif(Aa) { e(\"#chatlog\").css(\"color\",\"white\"); e(\"#chat_textbox\").css(\"color\",\"white\").css(\"background\",\"rgba(255, 255, 255, 0.2) none repeat scroll 0 0\"); }\n\tif(!Aa) { e(\"#chatlog\").css(\"color\",\"black\"); e(\"#chat_textbox\").css(\"color\",\"black\").css(\"background\",\"rgba(0, 0, 0, 0.2) none repeat scroll 0 0\");}\n\nvar chatnick = chatBoard[len - 1].name;\nvar state;\nvar chatClassID = Date.now();\n\nvar chatNick = htmlspecialchars(chatnick);\n\n\nvar chatMessage = chatBoard[len - 1].message;\n\n\ndop = 0;\n\nvar state2 = 0;\n\nif(chatMessage == '****need_pacc****') {\n\tstate2 = 1;\n\tchatMessage = 'You need Premium, price - 2 points.';\n\t\n} else if(chatMessage.substr(0,3) == '/g ') {\n\tstate2 = 2;\n\tchatMessage = chatMessage.replace('/g ', '');\t\n}\n\nif(chatNick == '[**system**]') {\n\tif(chatNick == '[**system**]') {\n\t\tchatNick = '';\n\t\tif (chatMessage.indexOf(\"|\") > -1) {\n\t\t\tchatMessage = chatMessage.split(\"|\");\n\t\t\tvar cc = JSON.parse(chatMessage[1]);\n\t\t\tstate2 = '3\" style=\"color:rgb('+cc.r+','+cc.g+','+cc.b+');';\n\t\t\tchatMessage = chatMessage[0];\n\t\t} else {\n\t\t\tstate2 = 3;\n\t\t}\n\t}\n} else {\n\tchatNick = '<strong style=\"color:' + chatBoard[len - 1].color + '\">'+chatNick+'</strong> ';\n}\n\n\t\tchatMessage = htmlspecialchars(chatMessage);\n        e(\"#chatlog\").append('<div class=\"mess_'+chatClassID+' mess_type_' + state2 + '\">' + chatNick + chatMessage + '</div>');\n\n\n\t\t\n\t//e(\"#chatlog\").append(mg);\n\te(\".mess_\"+chatClassID).delay(30000).fadeOut(500);\n\tif (e('#chatlog div').length > chathistory) { e('#chatlog div').eq(0).remove(); }\n\n\nvar chatWindow = document.getElementById(\"chatlog\");\ndif = chatWindow.scrollHeight - chatWindow.scrollTop - dop;\n\nif (dif < 530) {\n\te(\"#chatlog\").scrollTop(500000);\n}\n\n\n\n        var from = len - 15;\n        if (from < 0) from = 0;\n\n\n }\n\nfunction htmlspecialchars(html) {\n      html = html.replace(/&/g, \"&amp;\");\n      html = html.replace(/</g, \"&lt;\");\n      html = html.replace(/>/g, \"&gt;\");\n      html = html.replace(/\"/g, \"&quot;\");\n      return html;\n}\n\t\n    function Rb(a, b) {\n\n        function n() {\n            for (var c = \"\";;) {\n                var d = a.getUint8(b++);\n                if (0 == d) break;\n                c += String.fromCharCode(d)\n            }\n            return c\n        }\n        qb = E = Date.now();\n        ha || (ha = !0, Sb());\n        Pa = !1;\n        var p = a.getUint16(b, !0);\n        b += 2;\n        for (var f = 0; f < p; ++f) {\n            var C = H[a.getUint32(b, !0)]\n                , k = H[a.getUint32(b + 4, !0)];\n            b += 8;\n            C && k && (k.R(), k.o = k.x, k.p = k.y, k.n = k.size, k.C = C.x, k.D = C.y, k.m = k.size, k.K = E, Tb(C, k))\n        }\n        for (f = 0;;) {\n            p = a.getUint32(b, !0);\n            b += 4;\n            if (0 == p) break;\n            ++f;\n            var g;\n\t\t\tvar gdID = a.getUint32(b, 1);\n\t\t\tb += 4;\n\t\t\tvar C = a.getInt16(b, !0);\n            b += 2;\n            k = a.getInt16(b, !0);\n            b += 2;\n            g = a.getInt16(b, !0);\n            b += 2;\n            var m = a.getUint8(b++);\n            var I = a.getUint8(b++);\n            var R = a.getUint8(b++);\n            var I = Ub(m << 16 | I << 8 | R);\n            var R = a.getUint8(b++);\n            var l = !!(R & 1);\n            var q = !!(R & 18);\n            var r = null;\n\t\t\t\n\t\t\t\n            R & 2 && (b += 4 + a.getUint32(b, !0));\n            R & 4 && (r = n());\n\t\t\t\n            for (var r1, n1 = \"\";;) {\n                r1 = a.getUint16(b, !0);\n                b += 2;\n                if (0 == r1) break;\n                n1 += String.fromCharCode(r1);\n            }\n\n            var s = n1;\n\t\t\t\n             var m = null;\n\t\t\t//console.log('Screen: '+s+' / Size: '+g+' | x: '+C+' y: '+k+' | color: '+I);\n\t\t\t\t\n            if(H.hasOwnProperty(p)) {\n\t\t\t\tm = H[p], m.J(), m.o = m.x, m.p = m.y, m.n = m.size, m.color = I, m.gdid = gdID;\n\t\t\t} else {\n\t\t\t\t//console.log('has not');\n\t\t\t\tm = new Y(p, C, k, g, I, s, gdID), v.push(m), H[p] = m, m.ia = C, m.ja = k;\n\t\t\t}\n            m.f = l;\n            m.j = q;\n            m.C = C;\n            m.D = k;\n            m.m = g;\n            m.K = E;\n            m.T = R;\n            m.V = r;\n            s && m.t(s); - 1 != z.indexOf(p) && -1 == h.indexOf(m) && (h.push(m), 1 == h.length && (t = m.x, u = m.y, rb(), document.getElementById(\"overlays\").style.display = \"none\", x = [], Qa = 0, Ra = h[0].color, Sa = !0, sb = Date.now(), S = Ta = Ua = 0))\n        }\n        C = a.getUint32(b, !0);\n        b += 4;\n        for (f = 0; f < C; f++) p = a.getUint32(b, !0), b += 4, m = H[p], null != m && m.R();\n\t\t\t\n\t\t\t\n        Pa && 0 == h.length && (tb = Date.now(), Sa = !1, ea || U || (ub ? (lb(d.ab), Vb(), U = !0, e(\"#overlays\").fadeIn(1000),quey(), e(\"#stats\").show()) : oa(3E3)))\n  \n  }\n\tfunction quey() {\n\t\t/*\n\t\tif(logged == 1) {\n\t\t\tbubbleSetOnline(false);\n\t\t\te('#escapingBallG').show();\n\t\t\te('#escapingLEVEL').hide(); \n\t\t\tsetTimeout(function(){\n\n\t\t\te.ajax({\n\t\t\t\turl: '//m.bubble.am/query',\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tdata: { 'do': 1 },\n\t\t\t\txhrFields: { \n\t\t\t\t\twithCredentials: true \n\t\t\t\t}\n\t\t\t}).done(function( msg ) {\n\t\t\t\t\n\t\t\t\te('.progress-bar-striped').css('width',msg.perc);\n\t\t\t\te('.progress-bar-star').text(msg.lvl);\n\t\t\t\te('.progress-bar-text').text(msg.text);\n\t\t\t\te('#escapingBallG').hide(); \n\t\t\t\te('#escapingLEVEL').fadeIn(500);\n\t\t\t\t\n\t\t\t  });\n\t\t\t}, 6000);\n\t\t}\n\t\t*/\t\t\n\t}\n    function Sb() {\n        e(\"#connecting\").hide();\n        vb();\n        N && (N(), N = null);\n        null != Va && clearTimeout(Va);\n        Va = setTimeout(function() {\n            d.ga && (++wb, d.ga(\"set\", \"dimension2\", wb))\n        }, 1E4)\n    }\n\n    function ba() {\n\t\tif(Date.now() - lastup > 100) {\n\t\t\tstartintd();\n\t\t}\n\t\tlastup = Date.now();\n\t\t\n        if (isGameOn()) {\n            var a = ma - l / 2\n                , b = na - q / 2;\n            64 > a * a + b * b || .01 > Math.abs(xb - qa) && .01 > Math.abs(yb - ra) || (xb = qa, yb = ra, a = P(21), a.setUint8(0, 16), a.setFloat64(1, qa, !0), a.setFloat64(9, ra, !0), a.setUint32(17, 0, !0), Q(a))\n        }\n    }\n\n    function vb() {\n        if (isGameOn() && ha && null != G) {\n            var a = P(1 + 2 * G.length);\n            a.setUint8(0, 0);\n            for (var b = 0; b < G.length; ++b) a.setUint16(1 + 2 * b, G.charCodeAt(b), !0);\n            Q(a);\n            G = null\n        }\n    }\n\t\n    function sendChat(str) {\n        if (isGameOn() && (str.length < 100) && (str.length > 0)) {\n            var msg = P(2 + 2 * str.length);\n            var offset = 0;\n            msg.setUint8(offset++, 99);\n            msg.setUint8(offset++, 0); // flags (0 for now)\n            for (var i = 0; i < str.length; ++i) {\n                msg.setUint16(offset, str.charCodeAt(i), true);\n                offset += 2;\n            }\n\n            Q(msg);\n\t\t\te('#chat_textbox').val('');\n\t\t\t\n\t\t\tif(document.getElementById(\"canvas\")) {\n\t\t\t\tdocument.getElementById(\"canvas\").focus();\n\t\t\t}\n        }\n\t}\n\t\t\n\tfunction isGameOn() {\n        return null != r && r.readyState == r.OPEN\n    }\n\n    function K(a) {\n        if (isGameOn()) {\n            var b = P(1);\n            b.setUint8(0, a);\n            Q(b)\n        }\n    }\n\n    function ob() {\n        if (isGameOn() && null != D) {\n            var a = P(1 + D.length);\n            a.setUint8(0, 81);\n            for (var b = 0; b < D.length; ++b) a.setUint8(b + 1, D.charCodeAt(b));\n            Q(a)\n        }\n    }\n\n    function fb() {\n        l = 1 * d.innerWidth;\n        q = 1 * d.innerHeight;\n        Ga.width = J.width = l;\n        Ga.height = J.height =\n            q;\n        var a = e(\"#helloDialog\");\n        a.css(\"transform\", \"none\");\n        var b = a.height()\n            , c = d.innerHeight;\n        b > c / 1.1 ? a.css(\"transform\", \"translate(-50%, -50%) scale(\" + c / b / 1.1 + \")\") : a.css(\"transform\", \"translate(-50%, -50%)\");\n        zb()\n    }\n\n    function Ab() {\n        var a;\n        a = 1 * Math.max(q / 1080, l / 1920);\n        return a *= M\n    }\n\n    function Wb() {\n        if (0 != h.length) {\n            for (var a = 0, b = 0; b < h.length; b++) a += h[b].size;\n            a = Math.pow(Math.min(64 / a, 1), .4) * Ab();\n            g = (9 * g + a) / 10\n        }\n    }\n\n    function zb() {\n\t\t\n\t\tif(hasOverlay == false) {\n        var a, b = Date.now();\n        ++Xb;\n        E = b;\n        if (0 < h.length) {\n            Wb();\n            for (var c = a = 0, d = 0; d < h.length; d++) h[d].J(), a += h[d].x /\n                h.length, c += h[d].y / h.length;\n            ia = a;\n            ja = c;\n            ka = g;\n            t = (t + a) / 2;\n            u = (u + c) / 2\n        } else t = (29 * t + ia) / 30, u = (29 * u + ja) / 30, g = (9 * g + ka * Ab()) / 10;\n        Lb();\n        Ha();\n        Wa || f.clearRect(0, 0, l, q);\n        Wa ? (f.fillStyle = Aa ? \"#111111\" : \"#F2FBFF\", f.globalAlpha = .05, f.fillRect(0, 0, l, q), f.globalAlpha = 1) : Yb();\n        v.sort(function(a, b) {\n            return a.size == b.size ? a.id - b.id : a.size - b.size\n        });\n        f.save();\n        f.translate(l / 2, q / 2);\n        f.scale(g, g);\n        f.translate(-t, -u);\n\t\tif(showBorders && mapSize) {\n\t\t\tdrawBorders(f,mapSize);\n\t\t}\n        for (d = 0; d < W.length; d++) W[d].s(f);\n        for (d = 0; d < v.length; d++) v[d].s(f);\n        if (Oa) {\n            ua = (3 * ua + Ma) / 4;\n            va = (3 * va + Na) / 4;\n            f.save();\n            f.strokeStyle =\n                \"#FFAAAA\";\n            f.lineWidth = 10;\n            f.lineCap = \"round\";\n            f.lineJoin = \"round\";\n            f.globalAlpha = .5;\n            f.beginPath();\n            for (d = 0; d < h.length; d++) f.moveTo(h[d].x, h[d].y), f.lineTo(ua, va);\n            f.stroke();\n            f.restore()\n        }\n        f.restore();\n        A && A.width && f.drawImage(A, l - A.width - 10, 10);\n\t\t\n        O = Math.max(O, Bb());\n        0 != O && (null == Ba && (Ba = new Ca(24, \"#FFFFFF\")), Ba.u(lang[3]+ \": \" + ~~(O / 100)), c = Ba.F(), a = c.width, f.globalAlpha = .2, f.fillStyle = \"#000000\", f.fillRect(10,10, a + 10, 34), f.globalAlpha = 1, f.drawImage(c, 15, 15));\n        Zb();\n        b = Date.now() - b;\n        b > 1E3 / 60 ? F -= .01 :\n            b < 1E3 / 65 && (F += .01);.4 > F && (F = .4);\n        1 < F && (F = 1);\n        b = E - Cb;\n        !isGameOn() || ea || U ? (s += b / 2E3, 1 < s && (s = 1)) : (s -= b / 300, 0 > s && (s = 0));\n        0 < s && (f.fillStyle = \"#000000\", f.globalAlpha = .5 * s, f.fillRect(0, 0, l, q), f.globalAlpha = 1);\n        Cb = E;\n\t\t\n\t\t}\n    }\n\n    function Yb() {\n        f.fillStyle = Aa ? \"#111111\" : \"#F2FBFF\";\n        f.fillRect(0, 0, l, q);\n        f.save();\n        f.strokeStyle = Aa ? \"#AAAAAA\" : \"#000000\";\n        f.globalAlpha = .2 * g;\n        for (var a = l / g, b = q / g, c = (-t + a / 2) % 50; c < a; c += 50) f.beginPath(), f.moveTo(c * g - .5, 0), f.lineTo(c * g - .5, b * g), f.stroke();\n        for (c = (-u + b / 2) % 50; c < b; c += 50) f.beginPath(), f.moveTo(0, c * g - .5), f.lineTo(a *\n            g, c * g - .5), f.stroke();\n        f.restore()\n    }\n\n    function Zb() {\n        if (db && Xa.width) {\n            var a = l / 5;\n            f.drawImage(Xa, 5, 5, a, a)\n        }\n    }\n\n    function Bb() {\n        for (var a = 0, b = 0; b < h.length; b++) a += h[b].m * h[b].m;\n        return a\n    }\n\n    function pb() {\n        A = null;\n        if (null != B || 0 != w.length)\n            if (null != B || Da) {\n                A = document.createElement(\"canvas\");\n                var a = A.getContext(\"2d\")\n                    , b = 60\n                    , b = null == B ? b + 24 * w.length : b + 180\n                    , c = Math.min(200, .3 * l) / 200;\n                A.width = 200 * c;\n                A.height = b * c;\n                a.scale(c, c);\n                a.globalAlpha = .4;\n                a.fillStyle = \"#000000\";\n                a.fillRect(0, 0, 200, b);\n                a.globalAlpha = 1;\n                a.fillStyle = \"#FFFFFF\";\n                c = null;\n                c = lang[1];\n\t\t\t\tvar Kms = false;\n\t\t\t\tvar anunnamed = 'An unnamed cell';\n\t\t\t\tif(V == ':8') anunnamed = ' ';\n\t\t\t\tvar dmwd = \"\";\n                a.font = \"30px Ubuntu\";\n                a.fillText(c, 100 - a.measureText(c).width / 2, 40);\n                if (null == B) {\n                    for (a.font = \"18px Ubuntu\", b = 0; b < w.length; ++b) {\n\t\t\t\t\t\t\n\t\t\t\t\t\tc = w[b].name || anunnamed;\n\t\t\t\t\t\tswitch (c) {\n\t\t\t\t\t\t\tcase '==Waiting==for==': Kms = true; c = lang[4]; break;\n\t\t\t\t\t\t\tcase '==players=need==': Kms = true; c = lang[5]; break;\n\t\t\t\t\t\t\tcase 'Game=starting=in': Kms = true; c = lang[6]; \n\t\t\t\t\t\t\tif(photography_audio.paused){\n\t\t\t\t\t\t\tphotography_audio.play();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tphotography_audio.pause();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase '=Good=luck======': Kms = true; c = lang[7]; break;\n\t\t\t\t\t\t\tcase '=Players=Remaining=': Kms = true; c = lang[8]; break;\n\t\t\t\t\t\t\tcase '=Congratulations==': Kms = true; c = lang[9]; break;\n\t\t\t\t\t\t\tcase '==for====winning=': Kms = true; c = lang[10]; break;\n\t\t\t\t\t\t\tcase 'Game=restarting=in': Kms = true; c = lang[11]; break;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!Da) {\n                            c = \"An unnamed cell\";\n                        }\n\t\t\t\t\t\tif(-1 != z.indexOf(w[b].id)) {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\th[0].name && (c = h[0].name);\n\t\t\t\t\t\t\tif(!Kms) dmwd = b + 1 + \". \";\n                            c = dmwd + c;\n\t\t\t\t\t\t\ta.fillStyle = \"#FFAAAA\";\n\t\t\t\t\t\t\ta.fillText(c, 100 - a.measureText(c).width / 2, 70 + 24 * b);\n\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ta.fillStyle = \"#FFFFFF\";\n\t\t\t\t\t\t\tif(!Kms) dmwd = b + 1 + \". \";\n                            c = dmwd + c;\n\t\t\t\t\t\t\ta.fillText(c, 100 - a.measureText(c).width / 2, 70 + 24 * b);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n                    for (b = c = 0; b < B.length; ++b) {\n                        var d = c + B[b] * Math.PI * 2;\n                        a.fillStyle = $b[b + 1];\n                        a.beginPath();\n                        a.moveTo(100, 140);\n                        a.arc(100, 140, 80, c, d, 0);\n                        a.fill();\n                        c = d\n                    }\n\t\t\t\t}\n            }\n    }\n\n    function Ya(a, b, c, d, e) {\n        this.P = a;\n        this.x = b;\n        this.y = c;\n        this.g = d;\n        this.b = e\n    }\n\n    function Y(a, b, c, d, e, f, g) {\n        this.id = a;\n        this.gid =g;\n        this.o = this.x = b;\n        this.p = this.y = c;\n        this.n = this.size = d;\n        this.color = e;\n        this.a = [];\n        this.Q();\n        this.t(f)\n    }\n\n    function Ub(a) {\n        for (a = a.toString(16); 6 > a.length;) a = \"0\" + a;\n        return \"#\" + a\n    }\n\n    function Ca(a, b, c, d) {\n\t\t//console.log(a+'/'+ b+'/'+ c+'/'+d);\n\t\t\n        a && (this.q = a);\n        b && (this.M = b);\n        this.O = !!c;\n        d && (this.r = d)\n    }\n\n    function ac(a) {\n        for (var b = a.length, c, d; 0 < b;) d = Math.floor(Math.random() * b), b--, c = a[b], a[b] = a[d], a[d] = c\n    }\n\n    function X(a, b) {\n\n    }\n\n    function Db(a) {\n        \"string\" == typeof a && (a = JSON.parse(a));\n        Date.now() + 18E5 > a.expires ? e(\"#helloDialog\").attr(\"data-logged-in\", \"0\") : (d.localStorage[T] =\n            JSON.stringify(a), D = a.authToken, e(\".agario-profile-name\").text(a.name), ob(), X({\n                e: a.xp\n                , c: a.xpNeeded\n                , d: a.level\n            }), e(\"#helloDialog\").attr(\"data-logged-in\", \"1\"))\n    }\n\n    function bc(a) {\n        a = a.split(\"\\n\");\n        Db({\n            name: a[0]\n            , fbid: a[1]\n            , authToken: a[2]\n            , expires: 1E3 * +a[3]\n            , level: +a[4]\n            , xp: +a[5]\n            , xpNeeded: +a[6]\n        })\n    }\n\n    function $a(a) {\n        d.history && d.history.replaceState && d.history.replaceState({}, d.document.title\n            , a)\n    }\n\n    function Tb(a, b) {\n        var c = -1 != z.indexOf(a.id)\n            , d = -1 != z.indexOf(b.id)\n            , e = 30 > b.size;\n        c && e && ++Qa;\n        e || !c || d || ++Ta\n    }\n\n    function Eb(a) {\n        a = ~~a;\n        var b = (a % 60).toString();\n        a = (~~(a / 60)).toString();\n        2 > b.length && (b = \"0\" + b);\n        return a + \":\" + b\n    }\n\n    function cc() {\n        if (null == w) return 0;\n        for (var a = 0; a < w.length; ++a)\n            if (-1 != z.indexOf(w[a].id)) return a + 1;\n        return 0\n    }\n\tfunction drawBorders(g,siz) { //XXX\n\t   if(Aa) {\n          g[\"strokeStyle\"] = \"#FFFFFF\";\n       }\n\n        g.beginPath();\n        g.moveTo(0, 0); //TODO use min/max X/Y\n        g.lineTo(siz, 0);\n        g.lineTo(siz, siz);\n        g.lineTo(0, siz);\n        g.lineTo(0, 0);\n        g.stroke();\n    }\n    function Vb() {\n        e(\".stats-food-eaten\").text(Qa);\n        e(\".stats-time-alive\").text(Eb((tb - sb) / 1E3));\n        e(\".stats-leaderboard-time\").text(Eb(Ua));\n        e(\".stats-highest-mass\").text(~~(O / 100));\n        e(\".stats-cells-eaten\").text(Ta);\n        e(\".stats-top-position\").text(0 == S ? \":(\" : S);\n        var a = document.getElementById(\"statsGraph\");\n        if (a) {\n            var b = a.getContext(\"2d\")\n                , c = a.width\n                , a = a.height;\n            b.clearRect(0, 0, c, a);\n            if (2 < x.length) {\n                for (var d = 200, p = 0; p < x.length; p++) d = Math.max(x[p], d);\n                b.lineWidth = 3;\n                b.lineCap = \"round\";\n                b.lineJoin = \"round\";\n                b.strokeStyle = Ra;\n                b.fillStyle = Ra;\n                b.beginPath();\n                b.moveTo(0, a - x[0] / d * (a - 10) + 10);\n                for (p = 1; p < x.length; p += Math.max(~~(x.length / c), 1)) {\n                    for (var f = p / (x.length - 1) * c, g = [], k = -20; 20 >= k; ++k) 0 > p + k || p + k >= x.length || g.push(x[p + k]);\n                    g = g.reduce(function(a\n                        , b) {\n                        return a + b\n                    }) / g.length / d;\n                    b.lineTo(f, a - g * (a - 10) + 10)\n                }\n                b.stroke();\n                b.globalAlpha = .5;\n                b.lineTo(c, a);\n                b.lineTo(0, a);\n                b.fill();\n                b.globalAlpha = 1\n            }\n        }\n    }\n    if (!d.agarioNoInit) {\n        var ab = d.location.protocol\n            , nb = \"https:\" == ab\n            , da = ab + \"//m.bubble.am/\";\n        if (nb && -1 == d.location.search.indexOf(\"fb\")) d.location.href = \"http://bubble.am/\";\n        else {\n            var Ea = d.navigator.userAgent;\n\n                var Ga, f, J, l,chatCanvas, q, ca = null\n                    , r = null\n                    , t = 0\n                    , u = 0\n                    , currMode = ':'+default_mode\n                    , currSrv = ''\n                    , z = []\n                    , h = []\n                    , H = {}\n                    , v = []\n                    , W = []\n                    , w = []\n\t\t\t\t\t, chatBoard = []\n                    , ma = 0\n                    , na = 0\n                    , qa = -1\n                    , ra = -1\n                    , Xb = 0\n                    , E = 0\n                    , Cb = 0\n                    , G = null\n                    , wa = 0\n                    , xa = 0\n                    , ya = 1E4\n                    , za = 1E4\n                    , g = 1\n                    , y = null\n                    , Fb = !0\n                    , Da = !0\n                    , bb = !1\n                    , Pa = !1\n                    , O = 0\n                    , Aa = !1\n                    , Gb = !1\n\t\t\t\t\t, showBorders = 1\n\t\t\t\t\t, mapSize = 0\n\t\t\t\t\t, chkha = ''\n\t\t\t\t\t, Qd = 0\n                    , ia = t = ~~((wa + ya) / 2)\n                    , ja = u = ~~((xa + za) / 2)\n\t\t\t\t\t, hasOverlay = true\n                    , ka = 1\n\t\t\t\t\t, TaL = 1                    , V = ':'+ default_mode\n                    , B = null\n                    , Fa = !1\n                    , Oa = !1\n                    , Ma = 0\n                    , Na = 0\n                    , ua = 0\n                    , va = 0\n                    , Hb = 0\n                    , $b = [\"#333333\", \"#FF3333\", \"#33FF33\", \"#3333FF\"]\n                    , Wa = !1\n                    , ha = !1\n                    , qb = 0\n                    , D = null\n                    , M = 0.6\n                    , s = 1\n                    , ea = !1\n                    , Ia = 0\n                    , La = {};\n                (function() {\n                    var a = d.location.search;\n                    \"?\" == a.charAt(0) && (a = a.slice(1));\n                    for (var a = a.split(\"&\"), b = 0; b < a.length; b++) {\n                        var c = a[b].split(\"=\");\n                        La[c[0]] = c[1]\n                    }\n                })();\n                var db = \"ontouchstart\" in d && /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(d.navigator.userAgent)\n                    , Xa = new Image;\n                Xa.src = \"img/split.png\";\n                var Ib = document.createElement(\"canvas\");\n                if (\"undefined\" == typeof console || \"undefined\" == typeof DataView || \"undefined\" == typeof WebSocket || null == Ib || null == Ib.getContext || null == d.localStorage) alert(\"You browser does not support this game, we recommend you to use Firefox to play this\");\n                else {\n                    var sa = null;\n                    d.setNick = function(a) {\n\t\t\t\t\t\tif(logged == 1 && !ckcj()) bubbleSetOnline(true);\n\n\t\t\t\t\t\tif(!cnjdfs) {\n\t\t\t\t\t\t\tcnjdfs = true;\n\t\t\t\t\t\t\tmb();\n\t\t\t\t\t\t}                    \n\t\t\t\t\t\thideOverlay();\n\t\t\t\t\t\t\tG = a;\n\t\t\t\t\t\t\tvb();\n\t\t\t\t\t\t\tO = 0\n                    };\n                    d.setRegion = pa;\n                    d.setSkins = function(a) {\n                        Fb = a\n\t\t\t\t\t\tsetCookieConfig('Skins', a);\n                    };\n                    d.setNames = function(a) {\n\t\t\t\t\t\tsetCookieConfig('Names', a);\n                        Da = a\n                    };\n                    d.setDarkTheme = function(a) {\n\t\t\t\t\t\tsetCookieConfig('DarkTheme', a);\n                        Aa = a\n                    };\n\t\t\t\t\td.displayChat = function(a) {\n\t\t\t\t\t\tif(a) {\n\t\t\t\t\t\t\te(\"#enableChat\").css('display','inline');\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\te(\"#enableChat\").css('display','none');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetCookieConfig('enableChat', a);\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\td.teamsAllowed = function(a) {\n\t\t\t\t\t\tsetCookieConfig('Teams', (a ? 1 : 0));\n\t\t\t\t\t\tTaL = a;\n\t\t\t\t\t\tclosesck();\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\td.battleNotify = function(a, b) {\n\t\t\t\t\t\tsetCookieConfig(b == 12 ? 'Notify' : 'Notify11', a ? 1 : 0);\n\t\t\t\t\t\tbubParm(b == 12 ? 0 : 2, a ? 1 : 0);\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\td.setShowBorders = function(a) {\n\t\t\t\t\t\tshowBorders = a;\n\t\t\t\t\t\tsetCookieConfig('setShowBorders', a);\n\t\t\t\t\t};\n                    d.setColors = function(a) {\n\t\t\t\t\t\tsetCookieConfig('Colors', a);\n                        bb = a\n                    };\n                    d.setShowMass = function(a) {\n\t\t\t\t\t\tsetCookieConfig('ShowMass', a);\n                        Gb = a\n                    };\n\t\t\t\t\td.setShowOthersMass = function(a) {\n\t\t\t\t\t\tsetCookieConfig('ShowOthersMass', a);\n\t\t\t\t\t\tQd = a\n\t\t\t\t\t};\n                    d.spectate = function() {\n                        G = null;\n                        K(1);\n                        hideOverlay()\n                    };\n\t\t\t\t\td.currentMode = function () {\n\t\t\t\t\t\treturn currMode;\n\t\t\t\t\t}\n                    d.srvInfo = function() {\n\t\t\t\t\t\tcurrSrv = currSrv.replace('ws://','');\n\t\t\t\t\t\treturn currSrv+currMode;\n                    };\n                    d.isDarkTheme = function() {\n\t\t\t\t\t\treturn Aa;\n                    };\n                    d.setGameMode = function(a,c) {\n\t\t\t\t\t\tcurrMode = a.substr(0,3);\n\n\t\t\t\t\t\ta != V && (V = a, L());\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(a.substr(0,3) == ':11' || a.substr(0,3) == ':12') {\n\t\t\t\t\t\t\tsetCookieConfig('mode', ':11');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetCookieConfig('mode', a);\n\t\t\t\t\t\t}\n\t\t\t\t\t\te('.friends-online').hide();\n                    };\n                    d.setAcid = function(a) {\n                        Wa = a\n                    };\n                    null != d.localStorage && (null == d.localStorage.AB9 && (d.localStorage.AB9 = 0 + ~~(100 * Math.random())), Hb = +d.localStorage.AB9, d.ABGroup = Hb);\n\t\t\t\t\tvar asdd = '1';\n\t\t\t\t\tif(e.cookie('server')) {\n\t\t\t\t\t\t\t asdd = e.cookie('server').split(\"-\");\n\t\t\t\t\t\t\t asdd = asdd[2];\n\t\t\t\t\t}\n                    var Ja = !0\n                        , Nb = 0\n                        , la = { OO: asdd}\n                        , N = null;\n                    d.connect = Ka;\n                    var ta = 500\n                        , Va = null\n                        , wb = 0\n                        , xb = -1\n                        , yb = -1\n                        , A = null\n                        , F = 1\n                        , Ba = null\n                        , gb = function() {\n                            var a = Date.now(), b = 1E3 / 60;\n                            return function() {\n                                d.requestAnimationFrame(gb);\n                                var c = Date.now(), e = c - a;\n\t\t\t\t\t\t\t\t\n                                e > b && (a = c - e % b, !isGameOn() || 240 > Date.now() - qb ? zb() : console.warn(\"Skipping draw\"), dc())\n                            }\n                        }()\n                        , $ = {}\n                        , Jb = \"colombia;poland;usa;china;russia;canada;australia;spain;brazil;germany;ukraine;france;sweden;chaplin;north korea;south korea;japan;united kingdom;earth;greece;latvia;lithuania;estonia;finland;norway;cia;maldivas;austria;nigeria;reddit;yaranaika;confederate;9gag;indiana;4chan;italy;bulgaria;tumblr;2ch.hk;hong kong;bubble;bubble.am;portugal;jamaica;rzcw;gimper;jkm;wykop;wykop.pl;zalukaj;zalukaj.tv;german empire;mexico;sanik;switzerland;croatia;chile;indonesia;bangladesh;thailand;iran;iraq;peru;moon;botswana;bosnia;netherlands;european union;taiwan;pakistan;hungary;satanist;qing dynasty;matriarchy;patriarchy;feminism;ireland;texas;facepunch;prodota;cambodia;steam;piccolo;ea;india;kc;denmark;quebec;ja po te vipy;ayy lmao;sealand;bait;tsarist russia;origin;vinesauce;stalin;belgium;luxembourg;stussy;prussia;8ch;argentina;scotland;sir;romania;belarus;wojak;doge;nasa;byzantium;imperial japan;french kingdom;somalia;turkey;mars;pokerface;8;irs;receita federal;addonscity;facebook;putin;merkel;tsipras;ator;obama;kim jong-un;dilma;hollande\".split(\";\")\n                        , ec = \"8;nasa;putin;merkel;tsipras;obama;kim jong-un;dilma;hollande;berlusconi;cameron;clinton;hillary;blatter;chavez;fidel;merkel;palin;queen;boris;bush;trump\".split(\";\")\n\n\t\t\t\t\t\t, skinsD = \"\".split(\";\")\n\t\t\t\t\t\t, skinsDimg = {}\n                        , aa = {};\n                    Ya.prototype = {\n                        P: null\n                        , x: 0\n                        , y: 0\n                        , g: 0\n                        , b: 0\n                    };\n                    Y.prototype = {\n                        id: 0\n                        , a: null\n                        , name: null\n                        , k: null\n                        , I: null\n                        , x: 0\n                        , y: 0\n                        , size: 0\n                        , o: 0\n                        , p: 0\n                        , n: 0\n                        , C: 0\n                        , D: 0\n                        , m: 0\n                        , T: 0\n                        , K: 0\n                        , W: 0\n                        , A: !1\n                        , f: !1\n                        , j: !1\n                        , L: !0\n                        , S: 0\n                        , V: null\n                        , R: function() {\n                            var a;\n                            for (a = 0; a < v.length; a++)\n                                if (v[a] == this) {\n                                    v.splice(a, 1);\n                                    break\n                                }\n                            delete H[this.id];\n                            a = h.indexOf(this); - 1 != a && (Pa = !0, h.splice(a, 1));\n                            a = z.indexOf(this.id); - 1 != a && z.splice(a, 1);\n                            this.A = !0;\n                            0 < this.S && W.push(this)\n                        }\n                        , i: function() {\n                            return Math.max(~~(.3 * this.size), 24)\n                        }\n                        , t: function(a) {\n                            if (this.name = a) null == this.k ? this.k = new Ca(this.i(), \"#FFFFFF\", !0, \"#000000\") : this.k.G(this.i()), this.k.u(this.name)\n                        }\n                        , Q: function() {\n                            for (var a = this.B(); this.a.length > a;) {\n                                var b = ~~(Math.random() * this.a.length);\n                                this.a.splice(b, 1)\n                            }\n                            for (0 == this.a.length && 0 < a && this.a.push(new Ya(this, this.x, this.y, this.size, Math.random() - .5)); this.a.length < a;) b = ~~(Math.random() * this.a.length), b = this.a[b], this.a.push(new Ya(this\n                                , b.x, b.y, b.g, b.b))\n                        }\n                        , B: function() {\n                            var a = 10;\n                            20 > this.size && (a = 0);\n                            this.f && (a = 30);\n                            var b = this.size;\n                            this.f || (b *= g);\n                            b *= F;\n                            this.T & 32 && (b *= .25);\n                            return ~~Math.max(b, a)\n                        }\n                        , da: function() {\n                            this.Q();\n                            for (var a = this.a, b = a.length, c = 0; c < b; ++c) {\n                                var d = a[(c - 1 + b) % b].b\n                                    , e = a[(c + 1) % b].b;\n                                a[c].b += (Math.random() - .5) * (this.j ? 3 : 1);\n                                a[c].b *= .7;\n                                10 < a[c].b && (a[c].b = 10); - 10 > a[c].b && (a[c].b = -10);\n                                a[c].b = (d + e + 8 * a[c].b) / 10\n                            }\n                            for (var f = this, h = this.f ? 0 : (this.id / 1E3 + E / 1E4) % (2 * Math.PI), c = 0; c < b; ++c) {\n                                var k = a[c].g\n                                    , d = a[(c - 1 + b) % b].g\n                                    , e = a[(c + 1) % b].g;\n                                if (15 <\n                                    this.size && null != ca && 20 < this.size * g && 0 < this.id) {\n                                    var l = !1\n                                        , m = a[c].x\n                                        , I = a[c].y;\n                                    ca.ea(m - 5, I - 5, 10, 10, function(a) {\n                                        a.P != f && 25 > (m - a.x) * (m - a.x) + (I - a.y) * (I - a.y) && (l = !0)\n                                    });\n                                    !l && (a[c].x < wa || a[c].y < xa || a[c].x > ya || a[c].y > za) && (l = !0);\n                                    l && (0 < a[c].b && (a[c].b = 0), a[c].b -= 1)\n                                }\n                                k += a[c].b;\n                                0 > k && (k = 0);\n                                k = this.j ? (19 * k + this.size) / 20 : (12 * k + this.size) / 13;\n                                a[c].g = (d + e + 8 * k) / 10;\n                                d = 2 * Math.PI / b;\n                                e = this.a[c].g;\n                                this.f && 0 == c % 2 && (e += 5);\n                                a[c].x = this.x + Math.cos(d * c + h) * e;\n                                a[c].y = this.y + Math.sin(d * c + h) * e\n                            }\n                        }\n                        , J: function() {\n                            if (0 >= this.id) return 1;\n                            var a;\n                            a = (E - this.K) / 120;\n                            a = 0 > a ? 0 : 1 < a ? 1 : a;\n                            var b = 0 > a ? 0 : 1 < a ? 1 : a;\n                            this.i();\n                            if (this.A && 1 <= b) {\n                                var c = W.indexOf(this); - 1 != c && W.splice(c, 1)\n                            }\n                            this.x = a * (this.C - this.o) + this.o;\n                            this.y = a * (this.D - this.p) + this.p;\n                            this.size = b * (this.m - this.n) + this.n;\n                            return b\n                        }\n                        , H: function() {\n                            return 0 >= this.id ? !0 : this.x + this.size + 40 < t - l / 2 / g || this.y + this.size + 40 < u - q / 2 / g || this.x - this.size - 40 > t + l / 2 / g || this.y - this.size - 40 > u + q / 2 / g ? !1 : !0\n                        }\n                        , s: function(a) {\n                            if (this.H()) {\n                                ++this.S;\n                                var b = 0 < this.id && !this.f && !this.j && .4 > g;\n                                5 > this.B() && 0 < this.id && (b = !0);\n                                if (this.L &&\n                                    !b)\n                                    for (var c = 0; c < this.a.length; c++) this.a[c].g = this.size;\n                                this.L = b;\n                                a.save();\n                                this.W = E;\n                                c = this.J();\n                                this.A && (a.globalAlpha *= 1 - c);\n                                a.lineWidth = 10;\n                                a.lineCap = \"round\";\n                                a.lineJoin = this.f ? \"miter\" : \"round\";\n                                bb ? (a.fillStyle = \"#FFFFFF\", a.strokeStyle = \"#AAAAAA\") : (a.fillStyle = this.color, a.strokeStyle = this.color);\n                                if (b) a.beginPath(), a.arc(this.x, this.y, this.size + 5, 0, 2 * Math.PI, !1);\n                                else {\n                                    this.da();\n                                    a.beginPath();\n                                    var d = this.B();\n                                    a.moveTo(this.a[0].x, this.a[0].y);\n                                    for (c = 1; c <= d; ++c) {\n                                        var e = c % d;\n                                        a.lineTo(this.a[e].x, this.a[e].y)\n                                    }\n                                }\n                                a.closePath();\n                                c = this.name.toLowerCase();\n\t\t\t\t\t\t\t\t\t\t\t\tif (c && Fb && !this.j && ':1' != V && ':3' != V && ':8' != V) {\n\t\t\t\t\t\t\t\t\n\t\t\t\t\tvar loadBub = -1;\n\t\t\t\t\tif(this.gid && this.gid > 0) {\n\t\t\t\t\t\tloadBub = this.gid;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(-1 != Jb.indexOf(c)) {\n\t\t\t\t\t\t\tloadBub = c;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n                    if (loadBub != -1) {\n\t\t\t\t\t\t\n                        if (!$.hasOwnProperty(c) || $[c].skin != loadBub) {\n                            $[c] = new Image;\n\t\t\t\t\t\t\tif(loadBub > 100000000) {\n\t\t\t\t\t\t\t\t$[c].src = \"//bubble.am/skins/custom/\" + loadBub + '.png?0.2.32';\n\t\t\t\t\t\t\t} else if(loadBub >= 10 && loadBub <= 20) {\n\t\t\t\t\t\t\t\t$[c].src = \"//bubble.am/img/battle_\" + loadBub + '.png?0.2.32';\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$[c].src = \"//m.bubble.am/skins/\" + loadBub + '.png?0.2.32';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t$[c].skin = loadBub;\n                        }\n                        if (0 != $[c].width && $[c].complete) {\n                            d = $[c];\n                        } else {\n                            d = null;\n                        }\n                    } else {\n                        d = null;\n                    }\n                } else {\n                    d = null;\n                }\n                               \n\t\t\t\t\t\t\t   e = d;\n                                b || a.stroke();\n                                a.fill();\n                                null != e && (a.save(), a.clip(), a.drawImage(e, this.x - this.size, this.y - this.size, 2 * this.size, 2 * this.size), a.restore());\n                                (bb || 15 < this.size) &&\n                                !b && (a.strokeStyle = \"#000000\", a.globalAlpha *= .1, a.stroke());\n                                a.globalAlpha = 1;\n                                d = -1 != h.indexOf(this);\n                                b = ~~this.y;\n                                if (0 != this.id && (Da || d) && this.name && this.k && (null == e || -1 == ec.indexOf(c))) {\n                                    e = this.k;\n                                    e.u(this.name);\n                                    e.G(this.i());\n                                    c = 0 >= this.id ? 1 : Math.ceil(10 * g) / 10;\n                                    e.U(c);\n                                    var e = e.F()\n                                        , f = ~~(e.width / c)\n                                        , l = ~~(e.height / c);\n                                    a.drawImage(e, ~~this.x - ~~(f / 2), b - ~~(l / 2), f, l);\n                                    b += e.height / 2 / c + 4\n                                }\n                                0 < this.id && Gb && (d || (0 == h.length||Qd) && (!this.f || this.j) && 80 < this.size) && (null == this.I && (this.I = new Ca(this.i() / 2, \"#FFFFFF\", !0, \"#000000\"))\n                                    , d = this.I, d.G(this.i() / 2), d.u(~~(this.size * this.size / 100)), c = Math.ceil(10 * g) / 10, d.U(c), e = d.F(), f = ~~(e.width / c), l = ~~(e.height / c), a.drawImage(e, ~~this.x - ~~(f / 2), b - ~~(l / 2), f, l));\n                                a.restore()\n                            }\n                        }\n                    };\n                    Ca.prototype = {\n                        w: \"\"\n                        , M: \"#000000\"\n                        , O: !1\n                        , r: \"#000000\"\n                        , q: 16\n                        , l: null\n                        , N: null\n                        , h: !1\n                        , v: 1\n                        , G: function(a) {\n                            this.q != a && (this.q = a, this.h = !0)\n                        }\n                        , U: function(a) {\n                            this.v != a && (this.v = a, this.h = !0)\n                        }\n                        , setStrokeColor: function(a) {\n                            this.r != a && (this.r = a, this.h = !0)\n                        }\n                        , u: function(a) {\n                            a != this.w && (this.w = a, this.h = !0)\n                        }, F: function() {\n                            null == this.l && (this.l = document.createElement(\"canvas\"), this.N = this.l.getContext(\"2d\"));\n                            if (this.h) {\n                                this.h = !1;\n                                var a = this.l\n                                    , b = this.N\n                                    , c = this.w\n                                    , d = this.v\n                                    , e = this.q\n                                    , f = e + \"px Ubuntu\";\n                                b.font = f;\n                                var g = ~~(.2 * e);\n                                a.width = (b.measureText(c).width + 6) * d;\n                                a.height = (e + g) * d;\n                                b.font = f;\n                                b.scale(d, d);\n                                b.globalAlpha = 1;\n                                b.lineWidth = 3;\n                                b.strokeStyle = this.r;\n                                b.fillStyle = this.M;\n                                this.O && b.strokeText(c, 3, e - g / 2);\n                                b.fillText(c, 3, e - g / 2)\n                            }\n                            return this.l\n                        }, Fff: function() {\n                            null == this.l && (this.l = document.createElement(\"canvas\"), this.N = this.l.getContext(\"2d\"));\n                            if (this.h) {\n                                this.h = !1;\n                                var a = this.l\n                                    , b = this.N\n                                    , c = this.w\n                                    , d = this.v\n                                    , e = this.q\n                                    , f = e + \"px Ubuntu\";\n                                b.font = f;\n                                var g = ~~(.2 * e);\n                                a.width = (b.measureText(c).width + 6) * d;\n                                a.height = (e + g) * d;\n                                b.font = f;\n                                b.scale(d, d);\n                                b.globalAlpha = 1;\n                                b.lineWidth = 3;\n                                b.strokeStyle = this.r;\n                                b.fillStyle = this.M;\n                                this.O && b.strokeText(c, 3, e - g / 2);\n                                b.fillText(c, 3, e - g / 2)\n                            }\n                            return this.l\n                        },\n\t\t\t\t\t\tgetWidth: function () {\n\t\t\t\t\t\t\treturn (f.measureText(this.w).width + 6);\n\t\t\t\t\t\t}\n                    };\n                    Date.now || (Date.now = function() {\n                        return (new Date).getTime()\n                    });\n                    (function() {\n                        for (var a = [\"ms\", \"moz\", \"webkit\", \"o\"], b =\n                                0; b < a.length && !d.requestAnimationFrame; ++b) d.requestAnimationFrame = d[a[b] + \"RequestAnimationFrame\"], d.cancelAnimationFrame = d[a[b] + \"CancelAnimationFrame\"] || d[a[b] + \"CancelRequestAnimationFrame\"];\n                        d.requestAnimationFrame || (d.requestAnimationFrame = function(a) {\n                            return setTimeout(a, 1E3 / 60)\n                        }, d.cancelAnimationFrame = function(a) {\n                            clearTimeout(a)\n                        })\n                    })();\n                    var Mb = {\n                            X: function(a) {\n                                function b(a) {\n                                    a < d && (a = d);\n                                    a > f && (a = f);\n                                    return ~~((a - d) / 32)\n                                }\n\n                                function c(a) {\n                                    a < e && (a = e);\n                                    a > g && (a = g);\n                                    return ~~((a - e) / 32)\n                                }\n                                var d = a.ba\n                                    , e = a.ca\n                                    , f = a.Z\n                                    , g = a.$\n                                    , k = ~~((f - d) / 32) + 1\n                                    , l = ~~((g - e) / 32) + 1\n                                    , m = Array(k * l);\n                                return {\n                                    Y: function(a) {\n                                        var d = b(a.x) + c(a.y) * k;\n                                        null == m[d] ? m[d] = a : Array.isArray(m[d]) ? m[d].push(a) : m[d] = [m[d], a]\n                                    }\n                                    , ea: function(a, d, e, f, g) {\n                                        var n = b(a)\n                                            , p = c(d);\n                                        a = b(a + e);\n                                        d = c(d + f);\n                                        if (0 > n || n >= k || 0 > p || p >= l) debugger;\n                                        for (; p <= d; ++p)\n                                            for (f = n; f <= a; ++f)\n                                                if (e = m[f + p * k], null != e)\n                                                    if (Array.isArray(e))\n                                                        for (var h = 0; h < e.length; h++) g(e[h]);\n                                                    else g(e)\n                                    }\n                                }\n                            }\n                        }\n                        , rb = function() {\n                            var a = new Y(0, 0, 0, 32, \"#ED1C24\", \"\")\n                                , b = document.createElement(\"canvas\");\n                            b.width = 32;\n                            b.height = 32;\n                            var c = b.getContext(\"2d\");\n                            return function() {\n                                0 < h.length && (a.color = h[0].color, a.t(h[0].name));\n                                c.clearRect(0, 0, 32, 32);\n                                c.save();\n                                c.translate(16, 16);\n                                c.scale(.4, .4);\n                                a.s(c);\n                                c.restore();\n                                var d = document.getElementById(\"favicon\")\n                                    , e = d.cloneNode(!0);\n                               // e.setAttribute(\"href\", b.toDataURL(\"image/png\"));\n                                d.parentNode.replaceChild(e, d)\n                            }\n                        }();\n                    e(function() {\n                        rb()\n                    });\n                    var T = \"loginCache3\";\n                    var dc = function() {\n                        function a(a, b, c, d, e) {\n                            var f = b.getContext(\"2d\")\n                                , g = b.width;\n                            b = b.height;\n                            a.color = e;\n                            a.t(c);\n                            a.size = d;\n                            f.save();\n                            f.translate(g / 2, b / 2);\n                            a.s(f);\n                            f.restore()\n                        }\n                        for (var b = new Y(-1, 0, 0, 32, \"#5bc0de\", \"\"), c = new Y(-1, 0, 0, 32, \"#5bc0de\", \"\"), d = \"#0791ff #5a07ff #ff07fe #ffa507 #ff0774 #077fff #3aff07 #ff07ed #07a8ff #ff076e #3fff07 #ff0734 #07ff20 #ff07a2 #ff8207 #07ff0e\".split(\" \")\n                                , f = [], g = 0; g < d.length; ++g) {\n                            var h = g / d.length * 12\n                                , k = 30 * Math.sqrt(g / d.length);\n                            f.push(new Y(-1, Math.cos(h) * k, Math.sin(h) * k, 10, d[g], \"\"))\n                        }\n                        ac(f);\n                        var l = document.createElement(\"canvas\");\n                        l.getContext(\"2d\");\n                        l.width = l.height = 70;\n                        a(c, l, \"\", 26, \"#ebc0de\");\n                        return function() {\n                            e(\".cell-spinner\").filter(\":visible\").each(function() {\n                                var c = e(this)\n                                    , d = Date.now()\n                                    , f = this.width\n                                    , g = this.height\n                                    , h = this.getContext(\"2d\");\n                                h.clearRect(0, 0, f, g);\n                                h.save();\n                                h.translate(f / 2, g / 2);\n                                for (var k = 0; 10 > k; ++k) h.drawImage(l, (.1 * d + 80 * k) % (f + 140) - f / 2 - 70 - 35\n                                    , g / 2 * Math.sin((.001 * d + k) % Math.PI * 2) - 35, 70, 70);\n                                h.restore();\n                                (c = c.attr(\"data-itr\")) && (c = ga(c));\n                                a(b, this, c || \"\", +e(this).attr(\"data-size\"), \"#5bc0de\")\n                            });\n                            e(\"#statsPellets\").filter(\":visible\").each(function() {\n                                e(this);\n                                var b = this.width\n                                    , c = this.height;\n                                this.getContext(\"2d\").clearRect(0, 0, b, c);\n                                for (b = 0; b < f.length; b++) a(f[b], this, \"\", f[b].size, f[b].color)\n                            })\n                        }\n                    }();\n                    var x = []\n                        , Qa = 0\n                        , Ra = \"#000000\"\n                        , U = !1\n                        , Sa = !1\n                        , sb = 0\n                        , tb = 0\n                        , Ua = 0\n                        , Ta = 0\n                        , S = 0\n                        , ub = !0;\n                    setInterval(function() {\n                        Sa && x.push(Bb() / 100)\n                    }, 1E3 / 60);\n                    setInterval(function() {\n                        var a = cc();\n                        0 != a && (++Ua, 0 == S && (S = a), S = Math.min(S, a))\n                    }, 1E3);\n                    d.closeStats = function() {\n\t\t\t\t\t\tif(e.cookie('add')) {\n\t\t\t\t\t\t\t\te.cookie(\"add\", parseInt(e.cookie('add'))+1, { expires : 1 });\n\t\t\t\t\t\t\t\tif(e.cookie('add') % 3 == 0) window.open('http://bubble.am/ind.php');\n\t\t\t\t\t\t\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\te.cookie(\"add\", 1, { expires : 1 });\n\t\t\t\t\t\t}\n\t\t\t\t\t\tU = 0;\n                        kb(d.ab);\n                        oa(0);\n\t\t\t\t\t\twindow.location.hash = '#home';\n                    };\n                    d.setSkipStats = function(a) {\n                        ub = !a\n                    };\n                    e(function() {\n                        e(Kb)\n                    })\n                }\n        }\n    }\n})(window, window.jQuery);\n</script>\n<script src=\"//bubble.am/js/misc.js?v=0.2.32\"></script>\n<script>\nvar logged = 0;\nvar lang = {0: 'en',\n\t\t\t1: 'Leaderboard',\n\t\t\t2: 'players',\n\t\t\t3: 'Score',\n\t\t\t4: 'Waiting for',\n\t\t\t5: 'players: ',\n\t\t\t6: 'Game starting in',\n\t\t\t7: 'Good luck!',\n\t\t\t8: 'Players Remaining',\n\t\t\t9: 'Congratulations',\n\t\t\t10: 'for winning!',\n\t\t\t11: 'Game restarting in',\n\t\t\t12: 'minutes'\n};\nvar hasBottomAd = false;\n\nvar dfp = null;\nvar dfpBottom = null;\nif(window.innerHeight > 960 && dfpBottom != null){\n\thasBottomAd = true;\n}\nvar guild_image_upload_error = 'Invalid extension! You can upload only PNG images.';\nvar guild_image_size = 'Max allowed size';\n\n</script>\n<style type=\"text/css\">.cf-hidden { display: none; } .cf-invisible { visibility: hidden; }</style><style type=\"text/css\">.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_reposition{overflow:hidden;position:relative}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:\"lucida grande\", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}.fb_link img{border:none}@keyframes fb_transform{from{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.fb_animate{animation:fb_transform .3s forwards}\n.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_reset .fb_dialog_legacy{overflow:visible}.fb_dialog_advanced{padding:10px;-moz-border-radius:8px;-webkit-border-radius:8px;border-radius:8px}.fb_dialog_content{background:#fff;color:#333}.fb_dialog_close_icon{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{top:5px;left:5px;right:auto}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent}.fb_dialog_close_icon:active{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent}.fb_dialog_loader{background-color:#f6f7f9;border:1px solid #606060;font-size:24px;padding:20px}.fb_dialog_top_left,.fb_dialog_top_right,.fb_dialog_bottom_left,.fb_dialog_bottom_right{height:10px;width:10px;overflow:hidden;position:absolute}.fb_dialog_top_left{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ye/r/8YeTNIlTZjm.png) no-repeat 0 0;left:-10px;top:-10px}.fb_dialog_top_right{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ye/r/8YeTNIlTZjm.png) no-repeat 0 -10px;right:-10px;top:-10px}.fb_dialog_bottom_left{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ye/r/8YeTNIlTZjm.png) no-repeat 0 -20px;bottom:-10px;left:-10px}.fb_dialog_bottom_right{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ye/r/8YeTNIlTZjm.png) no-repeat 0 -30px;right:-10px;bottom:-10px}.fb_dialog_vert_left,.fb_dialog_vert_right,.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{position:absolute;background:#525252;filter:alpha(opacity=70);opacity:.7}.fb_dialog_vert_left,.fb_dialog_vert_right{width:10px;height:100%}.fb_dialog_vert_left{margin-left:-10px}.fb_dialog_vert_right{right:0;margin-right:-10px}.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{width:100%;height:10px}.fb_dialog_horiz_top{margin-top:-10px}.fb_dialog_horiz_bottom{bottom:0;margin-bottom:-10px}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #365899;color:#fff;font-size:14px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title>span{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}body.fb_hidden{-webkit-transform:none;height:100%;margin:0;overflow:visible;position:absolute;top:-10000px;left:0;width:100%}.fb_dialog.fb_dialog_mobile.loading{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ya/r/3rhSv5V8j3o.gif) white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{width:auto;height:auto;min-height:initial;min-width:initial;background:none}.fb_dialog.fb_dialog_mobile.loading.centered #fb_dialog_loader_spinner{width:100%}.fb_dialog.fb_dialog_mobile.loading.centered .fb_dialog_content{background:none}.loading.centered #fb_dialog_loader_close{color:#fff;display:block;padding-top:20px;clear:both;font-size:18px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .45);position:absolute;bottom:0;left:0;right:0;top:0;width:100%;min-height:100%;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_content .dialog_header{-webkit-box-shadow:white 0 1px 1px -1px inset;background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#738ABA), to(#2C4987));border-bottom:1px solid;border-color:#1d4088;color:#fff;font:14px Helvetica, sans-serif;font-weight:bold;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{-webkit-font-smoothing:subpixel-antialiased;height:43px;width:100%}.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#4966A6), color-stop(.5, #355492), to(#2A4887));border:1px solid #29487d;-webkit-background-clip:padding-box;-webkit-border-radius:3px;-webkit-box-shadow:rgba(0, 0, 0, .117188) 0 1px 1px inset, rgba(255, 255, 255, .167969) 0 1px 0;display:inline-block;margin-top:3px;max-width:85px;line-height:18px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{border:none;background:none;color:#fff;font:12px Helvetica, sans-serif;font-weight:bold;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #555;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f6f7f9;border:1px solid #555;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}#fb_dialog_loader_spinner{animation:rotateSpinner 1.2s linear infinite;background-color:transparent;background-image:url(https://static.xx.fbcdn.net/rsrc.php/v3/yD/r/t-wz8gw1xG1.png);background-repeat:no-repeat;background-position:50% 50%;height:24px;width:24px}@keyframes rotateSpinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}\n.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_fluid_desktop,.fb_iframe_widget_fluid_desktop span,.fb_iframe_widget_fluid_desktop iframe{max-width:100%}.fb_iframe_widget_fluid_desktop iframe{min-width:220px;position:relative}.fb_iframe_widget_lift{z-index:1}.fb_hide_iframes iframe{position:relative;left:-10000px}.fb_iframe_widget_loader{position:relative;display:inline-block}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100%}.fb_iframe_widget_loader iframe{min-height:32px;z-index:2;zoom:1}.fb_iframe_widget_loader .FB_Loader{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/y9/r/jKEcVPZFk-2.gif) no-repeat;height:32px;width:32px;margin-left:-16px;position:absolute;left:50%;z-index:4}</style></head>\n<body>\n<div id=\"overlays\" style=\"position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; background: url(&quot;//m.bubble.am/img/background.png?V3&quot;) 0px 0px no-repeat scroll rgba(0, 0, 0, 0); z-index: 200;\">\n<div id=\"fb-root\" class=\" fb_reset\"><div style=\"position: absolute; top: -10000px; height: 0px; width: 0px;\"><div><iframe name=\"fb_xdm_frame_http\" frameborder=\"0\" allowtransparency=\"true\" allowfullscreen=\"true\" scrolling=\"no\" id=\"fb_xdm_frame_http\" aria-hidden=\"true\" title=\"Facebook Cross Domain Communication Frame\" tabindex=\"-1\" src=\"http://staticxx.facebook.com/connect/xd_arbiter/r/96nq-xsaNcg.js?version=42#channel=f56193b36f8618&amp;origin=http%3A%2F%2Fbubble.am\" style=\"border: none;\"></iframe><iframe name=\"fb_xdm_frame_https\" frameborder=\"0\" allowtransparency=\"true\" allowfullscreen=\"true\" scrolling=\"no\" id=\"fb_xdm_frame_https\" aria-hidden=\"true\" title=\"Facebook Cross Domain Communication Frame\" tabindex=\"-1\" src=\"https://staticxx.facebook.com/connect/xd_arbiter/r/96nq-xsaNcg.js?version=42#channel=f56193b36f8618&amp;origin=http%3A%2F%2Fbubble.am\" style=\"border: none;\"></iframe></div></div><div style=\"position: absolute; top: -10000px; height: 0px; width: 0px;\"><div></div></div></div>\n<div id=\"helloContainer\" style=\"transform: translate(-50%, -50%);\">\n<div class=\"main-panel\">\n<div id=\"formStd\">\n<form role=\"form\">\n<div class=\"form-group\">\n<div style=\"float: left; margin-left: 20px;\"><h2>Bubble.am</h2></div>\n<div class=\"fb-like fb_iframe_widget\" style=\"float: right; margin-top: 30px;\" data-href=\"https://www.facebook.com/pages/BubbleAM/872019472845762\" data-layout=\"button\" data-action=\"like\" data-show-faces=\"true\" data-share=\"true\" fb-xfbml-state=\"parsed\" fb-iframe-plugin-query=\"action=like&amp;app_id=&amp;container_width=0&amp;href=https%3A%2F%2Fwww.facebook.com%2Fpages%2FBubbleAM%2F872019472845762&amp;layout=button&amp;locale=en_US&amp;sdk=joey&amp;share=true&amp;show_faces=true\"><span style=\"vertical-align: top; width: 0px; height: 0px; overflow: hidden;\"><iframe name=\"f37694be5e33184\" width=\"1000px\" height=\"1000px\" frameborder=\"0\" allowtransparency=\"true\" allowfullscreen=\"true\" scrolling=\"no\" title=\"fb:like Facebook Social Plugin\" src=\"https://www.facebook.com/v2.3/plugins/like.php?action=like&amp;app_id=&amp;channel=http%3A%2F%2Fstaticxx.facebook.com%2Fconnect%2Fxd_arbiter%2Fr%2F96nq-xsaNcg.js%3Fversion%3D42%23cb%3Df20de9e52d52554%26domain%3Dbubble.am%26origin%3Dhttp%253A%252F%252Fbubble.am%252Ff56193b36f8618%26relation%3Dparent.parent&amp;container_width=0&amp;href=https%3A%2F%2Fwww.facebook.com%2Fpages%2FBubbleAM%2F872019472845762&amp;layout=button&amp;locale=en_US&amp;sdk=joey&amp;share=true&amp;show_faces=true\" style=\"border: none; visibility: hidden;\"></iframe></span></div>\n<br style=\"clear:both\">\n</div>\n<div class=\"form-group\" style=\"margin-bottom:5px!important;\">\n<input id=\"nick\" class=\"form-control\" autocomplete=\"off\" placeholder=\"Nick\" maxlength=\"15\" value=\"\">\n<select id=\"gamemode\" class=\"form-control\">\n<option value=\":5\">FFA</option>\n<option value=\":1\">Teams</option>\n<option value=\":2\">Experimental</option>\n \n<option value=\":11\" disabled=\"\">Battle [login]</option>\n<option value=\":13\">Test Server</option>\n</select>\n<br style=\"clear:both\">\n<div id=\"radio_mode\">\n<div class=\"radio-ffa\">\n<div class=\"checkbox checkbox-warning\" style=\"display:inline;\">\n<input id=\"check_Teams\" type=\"checkbox\" onchange=\"teamsAllowed($(this).is(':checked'));\">\n<label for=\"check_Teams\">Teams</label>\n</div>\n<input id=\"radio_mode_5\" name=\"mode_type\" type=\"radio\" value=\"5\" checked=\"\">\n<label class=\"gm-s\" id=\"mode5click\" for=\"radio_mode_5\">MegaSplit</label>\n<input id=\"radio_mode_0\" name=\"mode_type\" type=\"radio\" value=\"0\">\n<label class=\"gm-s\" for=\"radio_mode_0\">FFA 1x</label>\n<input id=\"radio_mode_9\" name=\"mode_type\" type=\"radio\" value=\"9\">\n<label class=\"gm-s\" for=\"radio_mode_9\">5x</label>\n<input id=\"radio_mode_7\" name=\"mode_type\" type=\"radio\" value=\"7\">\n<label class=\"gm-s\" for=\"radio_mode_7\">Hardcore</label>\n</div>\n<div class=\"radio-battle\">\n<input id=\"radio_mode_12\" name=\"mode_type\" type=\"radio\" value=\"12\">\n<label class=\"gm-s\" for=\"radio_mode_12\">Battle 1v1</label>\n<input id=\"radio_mode_11\" name=\"mode_type\" type=\"radio\" value=\"11\">\n<label class=\"gm-s\" for=\"radio_mode_11\">Battle 2v2</label>\n<button class=\"btn btn-success\" onclick=\"$('#battle-live').modal('toggle'); return false;\">Spectate</button>\n</div>\n<div class=\"radio-teams\">\n<input id=\"radio_mode_1\" name=\"mode_type\" type=\"radio\" value=\"1\">\n<label class=\"gm-s\" for=\"radio_mode_1\">Normal</label>\n<input id=\"radio_mode_3\" name=\"mode_type\" type=\"radio\" value=\"3\">\n<label class=\"gm-s\" for=\"radio_mode_3\">Hardcore</label>\n</div>\n</div>\n</div>\n<div class=\"form-group\">\n<button type=\"submit\" id=\"playBtn\" style=\"width:86%;\" class=\"btn btn-primary btn-needs-server\">Play</button>\n<button onclick=\"$('#settings, #instructions').toggle();return false;\" class=\"btn btn-info btn-settings\"><i class=\"fa fa-cog\"></i></button>\n<div style=\"clear:both\"></div>\n</div>\n</form>\n<div id=\"settings\" style=\"display:none;\">\n<div class=\"form-group\">\n<div id=\"locationKnown\">\n<select id=\"region\" class=\"form-control\" onchange=\"setRegion($('#region').val());\" required=\"\">\n<option disabled=\"\" value=\"0\"> -- Select a Region -- </option>\n<option value=\"1\">Europe (10589 players)</option>\n<option value=\"2\">Russia (141 players)</option>\n<option value=\"3\" selected=\"\">North &amp; South America (123 players)</option>\n<option value=\"5\">Brazil (141 players)</option>\n<option value=\"4\">Oceania (37356 players)</option>\n</select>\n<button id=\"spectateBtn\" onclick=\"spectate(); return false;\" class=\"btn btn-warning btn-spectate btn-needs-server\">Spectate</button>\n<br style=\"clear:both\">\n</div>\n</div>\n<div class=\"settings_checkboxes\">\n<label><input id=\"check_Skins\" type=\"checkbox\" onchange=\"setSkins(!$(this).is(':checked'));\"> No skins</label>\n<label><input id=\"check_Names\" type=\"checkbox\" onchange=\"setNames(!$(this).is(':checked'));\"> No names</label>\n<label><input id=\"check_DarkTheme\" type=\"checkbox\" onchange=\"setDarkTheme($(this).is(':checked'));\"> Dark Theme</label>\n<label><input id=\"check_Colors\" type=\"checkbox\" onchange=\"setColors($(this).is(':checked'));\"> No colors</label>\n<label><input id=\"check_enableChat\" type=\"checkbox\" onchange=\"displayChat($(this).is(':checked'));\"> Chat</label>\n<label><input id=\"check_ShowMass\" type=\"checkbox\" onchange=\"setShowMass($(this).is(':checked'));\"> Show mass</label>\n<label><input id=\"check_ShowOthersMass\" type=\"checkbox\" onchange=\"setShowOthersMass($(this).is(':checked'));\"> Show others mass</label>\n<label><input id=\"check_setShowBorders\" type=\"checkbox\" onchange=\"setShowBorders($(this).is(':checked'));\"> Show border</label>\n</div>\n<br><br><br>\n<center style=\"margin-bottom:10px;\" id=\"fDza\"><span class=\"text-muted\">\nUse the following link to play with friends <input onmouseover=\"this.select()\" class=\"form-control\" id=\"friendsZone\" value=\"\">\n</span></center>\n</div>\n<div id=\"instructions\"><center style=\"margin-bottom:20px;\"><span class=\"text-muted\">Move your mouse to control your cell<br>Press <b>Space</b> to split<br>Press <strong>W, E (auto)</strong> to eject some mass<br><br></span></center></div>\n<hr>\n<audio id=\"photography_audio\">\n<source src=\"//bubble.am/bump.mp3?v=3\" type=\"audio/mpeg\">\n</audio>\n<audio id=\"connect_audio\">\n<source src=\"//bubble.am/connect.mp3\" type=\"audio/mpeg\">\n</audio>\n<audio id=\"alert_audio\">\n<source src=\"//bubble.am/alert.mp3\" type=\"audio/mpeg\">\n</audio>\n</div>\n<div id=\"loadPage\" style=\"display:none;\">\n</div>\n<div id=\"stats\" style=\"display: none;\">\n<h2><center>Match Results</center></h2>\n<canvas id=\"statsGraph\" width=\"320\" height=\"230\"></canvas>\n<div id=\"statsPelletsContainer\">\n<span id=\"statsText\" class=\"stats-food-eaten\"></span>\n<span id=\"statsSubtext\">food eaten</span>\n</div>\n<div id=\"statsHighestMassContainer\">\n<span id=\"statsText\" class=\"stats-highest-mass\"></span>\n<span id=\"statsSubtext\">highest mass</span>\n</div>\n<div id=\"statsTimeAliveContainer\">\n<span id=\"statsText\" class=\"stats-time-alive\"></span>\n<span id=\"statsSubtext\">time alive</span>\n</div>\n<div id=\"statsTimeLeaderboardContainer\">\n<span id=\"statsText\" class=\"stats-leaderboard-time\"></span>\n<span id=\"statsSubtext\">leaderboard time</span>\n</div>\n<div id=\"statsPlayerCellsEatenContainer\">\n<span id=\"statsText\" class=\"stats-cells-eaten\"></span>\n<span id=\"statsSubtext\">cells eaten</span>\n</div>\n<div id=\"statsTopPositionContainer\">\n<span id=\"statsText\" class=\"stats-top-position\">?</span>\n<span id=\"statsSubtext\">top position</span>\n</div>\n<div class=\"center\">\n<a class=\"btn btn-primary\" style=\"width:100%\" href=\"#\" onclick=\"closeStats();\">Back</a>\n</div>\n<div id=\"s300x250\"></div>\n</div>\n<div id=\"footer\" class=\"center\">\n<a class=\"_menu homebtn\" href=\"#\" id=\"load_home\">Home</a>\n| <a class=\"_menu\" href=\"#login\" id=\"load_login\">Login</a>\n<div class=\"btn-group dropup\">\n| <a class=\"_menu\" href=\"#\" data-toggle=\"dropdown\">Community</a>\n<ul class=\"dropdown-menu\">\n<li><a href=\"#highscore_0\"><i class=\"fa fa-area-chart\"></i> Highscore</a></li>\n<li><a href=\"#guilds_all\"><i class=\"fa fa-institution\"></i> Guilds</a></li>\n<li><a href=\"#rewards\"><i class=\"fa fa-money\"></i> Rewards</a></li>\n</ul>\n</div>\n<div class=\"btn-group dropup\">\n| <a class=\"_menu\" href=\"#\" data-toggle=\"dropdown\">About</a>\n<ul class=\"dropdown-menu\">\n<li><a href=\"/refundpolicy.txt\" target=\"_blank\">Refund policy</a></li>\n<li><a href=\"/termsof.txt\" target=\"_blank\">Terms of Service</a></li>\n<li><a href=\"/privacy.txt\" target=\"_blank\">Privacy policy</a></li>\n<li><a href=\"#\" onclick=\"alert(em+'@'+emd);\">Contact</a></li>\n</ul>\n</div>\n</div>\n</div>\n<div class=\"side-container\">\n<div class=\"modal-content friends-online\">\n<div class=\"modal-header\">\n<h4 class=\"modal-title\">Invite friends to <span class=\"friends-modal-mode\">{SERVERMODE}</span></h4>\n</div>\n<div class=\"modal-body\">\n<div class=\"form-group\">\n<div class=\"bub-table-list m-t-10\" id=\"friends-view-modal-data\">\n<h2 class=\"center\" style=\"color:silver;font-size:20px;\">0 friends online</h2>\n<table class=\"table table-striped table-hover\"></table>\n</div>\n<table class=\"table\">\n<tbody><tr><td colspan=\"4\" style=\"text-align:center;\"><a href=\"#friends\" onclick=\"$('#friend-invite-modal').modal('hide');\"><i class=\"fa fa-users\"></i> Friends</a></td></tr>\n</tbody>\n</table>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n<script>\nvar em = 'contact';\nvar emd = 'bubble.am';\n$(document).ready(function(){\n\t\n\t\n    $('#footer a._menu').click(function() {\n        $('#footer').find('a._menu').removeClass('active');\n        $(this).addClass('active');\n    });\n\t\n\tvar cookieConfig = getCookieConfig();\n\t\n\tif(!cookieConfig) {\n\t\tsetCookieConfig('T', true);\n\t\tvar cookieConfig = getCookieConfig();\n\t}\n\tif(cookieConfig){\t\t\n\t\t\n\t\tfor (var prop in cookieConfig) {\n\t\t  if (cookieConfig.hasOwnProperty(prop) && prop !== 'mode') { \n\t\t\tif(prop == 'Skins' || prop == 'Names') {\n\t\t\t\tif(cookieConfig[prop] == true) { cookieConfig[prop] = false; } else { cookieConfig[prop] = true; }\n\t\t\t\t$('#check_'+prop).prop('checked', cookieConfig[prop]).change();\n\t\t\t} else {\n\t\t\t\t$('#check_'+prop).prop('checked', cookieConfig[prop]).change();\n\t\t\t} \n\t\t  }\n\t\t} \n\t\tif(typeof cookieConfig.Notify == 'undefined'){\n\t\t\t$('#check_Notify').prop('checked', false).change();\n\t\t}\n\t\t\n\t\tif(typeof cookieConfig.Notify11 == 'undefined'){\n\t\t\t$('#check_Notify11').prop('checked', false).change();\n\t\t}\n\t\t\n\t\tif(typeof cookieConfig.Teams == 'undefined'){\n\t\t\t$('#check_Teams').prop('checked', true).change();\n\t\t}\n\t\t\n\t\tif(typeof cookieConfig.enableChat == 'undefined'){\n\t\t\t$('#check_enableChat').prop('checked', true).change();\n\t\t}\n\t\tif(typeof cookieConfig.setShowBorders == 'undefined'){\n\t\t\t$('#check_setShowBorders').prop('checked', true).change();\n\t\t}\n\t\t\n\t\tif(cookieConfig.mode){\n\t\t\tsetGamemodeButton(cookieConfig.mode);\n\t\t}\n\t}\n\t\n});\n</script>\n<div id=\"connecting\" style=\"position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; z-index: 100; background-color: rgba(0, 0, 0, 0.498039); display: none;\">\n<div style=\"width: 350px; background-color: #FFFFFF; margin: 100px auto; border-radius: 15px; padding: 5px 15px 5px 15px;\">\n<h2>Connecting</h2>\n<p> If you cannot connect to the servers, check if you have some anti virus or firewall blocking the connection.</p></div>\n</div>\n<canvas id=\"canvas\" width=\"800\" height=\"575\"></canvas>\n<div id=\"time2end\"></div>\n<div id=\"bubbleNotifications\"></div>\n<div id=\"enableChat\" style=\"display: inline;\">\n<input type=\"text\" id=\"chat_textbox\" class=\"chat_textbox\" maxlength=\"200\" style=\"display:none;text-align:center;font-weight:bold;\" value=\"Please log in!\" disabled=\"\">\n<div id=\"chatlog\"></div>\n</div>\n<div id=\"shwdebug\" style=\"z-index: 201;position: absolute;right: 0; bottom: 0;padding:10px;\"></div>\n<div style=\"font-family:'Ubuntu'\">&nbsp;</div>\n<script src=\"/js/bootstrap.min.js\"></script>\n<script src=\"//m.bubble.am/js/jquery.lazy.js\"></script>\n<script src=\"/js/jquery.ui.js\"></script>\n<script src=\"/js/bub.js?v=0.2.32\"></script>\n<script>\n$(document).ready(function(){\t\n\t$('#battle-live').on('shown.bs.modal', function() {\n\t\tliveBattles(1);\n\t\t$('#overlays').css('background','rgba(0, 0, 0, 0) url(//m.bubble.am/img/background.png?V3) no-repeat scroll 0 0');\n    });\n\n\t$('#battle-live').on('hidden.bs.modal', function() {\n      liveBattles(0);\n    });\n\t\n\tvar srvplay = srvInfo();\n\n\t$(\"body\").on('click', \".showFriends\", function(event) { \n\t     \tevent.preventDefault();\n\t\t\tif(currentMode() !== ':10' && currentMode() !== ':11') {\n\t\t\t\tvar curmod = getModeName(currentMode());\n\t\t\t\t$('.friends-modal-mode').html('<strong>'+curmod+'</strong>');\n\t\t\t\t$('.friends-online').toggle();\n\t\t\t}\n\t});\n\t$('#tournament-modal').on('shown.bs.modal', function() {\n\t\toa(1);\n\t\t$('#overlays').css('background','rgba(0, 0, 0, 0) url(//m.bubble.am/img/background.png?V3) no-repeat scroll 0 0');\n    });\n\n\t$('#tournament-modal').on('hidden.bs.modal', function() {\n        bLeave();\n\t\tif($('#playBtn, #button-start-battle').hasClass('active')) {\n\t\t\t$('#playBtn, #button-start-battle').removeClass('active').prop('disabled',false);\n\t\t}\n\t\tsrvplay = srvInfo();\n    });\n\n\t$(\"body\").on('click', \"[class*='inviteplayer_']\", function(event) { \n\t\t\tvar invite_p = this.dataset['player'];;\n\n\t\t\tif($('#tournament-modal').hasClass('in')) {\n\t\t\t\tsrvplay = 'tournament-2vs2:'+$('#tournament-modal').attr('data-battleid')+':11'; \n\t\t\t} else srvplay = srvInfo();\n\t\t\tbubbleSend(invite_p,srvplay);\n\t});\n\n\t$('#button-start-battle').click(function() {\n\t\t$(this).toggleClass('active').prop('disabled',true);\n\t\tif(bStart(parseInt($('#tournament-modal').attr('data-battleid'))) == true) {\t\n\t\t\tconsole.log('STARTED');\n\t\t\tsetTimeout(function() { $('#button-start-battle').toggleClass('active').prop('disabled',false); }, 15000);\n\t\t} else {\t\n\t\t\t$(this).toggleClass('active').prop('disabled',false);\n\t\t}\n\t});\n});\n\nvar dsfsdf;\nvar swdfwef = false;\n$(document).on('keydown', function(e) {\n    if (e.keyCode == 69) {\n        if (swdfwef) {\n            return;\n        }\n        swdfwef = true;\n        dsfsdf = setInterval(function() {\n            $(\"body\").trigger($.Event(\"keydown\", {\n                keyCode: 87\n            }));\n            $(\"body\").trigger($.Event(\"keyup\", {\n                keyCode: 87\n            }));\n        }, 3);\n    }\n});\n\n$(document).on('keyup', function(e) {\n    if (e.keyCode == 69) {\n        swdfwef = false;\n        clearInterval(dsfsdf);\n        return;\n    }\n});\n\n(function(d, s, id) {\n  var js, fjs = d.getElementsByTagName(s)[0];\n  if (d.getElementById(id)) return;\n  js = d.createElement(s); js.id = id;\n  js.src = \"//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.3\";\n  fjs.parentNode.insertBefore(js, fjs);\n}(document, 'script', 'facebook-jssdk'));\n</script>\n<script>\n  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');\n\n  ga('create', 'UA-64486045-1', 'auto');\n  ga('send', 'pageview');\n</script>\n\n</body>"}
{"link":"https://bubble.am/login","html":"<head></head><body></body>"}
