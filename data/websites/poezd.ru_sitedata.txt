{"link":"poezd.ru","html":"<head><script type=\"text/javascript\" async=\"\" src=\"https://www.google-analytics.com/plugins/ua/ec.js\"></script><script type=\"text/javascript\" async=\"\" src=\"https://mc.yandex.ru/metrika/watch.js\"></script><script type=\"text/javascript\" async=\"\" src=\"//www.googleadservices.com/pagead/conversion_async.js\"></script><script type=\"text/javascript\" async=\"\" src=\"https://www.google-analytics.com/analytics.js\"></script>\n\t<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n<title>Жд билеты на поезд через Интернет: забронировать и купить ж/д билеты онлайн, бронирование и заказ железнодорожных билетов РЖД в Москве</title>\n<meta name=\"description\" content=\"Онлайн продажа электронных железнодорожных билетов и актуальное расписание поездов ОАО &quot;РЖД&quot;\">\n<meta name=\"keywords\" content=\"\">\n<meta property=\"og:title\" content=\"Жд билеты на поезд через Интернет: забронировать и купить ж/д билеты онлайн, бронирование и заказ железнодорожных билетов РЖД в Москве\">\n<meta property=\"og:image\" content=\"https://poezd.ru/images/og-image_2.png\">\n<meta property=\"og:image:height\" content=\"280\">\n<meta property=\"og:image:width\" content=\"537\">\n<meta property=\"og:description\" content=\"Онлайн продажа электронных железнодорожных билетов и актуальное расписание поездов ОАО &quot;РЖД&quot;\">\n<meta property=\"og:type\" content=\"website\">\n<link rel=\"icon\" type=\"image/x-icon\" href=\"/favicon.ico\">\n<link rel=\"shortcut icon\" type=\"image/x-icon\" href=\"/favicon.ico\">\n<link rel=\"image_src\" href=\"https://poezd.ru/images/og-image_2.png\">\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/assets/a7be388a076ee3a0b6c7dd8ec1a1ada6_compiled.css?v=1.83.258\">\n<script async=\"\" src=\"//www.googletagmanager.com/gtm.js?id=GTM-WXPP2W\"></script><script async=\"\" id=\"admitad-retag\" src=\"https://cdn.lenmit.com/static/js/retag.js?r=22\"></script><script async=\"\" src=\"//www.google-analytics.com/analytics.js\"></script><script type=\"text/javascript\" src=\"/assets/a7be388a076ee3a0b6c7dd8ec1a1ada6_compiled_head.js?v=1.83.258\"></script>\n\n\t<!--begin Аналитика google -->\n\t<script>\n\t\t(function (i, s, o, g, r, a, m) {\n\t\t\ti['GoogleAnalyticsObject'] = r;\n\t\t\ti[r] = i[r] || function () {\n\t\t\t\t\t(i[r].q = i[r].q || []).push(arguments)\n\t\t\t\t}, i[r].l = 1 * new Date();\n\t\t\ta = s.createElement(o),\n\t\t\t\tm = s.getElementsByTagName(o)[0];\n\t\t\ta.async = 1;\n\t\t\ta.src = g;\n\t\t\tm.parentNode.insertBefore(a, m)\n\t\t})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');\n\t\tga('create', 'UA-15930803-4', 'poezd.ru');\n\t\tga('send', 'pageview');\n\t</script>\n\t<!--end Аналитика google -->\n\t<script>\n\t\t// ajax loader\n\t\t$.ajaxSetup({\n\t\t\t'cache': false\n\t\t});\n\n\t\t$(document).ajaxStart(function () {\n\t\t\tShowProgress();\n\t\t}).ajaxStop(function () {\n\t\t\tHideProgress();\n\t\t});\n\n\t\tvar isDisabledStep = true;\n\t\tvar pDialogProgress = $(\".ajaxLoader\");\n\n\t\tfunction ShowProgress() {\n\t\t\tif (!isDisabledStep) {\n\t\t\t\tpDialogProgress.arcticmodal();\n\t\t\t}\n\t\t}\n\n\t\tfunction HideProgress() {\n\t\t\tif (!isDisabledStep) {\n\t\t\t\tpDialogProgress.arcticmodal('close');\n\t\t\t}\n\t\t\telse {\n\t\t\t\tisDisabledStep = false;\n\t\t\t}\n\t\t}\n\n\t\tfunction SetDisabledStep() {\n\t\t\tisDisabledStep = true;\n\t\t}\n\t</script>\n\t<!-- begin Admitad retargeting -->\n\t<script type=\"text/javascript\">\n\t\twindow._retag = window._retag || [];\n\t\twindow._retag.push({code: \"9ce888738e\", level: 0});\n\t\t(function () {\n\t\t\tvar id = \"admitad-retag\";\n\t\t\tif (document.getElementById(id)) {return;}\n\t\t\tvar s = document.createElement(\"script\");\n\t\t\ts.async = true; s.id = id;\n\t\t\tvar r = (new Date).getDate();\n\t\t\ts.src = (document.location.protocol == \"https:\" ? \"https:\" : \"http:\") + \"//cdn.lenmit.com/static/js/retag.js?r=\"+r;\n\t\t\tvar a = document.getElementsByTagName(\"script\")[0];\n\t\t\ta.parentNode.insertBefore(s, a);\n\t\t})()\n\t</script>\n\t<!-- end Admitad retargeting -->\n\n<script id=\"dumedia\" async=\"\" charset=\"utf-8\" src=\"//cdn.dumedia.ru/js/dumedia.js?r414685\"></script><script src=\"https://api.moxielinks.com/perform.php?action=HOME&amp;name=poezdru&amp;r=956830007\" type=\"text/javascript\" async=\"\" defer=\"\"></script><script src=\"https://mox.moxielinks.com/profiling/dd.php?type=HOME&amp;boutique=poezdru&amp;category_id=VIDE&amp;produit_id=VIDE&amp;transaction_amount=0&amp;transaction_id=0&amp;refer=https%3A//poezd.ru/&amp;refer2=&amp;r=677140631\" type=\"text/javascript\" async=\"\" defer=\"\"></script></head>\n<body>\n<!-- Google Tag Manager -->\n<noscript>\n\t&lt;iframe src=\"//www.googletagmanager.com/ns.html?id=GTM-WXPP2W\" height=\"0\" width=\"0\" style=\"display:none;visibility:hidden\"&gt;&lt;/iframe&gt;\n</noscript>\n<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n\t\tnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n\t\tj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n\t\t'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n\t})(window,document,'script','dataLayer','GTM-WXPP2W');\n</script>\n<!-- End Google Tag Manager -->\n<div class=\"overlay-process-visible\">\n\t\t<div id=\"toplineinformer\" class=\"topLineBanner reservationAdv\">\n\t\t<style>\ndiv.topLineBanner.reservationAdv{\nheight: auto;\npadding: 0;\n}\n.topLineBanner #closeTopline {\nwidth: 17px;\nheight: 17px;\nbackground: url(/img/banner-coupon/banner_close.gif) no-repeat;\ntop: 50%;\nmargin-top: -10px;\nright: 20px;\n}\n</style>\n<a href=\"/novosti/2015/pokupaete_bilety_poluchaete_skidki.html\" class=\"banner-coupon\">\n<span class=\"banner-coupon__icon\">Ваша персональная скидка</span>\n</a>\t\t<!--  id ссылки менять нельзя как и div тоже   -->\n\t\t<a href=\"javascript: void(0);\" id=\"closeTopline\" class=\"close\" title=\"Закрыть\">Закрыть</a>\n\t</div>\n\t<!-- header start -->\n\t<header>\n\t\t\t\t<section id=\"auth-widget\"><form id=\"authform\" action=\"/r=site/validateAuthWidget\" method=\"post\">\t<section class=\"p_enter\">\n\t\t<div class=\"p_enter-block\">\n\t\t\t<span class=\"w_hide_765\">Личный кабинет »</span>\n\t\t\t<span class=\"w_show_765\">Вход »</span>\n\t\t</div>\n\n\t\t<div class=\"p_login\">\n\t\t\t<div class=\"p_head\">\n\t\t\t\t<span class=\"p_title\">Вход:</span>\n\t\t\t\t<a href=\"https://poezd.ru/account/remind.php\" rel=\"nofollow\">Забыли пароль?</a>\n\t\t\t</div>\n\t\t\t<div class=\"p_input\">\n\t\t\t\t<input name=\"AuthForm[username]\" id=\"AuthForm_username\" type=\"text\" maxlength=\"70\">\t\t\t</div>\n\t\t\t<div class=\"p_input\">\n\t\t\t\t<input autocomplete=\"off\" name=\"AuthForm[password]\" id=\"AuthForm_password\" type=\"password\" maxlength=\"45\">\t\t\t</div>\n\t\t\t<input class=\"p_submit\" id=\"login_button\" title=\"Войти в личный кабинет\" type=\"submit\" name=\"yt0\" value=\"\">\t\t\t<div class=\"p_register\">\n\t\t\t\t<a href=\"https://poezd.ru/account/registration.php\" rel=\"nofollow\">Регистрация <span>›</span></a>\n\t\t\t</div>\n\t\t</div>\n\t\t<div style=\"display: none\">\n\t\t\t<div class=\"errorBlock\">\n\t\t\t\t<span class=\"close box-modal_close arcticmodal-close\"></span>\n\t\t\t\t\t\t\t<span class=\"text\">\n\t\t\t\t\t\t\t<div class=\"errorMessage\" id=\"AuthForm_username_em_\" style=\"display:none\"></div>\t\t\t\t\t\t\t<div class=\"errorMessage\" id=\"AuthForm_password_em_\" style=\"display:none\"></div>\t\t\t\t\t\t\t</span>\n\t\t\t</div>\n\t\t</div>\n\t</section>\n</form></section>\n\t</header>\n\t<!-- // header stop -->\n\t<section class=\"p_wrap\">\n\t\t<aside>\n\t\t\t<!-- order start -->\n\t\t\t<section class=\"p_order\">\n\t\t\t\t<a href=\"/order.php\">Управление заказом</a>\n\t\t\t</section>\n\t\t\t<!-- // order stop -->\n\t\t\t<!-- faq start -->\n\t\t\t<section class=\"p_faq\">\n\t<p>Справочная</p>\n\t<ul>\n\t\t<li><a href=\"https://poezd.ru/text/oformlenie_zakaza/sposoby_oplaty.php\">Способы оплаты</a></li>\n\t\t<li><a href=\"https://poezd.ru/text/oformlenie_zakaza/info_eticket.php\">Как получить билеты</a></li>\n\t\t<li><a href=\"https://poezd.ru/text/oformlenie_zakaza/dostavka-zhd-biletov_na_poezd.php\">Доставка</a></li>\n\t\t<li><a href=\"https://poezd.ru/text/oformlenie_zakaza/vozvrat-zheleznodorozhnyh-biletov.php\">Возврат билетов</a></li>\n\t\t<li><a href=\"https://poezd.ru/text/poleznaya_informaciya/about_eticket.php\">Электронный билет</a></li>\n\t\t<li><a href=\"https://poezd.ru/text/oformlenie_zakaza/electronnaya_registraciya.php\">Электронная регистрация</a></li>\n\t\t<li class=\"nomdash\"><span>+</span> <a href=\"https://poezd.ru/text/\">Ещё...</a></li>\n\t</ul>\n</section>\t\t\t<!-- // faq stop -->\n\t\t\t<a href=\"/raspisanie/Sapsan/\" class=\"sapsanBlock\">\n\t\t\t\t<span class=\"icon\"></span>\n\t\t\t\t<span class=\"text\">Билеты на скоростной<br>поезд «Сапсан»</span>\n\t\t\t</a>\n\t\t\t<a href=\"/info_partner.php?utm_source=banner&amp;utm_medium=txt_poezd&amp;utm_campaign=partner\" class=\"partnersBlock\">Партнерская программа</a>\n\t\t\t<section class=\"p_block_banner\">\n\t\t\t\t<!--AdFox START-->\n\t\t\t\t<!--Travelmart-->\n\t\t\t\t<!--Площадка: poezd.ru / * / *-->\n\t\t\t\t<!--Тип баннера: 200x316-->\n\t\t\t\t<!--Расположение: <середина страницы>-->\n\t\t\t\t<script type=\"text/javascript\">\n\t\t\t\t<!--\n\t\t\t\tif (typeof(pr) == 'undefined') { var pr = Math.floor(Math.random() * 4294967295) + 1; }\n\t\t\t\tvar addate = new Date();\n\t\t\t\tdocument.write('<iframe src=\"//ads.adfox.ru/244152/getCode?pp=h&amp;ps=ceje&amp;p2=fhlt&amp;p3=b&amp;p4=a&amp;pct=a&amp;plp=a&amp;pli=a&amp;pop=a&amp;pr=' + pr + '&amp;pt=b&amp;pd=' + addate.getDate() + '&amp;pw=' + addate.getDay() + '&amp;pv=' + addate.getHours() + '\" frameBorder=\"0\" width=\"200\" height=\"316\" marginWidth=\"0\" marginHeight=\"0\" scrolling=\"no\" style=\"border: 0px; margin: 0px; padding: 0px;\"><a href=\"//ads.adfox.ru/244152/goDefaultLink?pp=h&amp;ps=ceje&amp;p2=fhlt&amp;\" target=\"_blank\"><img src=\"//ads.adfox.ru/244152/getDefaultImage?pp=h&amp;ps=ceje&amp;p2=fhlt\" border=\"0\" alt=\"\"><\\/a><\\/iframe>');\n\t\t\t\t//-->\n\t\t\t\t</script><iframe src=\"//ads.adfox.ru/244152/getCode?pp=h&amp;ps=ceje&amp;p2=fhlt&amp;p3=b&amp;p4=a&amp;pct=a&amp;plp=a&amp;pli=a&amp;pop=a&amp;pr=704086898&amp;pt=b&amp;pd=22&amp;pw=6&amp;pv=8\" frameborder=\"0\" width=\"200\" height=\"316\" marginwidth=\"0\" marginheight=\"0\" scrolling=\"no\" style=\"border: 0px; margin: 0px; padding: 0px;\">&lt;a href=\"//ads.adfox.ru/244152/goDefaultLink?pp=h&amp;amp;ps=ceje&amp;amp;p2=fhlt&amp;amp;\" target=\"_blank\"&gt;&lt;img src=\"//ads.adfox.ru/244152/getDefaultImage?pp=h&amp;amp;ps=ceje&amp;amp;p2=fhlt\" border=\"0\" alt=\"\"&gt;&lt;/a&gt;</iframe>\n\t\t\t\t<noscript>\n\t\t\t\t&lt;iframe src=\"//ads.adfox.ru/244152/getCode?pp=h&amp;amp;ps=ceje&amp;amp;p2=fhlt&amp;amp;p3=b&amp;amp;p4=a&amp;amp;pct=a&amp;amp;plp=a&amp;amp;pli=a&amp;amp;pop=a&amp;amp;pr=' + pr + '&amp;amp;pt=b&amp;amp;pd=' + addate.getDate() + '&amp;amp;pw=' + addate.getDay() + '&amp;amp;pv=' + addate.getHours() + '\" frameBorder=\"0\" width=\"200\" height=\"316\" marginWidth=\"0\" marginHeight=\"0\" scrolling=\"no\" style=\"border: 0px; margin: 0px; padding: 0px;\"&gt;&lt;a href=\"//ads.adfox.ru/244152/goDefaultLink?pp=h&amp;amp;ps=ceje&amp;amp;p2=fhlt&amp;amp;\" target=\"_blank\"&gt;&lt;img src=\"//ads.adfox.ru/244152/getDefaultImage?pp=h&amp;amp;ps=ceje&amp;amp;p2=fhlt\" border=\"0\" alt=\"\"&gt;&lt;/a&gt;&lt;/iframe&gt;\n\t\t\t\t</noscript>\n\t\t\t\t<!--AdFox END-->\n\t\t\t</section>\n\t\t</aside>\n\t\t<section class=\"p_content\">\n\t\t\t<section class=\"p_heading\">\n\t<!-- logo start -->\n\t<section class=\"p_logo\">\n\t\t<a href=\"https://poezd.ru\" title=\"Poezd.ru\"></a>\n\t</section>\n\t<!-- // logo stop -->\n\t<p class=\"p_slogan\">Железнодорожные<br>билеты онлайн</p>\n\t<section class=\"p_information\">\n\t\t<p>+7 495 795-05-25&nbsp;&nbsp;&nbsp;8 800 700-04-08&nbsp;&nbsp;&nbsp;<span>круглосуточная поддержка</span></p>\n\t</section>\n</section>\n\t\t\t<!-- form start -->\n\t\t\t<section class=\"p_form_main\">\n\t\t\t\t<div class=\"p_tabs\">\n                    <a href=\"http://istrah.ru\" title=\"Страховки\" rel=\"nofollow\" class=\"t_red l_insurance\"><span>Страховки</span></a>\n                    <a href=\"http://auto.poezd.ru\" title=\"Автобусы\" rel=\"nofollow\" class=\"t_yellow l_bus\"><span>Автобусы</span></a>\n                    <a href=\"http://www.flyticket.ru\" title=\"Авиабилеты\" rel=\"nofollow\" class=\"t_lightblue l_ticket\"><span>Авиабилеты</span></a>\n                    <span class=\"t_blue l_train\"><span>Поезда</span></span>\n\t\t\t\t</div>\n\t\t\t\t<!-- Не убирать main-form-search - обертка для запроса по Ajax данных формы RouteForm -->\n\t\t\t\t<div class=\"main-form-search\">\n\t\t\t\t<form id=\"id_main-form-new_RouteForm_routeForm\" action=\"https://poezd.ru/\" method=\"post\">  <div class=\"form\">\n      <div class=\"form-item form-item--from\" data-direction=\"from\" data-type=\"\">\n          <span class=\"form-item-label\">Откуда:</span>\n\t\t\t\t\t<input id=\"SearchForm_stationCodeFrom\" class=\"stationCodeToInput\" name=\"SearchForm[stationCodeFrom]\" type=\"hidden\"><input maxlength=\"100\" value=\"Москва\" autocomplete=\"off\" tabindex=\"1\" onclick=\"this.select()\" class=\"input input--from ui-autocomplete-input\" id=\"SearchForm_stationNameFrom\" name=\"SearchForm[stationNameFrom]\" type=\"text\"><span role=\"status\" aria-live=\"polite\" class=\"ui-helper-hidden-accessible\"></span>          <div class=\"form-item-options\">\n              <span class=\"form-item-options-item\" data-value=\"Москва\">Москва</span>\n              <span class=\"form-item-options-item\" data-value=\"Санкт-Петербург\">Санкт-Петербург</span>\n              <span class=\"form-item-options-item form-item-options-item--last\" data-value=\"Нижний Новгород\">Н. Новгород</span>\n          </div>\n      </div>\n\t\t\t<!-- ~~~ -->\n      <div class=\"form-item form-item--route\" onclick=\"refresh_searchFrom(this , '#SearchForm_stationNameFrom' , '#SearchForm_stationNameTo');return false;\" title=\"Поменять направление\"></div>\n\t\t\t<!-- ~~~ -->\n      <div class=\"form-item form-item--to\" data-direction=\"to\" data-type=\"\">\n          <span class=\"form-item-label\">Куда:</span>\n\t\t\t\t\t<input id=\"SearchForm_stationCodeTo\" class=\"stationCodeToInput\" name=\"SearchForm[stationCodeTo]\" type=\"hidden\"><input maxlength=\"100\" value=\"Санкт-Петербург\" autocomplete=\"off\" tabindex=\"2\" onclick=\"this.select()\" class=\"input input--to ui-autocomplete-input\" id=\"SearchForm_stationNameTo\" name=\"SearchForm[stationNameTo]\" type=\"text\"><span role=\"status\" aria-live=\"polite\" class=\"ui-helper-hidden-accessible\"></span>          <div class=\"form-item-options\">\n              <span class=\"form-item-options-item\" data-value=\"Москва\">Москва</span>\n              <span class=\"form-item-options-item\" data-value=\"Санкт-Петербург\">Санкт-Петербург</span>\n              <span class=\"form-item-options-item form-item-options-item--last\" data-value=\"Нижний Новгород\">Н. Новгород</span>\n          </div>\n      </div>\n\t\t\t<!-- ~~~ -->\n      <div class=\"form-item form-item--date\">\n          <span class=\"form-item-label\">Когда:</span>\n\t\t\t\t\t<input class=\"input input--date hasDatepicker\" tabindex=\"3\" autocomplete=\"off\" id=\"SearchForm_dateTo\" name=\"SearchForm[dateTo]\" type=\"text\" value=\"23.04.2017\">          <span class=\"form-item--date-icon\" onclick=\"$(this).parent().find('.input--date').datepicker().datepicker('show')\"></span>\n          <div class=\"form-item-options\">\n              <span class=\"form-item-options-item\" data-value=\"22.04.2017\">Сегодня</span>\n              <span class=\"form-item-options-item\" data-value=\"23.04.2017\">Завтра</span>\n          </div>\n      </div>\n\t\t\t<!-- ~~~ -->\n      <div class=\"form-item form-item--button\">\n          <input id=\"search_tickets\" tabindex=\"4\" value=\"Искать билеты\" name=\"\" class=\"btn btn--blue\" type=\"submit\">      </div>\n  </div>\n\n\t<div style=\"display: none\">\n\t\t<div class=\"errorBlock\">\n\t\t\t<span class=\"close box-modal_close arcticmodal-close\"></span>\n      <span class=\"text\">\n          <div class=\"errorMessage\" id=\"SearchForm_stationNameFrom_em_\" style=\"display:none\"></div>          <div class=\"errorMessage\" id=\"SearchForm_stationNameTo_em_\" style=\"display:none\"></div>          <div class=\"errorMessage\" id=\"SearchForm_dateTo_em_\" style=\"display:none\"></div>      </span>\n\t\t</div>\n\t</div>\n</form>\t<noindex>\n\t\t<script>\n            // Обязательные параметры для календаря\n            var unixtimes = \"1496610000000\";\n            var unixtimessixtyDay = \"1497906000000\";\n            function refresh_searchFrom(button , from , to) {\n                var block_from = $(from),\n                    block_to   = $(to),\n\n                    value_from = block_from.val(),\n                    value_to   = block_to.val(),\n\n                    timer_routes;\n\n                block_from.val(value_to);\n                block_from.attr(\"value\", value_to);\n                block_to.val(value_from);\n                block_to.attr(\"value\", value_from);\n\n                //poe 2050\n                var CodeFrom = $(\"#SearchForm_stationCodeFrom\").val();\n                var CodeTo = $(\"#SearchForm_stationCodeTo\").val();\n                $(\"#SearchForm_stationCodeFrom\").val(CodeTo);\n                $(\"#SearchForm_stationCodeFrom\").attr(\"value\", CodeTo);\n                $(\"#SearchForm_stationCodeTo\").val(CodeFrom);\n                $(\"#SearchForm_stationCodeTo\").attr(\"value\", CodeFrom);\n\n                $(button).addClass('active');\n                timer_routes = setTimeout(function () {\n                    $(button).removeClass('active');\n                    clearTimeout(timer_routes);\n                }, 800);\n\t\t\t}\n\t\t</script>\n\t</noindex>\n\t\t\t\t</div>\n\t\t\t\t\t\t\t</section>\n\t\t\t<!-- // form stop -->\n\t\t\t<!-- promo start -->\n\t\t\t<section class=\"p_promo\">\n\t\t\t\t<section class=\"p_item\">\n\t\t\t\t\t<a href=\"http://auto.poezd.ru\" rel=\"nofollow\" class=\"bus\">Электронные<br>билеты на автобусы<br>по всей стране</a>\n\t\t\t\t</section>\n\t\t\t\t<section class=\"p_item\">\n\t\t\t\t\t<span class=\"check\">Выбирайте свои<br>места сами</span>\n\t\t\t\t</section>\n\t\t\t\t<section class=\"p_item\">\n\t\t\t\t\t<a href=\"/poymat_bilet.php\" class=\"catch\">Нет билетов?<br>Поймаем!</a>\n\t\t\t\t</section>\n\t\t\t\t<section class=\"p_item\">\n\t\t\t\t\t<a href=\"/info_11.php\" class=\"sms\" rel=\"nofollow\">SMS-оповещение<br>о начале продажи<br>ваших билетов</a>\n\t\t\t\t</section>\n\t\t\t\t<section class=\"p_item\">\n\t\t\t\t\t<a href=\"/text/dopolnitelnye_uslugi/soprovozhdenie_poezdki.php\" class=\"alarm\">Информационное<br>сопровождение<br>до самой поездки</a>\n\t\t\t\t</section>\n\t\t\t\t<div class=\"clear\"></div>\n\t\t\t</section>\n\t\t\t<!-- // promo stop -->\n\t\t\t\t\t\t<section class=\"p_center_blocks\">\n\t\t\t\t<div class=\"block-video\">\n\t<a href=\"javascript:void(0);\" class=\"block-video-link\"></a>\n</div>\n\n<!-- video-modal start -->\n<div style=\"display: none;\">\n\t<div class=\"featurePayModal--video\">\n\t\t<span class=\"close--outside box-modal_close arcticmodal-close\"></span>\n\t\t<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/M2-y_LAVixw\" frameborder=\"0\" allowfullscreen=\"\"></iframe>\n\t</div>\n</div>\n<!-- //video-modal stop -->\t\t\t\t\t<section class=\"p_news\">\n\t\t<div class=\"body\">\n\t\t\t\t\t\t\t<article>\n\t\t\t\t\t<time>17 апреля 2017</time>\n\t\t\t\t\t<p><a href=\"/novosti/2017/rasprodaja_biletov_v_kupe_s_18_po_20_aprelya.html\">Распродажа билетов в купе с 18 по 20 апреля</a></p>\n\t\t\t\t</article>\n\t\t\t\t\t\t\t\t<article>\n\t\t\t\t\t<time>14 апреля 2017</time>\n\t\t\t\t\t<p><a href=\"/novosti/2017/maj-skidki-na-verhnie-plackartnye-mesta.html\">Май — скидки на верхние плацкартные места</a></p>\n\t\t\t\t</article>\n\t\t\t\t\t\t\t\t<article>\n\t\t\t\t\t<time>10 апреля 2017</time>\n\t\t\t\t\t<p><a href=\"/novosti/2017/rasprodazha-biletov-na-majskie-prazdniki.html\">Распродажа билетов на майские праздники</a></p>\n\t\t\t\t</article>\n\t\t\t\t\t\t\t<a href=\"/novosti/\" class=\"all\">Архив новостей »</a>\n\t\t</div>\n\t</section>\n\n\t<section class=\"mailing hide\" style=\"display: none;\">\n\t\t<div class=\"body\">\n\t\t\t<p>Хотите первыми знать о скидках и акциях РЖД?</p>\n\n\t\t\t<form method=\"post\" action=\"\" class=\"Mailinglist\">\n\t\t\t\t<input type=\"text\" name=\"mail\" placeholder=\"Ваш E-mail\" class=\"input emailone\" maxlength=\"70\">\n\t\t\t\t<input type=\"submit\" value=\"Да!\" class=\"btn\">\n\t\t\t</form>\n\t\t\t<!-- know start -->\n\t\t\t<div class=\"p_do_you_know\">\n\t\t\t\t<p>А знаете ли вы, что...</p>\n\t\t\t\t<ul class=\"nodash\">\n\t\t\t\t\t<li><a href=\"/raspisanie/\">Фирменные поезда ОАО «РЖД»</a> состоят только из современных вагонов</li>\n\t\t\t\t\t<li><a href=\"/text/poleznaya_informaciya/stoimost_biletov.php\">Стоимость билетов</a> не&nbsp;постоянна&nbsp;— на&nbsp;этом можно сэкономить</li>\n\t\t\t\t\t<li>Чтобы выяснить <a href=\"/text/poleznaya_informaciya/raspisanie.php\">расписание движения поездов</a>, воспользуйтесь формой поиска билетов</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<!-- // know stop -->\n\t\t</div>\n\t</section>\n\n\t<section class=\"mailing\">\n\t\t<div class=\"body\">\n\t\t\t<p>Хотите первыми знать<br>о скидках и акциях РЖД?</p>\n\n\t\t\t<form method=\"post\" action=\"\" class=\"Mailinglist\">\n\t\t\t\t<input type=\"text\" name=\"mail\" placeholder=\"Ваш E-mail\" class=\"input emailone\" maxlength=\"70\">\n\t\t\t\t<input type=\"submit\" value=\"Да!\" class=\"btn\">\n\t\t\t</form>\n\t\t</div>\n\t</section>\n\n\t<section class=\"mailing\">\n\t\t<div class=\"body\">\n\t\t\t<!-- know start -->\n\t\t\t<div class=\"p_do_you_know\">\n\t\t\t\t<p>А знаете ли вы, что...</p>\n\t\t\t\t<ul class=\"nodash\">\n\t\t\t\t\t<li><a href=\"/raspisanie/\">Фирменные поезда ОАО «РЖД»</a> состоят только из современных вагонов</li>\n\t\t\t\t\t<li><a href=\"/text/poleznaya_informaciya/stoimost_biletov.php\">Стоимость билетов</a> не&nbsp;постоянна&nbsp;— на&nbsp;этом можно сэкономить</li>\n\t\t\t\t\t<li>Чтобы выяснить <a href=\"/text/poleznaya_informaciya/raspisanie.php\">расписание движения поездов</a>, воспользуйтесь формой поиска билетов</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<!-- // know stop -->\n\t\t</div>\n\t</section>\n\t\t\t\t\t<div class=\"clear\"></div>\n\t\t\t</section>\n\t\t</section>\n\t\t<div class=\"clear\"></div>\n\t</section>\n\t\t<!-- steps start -->\n\t<section class=\"p_steps\">\n\t\t<section class=\"p_step_1\">\n\t\t\t<div class=\"text\">\n\t\t\t\t<p class=\"title\">Выберите<br>поезд и&nbsp;места</p>\n\n\t\t\t\t<p>Вы можете сами выбрать места на интерактивной схеме вагона, а&nbsp;также узнать, сколько стоит билет, и&nbsp;посмотреть, какие остались.</p>\n\n\t\t\t\t<p>А можете&nbsp;— поручить подбор системе, указав свои предпочтения.</p>\n\t\t\t</div>\n\t\t</section>\n\t\t<section class=\"p_step_2\">\n\t\t\t<div class=\"text\">\n\t\t\t\t<p class=\"title\">Закажите<br>билеты онлайн</p>\n\n\t\t\t\t<p>Билеты мгновенно бронируются в&nbsp;режиме онлайн и&nbsp;ждут оплаты.</p>\n\t\t\t</div>\n\t\t</section>\n\t\t<section class=\"p_step_4\">\n\t\t\t<div class=\"text p_social\">\n\t\t\t\t<p class=\"title\">Мы в соц-сетях:</p>\n\t\t\t\t<a href=\"http://vk.com/poezdru\" rel=\"nofollow\" class=\"vk\" target=\"_blank\" title=\"ВКонтакте\"></a>\n\t\t\t\t<a href=\"https://www.facebook.com/poezdru\" rel=\"nofollow\" class=\"fb\" target=\"_blank\" title=\"Facebook\"></a>\n\t\t\t</div>\n\t\t</section>\n\t\t<section class=\"p_step_3\">\n\t\t\t<div class=\"text\">\n\t\t\t\t<p class=\"title\">Оплатите так,<br>как вам удобно</p>\n\n\t\t\t\t<p style=\"padding-right: 80px;\">Покупку на нашем официальном портале можно оплатить карточками, электронными деньгами, или даже наличными через терминал.</p>\n\t\t\t\t<ul>\n\t\t\t\t\t<li class=\"visa\" title=\"Visa, Visa Electron\"></li>\n\t\t\t\t\t<li class=\"mastercard\" title=\"Mastercard, Maestro\"></li>\n\t\t\t\t\t<li class=\"paypal\" title=\"PayPal\"></li>\n\t\t\t\t\t<li class=\"yandex_money\" title=\"Яндекс.Деньги\"></li>\n\t\t\t\t\t<li class=\"webmoney\" title=\"WebMoney\"></li>\n\t\t\t\t\t<li class=\"euroset\" title=\"Евросеть\"></li>\n\t\t\t\t</ul>\n\t\t\t\t<ul style=\"margin-top: 12px;\">\n\t\t\t\t\t<li class=\"bank_masterbank\" title=\"Связной\"></li>\n\t\t\t\t\t<li class=\"qiwi\" title=\"Киви\"></li>\n\t\t\t\t\t<li class=\"american\" title=\"American Express\"></li>\n\t\t\t\t\t<li class=\"jcb\" title=\"JCB\"></li>\n\t\t\t\t\t<li class=\"diners\" title=\"Diners Club\"></li>\n\t\t\t\t\t<li class=\"money\" title=\"Наличные\"></li>\n\t\t\t\t\t<li class=\"bank\" title=\"Безналичный расчет\"></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<span class=\"rainbow\" style=\"display: none;\"></span>\n\t\t</section>\n\t\t<section class=\"p_step_5\">\n\t\t\t<div class=\"text\">\n\t\t\t\t<p class=\"title\">Приезжайте<br>прямо на&nbsp;поезд</p>\n\n\t\t\t\t<p>При электронной регистрации для посадки вам потребуется удостоверение личности и распечатанный посадочный купон.</p>\n\n\t\t\t\t<p>А если хотите, мы можем доставить вам электронный билет домой или в офис.</p>\n\t\t\t</div>\n\t\t</section>\n\t\t<div class=\"trains-block\">\n\t\t\t<span class=\"trains-block__i p_rzd\" data-speed=\"3\" data-width=\"966\" style=\"display: block; background-position: -408px 0px;\"></span>\n\t\t\t<span class=\"trains-block__i p_sapsan\" data-orientation=\"-1\" data-speed=\"7\" data-width=\"1320\" style=\"display: none;\"></span>\n\t\t\t<span class=\"trains-block__i p_train\" data-speed=\"2\" data-width=\"966\" style=\"display: none;\"></span>\n\t\t</div>\n\t\t<span class=\"p_trees\"></span>\n\t</section>\n\t<!-- // steps stop -->\n\t<!-- promo text start -->\n\t<section class=\"p_promoText\">\n\t\t<h1>Билеты на поезд онлайн</h1>\n\n\t\t<div class=\"text\">\n\t\t\t<section class=\"p_col\">\n\t\t\t\t<div class=\"content\">\n\t\t\t\t\t<h2>Как заказать и купить жд-билеты</h2>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li>Являясь провайдером услуги «Электронный железнодорожный билет», портал Poezd.ru в режиме реального времени предоставляет клиентам доступ к online системе продажи билетов на поезд;\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>Клиент самостоятельно выбирает подходящие ему варианты проезда и оформляет жд билет без очередей;</li>\n\t\t\t\t\t\t<li>Оплата выбранного проездного документа может быть совершена с помощью различных платежных инструментов: от электронных денег до наличных;</li>\n\t\t\t\t\t\t<li>В случае оплаты наличными или при необходимости возможна <a style=\"color: #ffffff;\" href=\"/text/oformlenie_zakaza/dostavka-zhd-biletov_na_poezd.php\"><strong>доставка бланка электронного\n\t\t\t\t\t\t\t\t\tбилета по Москве</strong></a>.\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t\t<section class=\"p_col\">\n\t\t\t\t<div class=\"content\">\n\t\t\t\t\t<h2>Билеты на&nbsp;поезд онлайн с&nbsp;Poezd.ru: особенности заказа</h2>\n\n\t\t\t\t\t<p><span style=\"font-weight: bold;\">Все включено:</span> цена, представленная на&nbsp;сайте, окончательная и&nbsp;включает все комиссии и&nbsp;сборы;</p>\n\n\t\t\t\t\t<p><span style=\"font-weight: bold;\">Размер сервисного сбора</span> один из&nbsp;самых низких на&nbsp;рынке;</p>\n\n\t\t\t\t\t<p><span style=\"font-weight: bold;\">Бесплатная доставка</span> двух и&nbsp;более жд-билетов в&nbsp;центр Москвы, а&nbsp;также любые другие варианты курьерской доставки в&nbsp;пределах\n\t\t\t\t\t\tМосквы;</p>\n\n\t\t\t\t\t<p><span style=\"font-weight: bold;\">Мы&nbsp;работаем ежедневно,</span> включая выходные. В&nbsp;случае возникновения вопросов, операторы ответят на&nbsp;любые вопросы и&nbsp;помогут\n\t\t\t\t\t\tправильно сформировать ваш online заказ;</p>\n\n\t\t\t\t\t<p><span style=\"font-weight: bold;\">Опыт&nbsp;—</span> более 15&nbsp;лет работы в&nbsp;сфере продажи железнодорожных и авиабилетов&nbsp;— от&nbsp;традиционных до&nbsp;электронных;</p>\n\n\t\t\t\t\t<p><span style=\"font-weight: bold;\">Технология&nbsp;—</span> собственная платформа продажи проездных документов с использованием современных систем защиты информации;</p>\n\n\t\t\t\t\t<p><span style=\"font-weight: bold;\">Подбор сложных маршрутов&nbsp;—</span> при необходимости мы разработаем для вас наиболее удобный маршрут следования и пересадок.</p>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t\t<section class=\"p_col\">\n\t\t\t\t<div class=\"content\" style=\"padding-right: 7.5%;\">\n\t\t\t\t\t<h2>Ж/д билеты: Процедура совершения покупки</h2>\n\n\t\t\t\t\t<p>После введения в поисковую форму первоначальных маршрутных данных железнодорожного билета (станции отправления-прибытия, дата поездки), клиенту последовательно предлагается пройти 5\n\t\t\t\t\t\tэтапов:</p>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li>выбор поезда,</li>\n\t\t\t\t\t\t<li>выбор места,</li>\n\t\t\t\t\t\t<li>ввод данных о пассажирах,</li>\n\t\t\t\t\t\t<li>бронирование,</li>\n\t\t\t\t\t\t<li>и оплата.</li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t<p>Вся процедура быстрая и занимает около 5 минут.&nbsp;Купить жд билет на поезд у нас действительно просто!</p>\n\n\t\t\t\t\t<p><strong>Счастливого пути!</strong></p>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t</div>\n\t</section>\n\t<!-- // promo text stop -->\n\t<!-- popular start -->\n\t<section class=\"p_popular\">\n\t\t<section class=\"p_routes\">\n\t\t\t<h2>Популярные маршруты</h2>\n\t\t\t<ul>\n\t\t\t\t<li><a href=\"/nalichie-mest/Moskva/Sankt-Peterburg/\">Москва&nbsp;— Санкт-Петербург</a></li>\n\t\t\t\t<li><a href=\"/nalichie-mest/Sankt-Peterburg/Moskva/\">Санкт-Петербург&nbsp;— Москва</a></li>\n\t\t\t\t<li><a href=\"/nalichie-mest/Moskva/Kiev/\">Москва&nbsp;— Киев</a></li>\n\t\t\t\t<li><a href=\"/nalichie-mest/Kiev/Moskva/\">Киев&nbsp;— Москва</a></li>\n\t\t\t\t<li><a href=\"/nalichie-mest/Moskva/Nijniy_Novgorod/\">Москва&nbsp;— Нижний Новгород</a></li>\n\t\t\t\t<li><a href=\"/nalichie-mest/Moskva/Kazan/\">Москва&nbsp;— Казань</a></li>\n\t\t\t\t<li><a href=\"/nalichie-mest/Kazan/Moskva/\">Казань&nbsp;— Москва</a></li>\n\t\t\t\t<li><a href=\"/nalichie-mest/Nijniy_Novgorod/Moskva/\">Нижний Новгород&nbsp;— Москва</a></li>\n\t\t\t\t<li><a href=\"/nalichie-mest/Moskva/Samara/\">Москва&nbsp;— Самара</a></li>\n\t\t\t\t<li><a href=\"/nalichie-mest/Samara/Moskva/\">Самара&nbsp;— Москва</a></li>\n\t\t\t\t<li><a href=\"/nalichie-mest/Moskva/Voronej/\">Москва&nbsp;— Воронеж</a></li>\n\t\t\t\t<li><a href=\"/nalichie-mest/Perm/Moskva/\">Пермь&nbsp;— Москва</a></li>\n\t\t\t\t<li><a href=\"/nalichie-mest/Moskva/Minsk/\">Москва&nbsp;— Минск</a></li>\n\t\t\t\t<li><a href=\"/nalichie-mest/Moskva/Saratov/\">Москва&nbsp;— Саратов</a></li>\n\t\t\t\t<li><a href=\"/nalichie-mest/Moskva/Anapa/\">Москва&nbsp;— Анапа</a></li>\n\t\t\t\t<li><a href=\"/nalichie-mest/Moskva/Volgograd/\">Москва&nbsp;— Волгоград</a></li>\n\t\t\t\t<li><a href=\"/nalichie-mest/Volgograd/Moskva/\">Волгоград&nbsp;— Москва</a></li>\n\t\t\t\t<li><a href=\"/nalichie-mest/Moskva/Simferopol/\">Москва&nbsp;— Симферополь</a></li>\n\t\t\t\t<li><a href=\"/nalichie-mest/Ekaterinburg/Moskva/\">Екатеринбург&nbsp;— Москва</a></li>\n\t\t\t\t<li><a href=\"/nalichie-mest/Murmansk/Sankt-Peterburg/\">Мурманск&nbsp;— Санкт-Петербург</a></li>\n\t\t\t\t<li><a href=\"/nalichie-mest/Moskva/Perm/\">Москва&nbsp;— Пермь</a></li>\n\t\t\t</ul>\n\t\t\t<div class=\"clear\"></div>\n\t\t\t<a class=\"full\" href=\"/spisok_stanciy/\">Популярные станции »</a>\n\t\t</section>\n\t</section>\n\t<!-- // popular stop -->\n\t<!-- footer start -->\n\t<footer>\n\t\t<div class=\"left\">\n\t\t\t<span class=\"copyright\">© 2017 TRAVELMART</span>\n\n\t\t\t<p>Использование материалов с сайта возможно только<br>с указанием прямой ссылки на poezd.ru</p>\n\t\t</div>\n\t\t<div class=\"right\">\n\t\t\t\t\t\t<noindex>\n\t\t\t\t<!--LiveInternet counter-->\n\t\t\t\t<script type=\"text/javascript\"><!--\n\t\t\t\t\tdocument.write(\"<a href='https://www.liveinternet.ru/click' \" +\n\t\t\t\t\t\t\"target=_blank><img src='https://counter.yadro.ru/hit?t45.4;r\" +\n\t\t\t\t\t\tescape(document.referrer) + ((typeof(screen) == \"undefined\") ? \"\" :\n\t\t\t\t\t\t\";s\" + screen.width + \"*\" + screen.height + \"*\" + (screen.colorDepth ?\n\t\t\t\t\t\t\tscreen.colorDepth : screen.pixelDepth)) + \";u\" + escape(document.URL) +\n\t\t\t\t\t\t\";\" + Math.random() +\n\t\t\t\t\t\t\"' alt='' title='LiveInternet' \" +\n\t\t\t\t\t\t\"border='0' width='31' height='31'><\\/a>\")\n\t\t\t\t\t//--></script><a href=\"https://www.liveinternet.ru/click\" target=\"_blank\"><img src=\"https://counter.yadro.ru/hit?t45.4;r;s1280*1024*24;uhttps%3A//poezd.ru/;0.08475228169490823\" alt=\"\" title=\"LiveInternet\" border=\"0\" width=\"31\" height=\"31\"></a><!--/LiveInternet-->\n\t\t\t</noindex>\n\t\t</div>\n\t\t<div class=\"clear\"></div>\n\t</footer>\n\t<!-- // footer stop -->\n</div>\n<div id=\"id_default_RouteForm_dialogErrors\"></div>\n\t<div style=\"display: none;\">\n\t\t<div id=\"id_default_ErrorWidget58faf22188a26_dialogErrors\" class=\"box-modal message-error-steps\">\n\t\t\t<div class=\"box-modal_close arcticmodal-close close\"></div>\n\t\t\t<div class=\"text\">\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t</div>\n<input type=\"hidden\" id=\"DialogSearchAutoGen_train\" value=\"\">\n<input type=\"hidden\" id=\"DialogSearchAutoGen_StationFrom\" value=\"\">\n<input type=\"hidden\" id=\"DialogSearchAutoGen_StationTo\" value=\"\">\n<input type=\"hidden\" id=\"DialogSearchAutoGen\">\n<noindex>\n\t<script>\n\t\tfunction InitButton (train, StationNameFrom, StationNameTo)\n\t\t{\n\t\t\t// Присваиваме параметры и открываем диалоговое окно\n\t\t\t$(\"#DialogSearchAutoGen_train\").val(train);\n\t\t\t$(\"#DialogSearchAutoGen_StationFrom\").val(StationNameFrom);\n\t\t\t$(\"#DialogSearchAutoGen_StationTo\").val(StationNameTo);\n\t\t\t$(\"#DialogSearchAutoGen\").click();\n\t\t};\n\t</script>\n</noindex>\n<script>\n\tfunction SetDisabledStep() {\n\t\t//заглушка\n\t}\n</script>\n<div class=\"overlay-process\">\n\t<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n\t<a href=\"javascript:void(0);\" class=\"overlay-process__close\">Отменить<br>поиск</a>\n\t<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n\t<div class=\"overlay-process__info\">\n\t\t<p class=\"overlay-process__info__title\"></p>\n\t\t<p class=\"overlay-process__info__info\"><span class=\"_pretend\"></span>по маршруту <span class=\"from\"></span> — <span class=\"to\"></span><br>на <span class=\"date\"></span></p>\n\t\t<p class=\"overlay-process__info__note\">Подождите, пожалуйста,<br>это может занять несколько секунд</p>\n\t</div>\n\t<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n\t<span class=\"overlay-process__town-1\"></span>\n\t<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n\t<span class=\"overlay-process__town-2\"></span>\n\t<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n\t<span class=\"overlay-process__road\"></span>\n\t<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n\t<span class=\"overlay-process__forest\"></span>\n\t<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n\t<span class=\"trains-block__item overlay-process__poezd-2\" data-speed=\"2\" data-width=\"966\"></span>\n\t<span class=\"trains-block__item overlay-process__poezd-3\" data-speed=\"3\" data-width=\"1320\"></span>\n\t<span class=\"trains-block__item overlay-process__poezd-4\" data-speed=\"7\" data-width=\"966\"></span>\n\t<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n\t<div class=\"overlay-process__sign _left\">\n\t\t<p class=\"overlay-process__sign__text\"></p>\n\t</div>\n\t<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n\t<div class=\"overlay-process__sign _right\">\n\t\t<p class=\"overlay-process__sign__text\"></p>\n\t</div>\n\t<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n\t<span class=\"overlay-process__bg-bottom\"></span>\n\t<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n</div>\n<noindex><script type=\"text/javascript\" src=\"/assets/a7be388a076ee3a0b6c7dd8ec1a1ada6_compiled_end.js?v=1.83.258\"></script></noindex>\n<noindex><script type=\"text/javascript\">\n/*<![CDATA[*/\njQuery(function($) {\n\n\t$(\"#closeTopline\").click(function (){\n\t\t$(\"#toplineinformer\").hide();\n\t\t$.ajax({\n\t\t\turl: \"/?r=TopLineBanner/index\",\n\t\t\tdata:{\n\t\t\t\tclose : true\n\t\t\t}\n\t\t}).done(function() {\n\n\t\t});\n\t});\n\n\n\n\tfunction featurePayError(s_txtd, s_dateTo, s_stationNameFrom, s_stationNameTo)\n\t{\n\n\t\tvar today = new Date(\"22 Apr 2017 09:03:13\");\n\t\tvar dateToVal = s_dateTo.split(\".\");\n\t\tdateTo = new Date(dateToVal[2], dateToVal[1], dateToVal[0]);\n\n        $.ajax({\n                url:\"/?r=Ticketnotice/index\",\n                cache:false,\n                data: {\n                \t\t txtd     : s_txtd,\n                         dateTo   : s_dateTo,\n                         NameFrom : s_stationNameFrom,\n                         NameTo   : s_stationNameTo\n                },\n                success: function(data){\n                   $.arcticmodal(\"close\");\n                   stopNewOverlay();\n                   $(\"#dialogloadHtml\").dialog(\"close\");\n                   $(\"#id_main-form-new_RouteForm_dialogErrors\").html(data).dialog(\"open\").dialog(\"moveToTop\", true);\n\t\t\t\t\tvar today = new Date(\"22 Apr 2017 09:03:13\");\n\t\t\t\t\tvar dateToVal = $(\"#SearchForm_dateTo\").val().split(\".\");\n\t\t\t\t\tdateTo = new Date(dateToVal[2], dateToVal[1], dateToVal[0]);\n\n\t\t\t\t\t$(\"#id_main-form-new_RouteForm_dialogErrors\").dialog({\n\t\t\t\t\t\t\"title\": (today.getTime() > dateTo.getTime() ? \"Продажа билетов завершена\" : \"Продажа билетов еще не открыта\")\n\t\t\t\t\t});\n                }\n        });\n\n\t}\n\n\njQuery('#SearchForm_stationNameFrom').autocomplete({'minLength':2,'delay':0,'select':function (event, ui) {\n\t$(\"#id_main-form-new_RouteForm_routeForm #SearchForm_stationCodeFrom\").val(ui.item.id);\n\t$(\"#id_main-form-new_RouteForm_routeForm #SearchForm_stationCodeFrom\").attr(\"value\", ui.item.id);\n},'source':function (request, response) {\n\t$.arcticmodal(\"close\");\n\n\t// Указатель на поле\n\tvar $field = $(\"#id_main-form-new_RouteForm_routeForm #SearchForm_stationNameFrom\");\n\tvar $fieldCode = $(\"#id_main-form-new_RouteForm_routeForm #SearchForm_stationCodeFrom\");\n\n\t$($fieldCode).val(\"\");\t\n/*\n\tкостылек по задаче POE-1710. Суть в том, что в ИЕ старше 10-го после инициализации виджета сразу показываются значения автокомплита, несмотря на то,\n\tчто пользователем событие изменения поля автокомплита не производится, но значение в нем присутствует. В других браузеразх не наблюдается.\n\tРешение в том, что если модалька/форма поиска не видна, то не респонсим пришедшие данные. Ну а если видна, то респонсим.\n*/\n\t var is_visible = true;\n\n\t// Если есть кеш-массив\n\tif (!$.isArray($.fn.autoCompleteStationStationnameCache))\n\t\t$.fn.autoCompleteStationStationnameCache = new Array;\n\n\t// Если в кеше есть запись\n\tif (!$.isArray($.fn.autoCompleteStationStationnameCache[$field.val()]))\n\t{\n\t\t// Делаем запрос\n\t\t$.post(\"/autocomplete/stationStationname.php\", {\n\t\t\t\"term\": $field.val(),\n\t\t\t\"mode\": 2\n\t\t}, function (json) {\n\t\t\t// Заносим ответ в кеш\n\t\t\t$.fn.autoCompleteStationStationnameCache[$field.val()] = json;\n\t\t\tresponse(json);\n\t\t}, \"json\");\n\t}\n\telse\n\t{\n\t\t// Берём значение из кеша\n\t\tvar json_cache = $.fn.autoCompleteStationStationnameCache[$field.val()];\n\t\tresponse($.fn.autoCompleteStationStationnameCache[$field.val()]);\n\t}\t\t\t\t\t\n\n\t$(this).focus();\n\tHideProgress();\n}});\njQuery('#SearchForm_stationNameTo').autocomplete({'minLength':2,'delay':0,'select':function (event, ui) {\n\t$(\"#id_main-form-new_RouteForm_routeForm #SearchForm_stationCodeTo\").val(ui.item.id);\n\t$(\"#id_main-form-new_RouteForm_routeForm #SearchForm_stationCodeTo\").attr(\"value\", ui.item.id);\n},'source':function (request, response) {\n\t$.arcticmodal(\"close\");\n\n\t// Указатель на поле\n\tvar $field = $(\"#id_main-form-new_RouteForm_routeForm #SearchForm_stationNameTo\");\n\tvar $fieldCode = $(\"#id_main-form-new_RouteForm_routeForm #SearchForm_stationCodeTo\");\n\n\t$($fieldCode).val(\"\");\t\n/*\n\tкостылек по задаче POE-1710. Суть в том, что в ИЕ старше 10-го после инициализации виджета сразу показываются значения автокомплита, несмотря на то,\n\tчто пользователем событие изменения поля автокомплита не производится, но значение в нем присутствует. В других браузеразх не наблюдается.\n\tРешение в том, что если модалька/форма поиска не видна, то не респонсим пришедшие данные. Ну а если видна, то респонсим.\n*/\n\t var is_visible = true;\n\n\t// Если есть кеш-массив\n\tif (!$.isArray($.fn.autoCompleteStationStationnameCache))\n\t\t$.fn.autoCompleteStationStationnameCache = new Array;\n\n\t// Если в кеше есть запись\n\tif (!$.isArray($.fn.autoCompleteStationStationnameCache[$field.val()]))\n\t{\n\t\t// Делаем запрос\n\t\t$.post(\"/autocomplete/stationStationname.php\", {\n\t\t\t\"term\": $field.val(),\n\t\t\t\"mode\": 2\n\t\t}, function (json) {\n\t\t\t// Заносим ответ в кеш\n\t\t\t$.fn.autoCompleteStationStationnameCache[$field.val()] = json;\n\t\t\tresponse(json);\n\t\t}, \"json\");\n\t}\n\telse\n\t{\n\t\t// Берём значение из кеша\n\t\tvar json_cache = $.fn.autoCompleteStationStationnameCache[$field.val()];\n\t\tresponse($.fn.autoCompleteStationStationnameCache[$field.val()]);\n\t}\t\t\t\t\t\n\n\t$(this).focus();\n\tHideProgress();\n}});\njQuery('#SearchForm_dateTo').datepicker(jQuery.extend({showMonthAfterYear:false},jQuery.datepicker.regional['ru'],{'serverDate':'22.04.2017','dateFormat':'dd.mm.yy','minDate':0,'numberOfMonths':3,'stepMonths':3,'howAnim':'','howOn':'focus','onSelect':function(data,txt) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar _data = data;\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar d1 = \"05.06.2017\";\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar closedate = d1.split(\".\");\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar parts = data.split(\".\");\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar closedate = new Date(closedate[2]+\"/\"+closedate[1]+\"/\"+closedate[0]);\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar dat = new Date(parts[2]+\"/\"+parts[1]+\"/\"+parts[0]);\n//\t\t\t\t\t\t\t\t\t\t\t\t\tif (dat.getTime()>closedate.getTime()){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\turl      : \"/routes/validate.php\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype     : \"POST\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata     : {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"SearchForm[dateTo]\"          : _data,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"SearchForm[stationNameFrom]\" : $(\"#SearchForm_stationNameFrom\").val(),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"SearchForm[stationNameTo]\"   : $(\"#SearchForm_stationNameTo\").val(),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"ajax\"                        : \"id_default_RouteForm_routeForm\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"undefined\"                   : \"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess  : function(data){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tjson = jQuery.parseJSON(data);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (json.SearchForm_dateTo){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// продажа еще не открыта\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfeaturePayError(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tjson.SearchForm_dateTo,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_data,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$(\"#SearchForm_stationNameFrom\").val(),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$(\"#SearchForm_stationNameTo\").val()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n//\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}}));\n\n\tvar access = 1;\n\n\t$(\"#id_main-form-new_RouteForm_routeForm #search_tickets\").unbind(\"click\").bind(\n\t\"click\",\n\tfunction () {\n\t\tif (access === 1) {\n\t\t\tstartNewOverlay(\"Поиск билетов\", \"\", \"\", \"\", \"\", \"\", $(\"#id_main-form-new_RouteForm_routeForm\"), 1, true);\n\t\t\taccess = 0;\n\t\t}\n\t\tsetTimeout(function(){\n\t\t\taccess = 1;\n\t\t}, 500);\n\n\t});\n\n  $(\"body\").on(\"click\" , \".form-item-options-item\" , function(){\n      \n    $(this).parents(\".form-item\").find(\".input\").val( $(this).data(\"value\") );\n  \n  });\n\n\njQuery('#id_main-form-new_RouteForm_routeForm').yiiactiveform({'validationUrl':'/routes/validate.php','validateOnSubmit':true,'validateOnChange':false,'afterValidate':function (form, data, hasError) {\n\t\t\t\tif (($.browser.msie) && ($.browser.version == \"8.0\")) {\n\t\t\t\t\tif ($.isEmptyObject(data)) { var routeFormDefault = \"true\"; }\n\t\t\t\t\telse { var routeFormDefault = \"false\"; }\n\t\t\t\t} else {\n\t\t\t\t\tvar routeFormDefault = $.isEmptyObject(data);\n\t\t\t\t}\n\t\t\t\t// Если есть ошибки\n\t\t\t\tif (hasError || ($.isPlainObject(data) && !routeFormDefault))\n\t\t\t\t{\n\t\t\t\t\t$(\".overlay-process-visible\").removeClass(\"_active\");\n\t\t\t\t\t$(\".overlay-process\").hide();\n\t\t\t\t\tvar f = true;\n\t\t\t\t\tvar txtfdate;\n\t\t\t\t\tfor (var k in data)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar v = data[k];\n\t\t\t\t\t\tif (k.indexOf(\"stationNameTo\") != \"-1\"){f = false;}\n\t\t\t\t\t\tif (k.indexOf(\"stationNameFrom\") != \"-1\"){f = false;}\n\t\t\t\t\t\tif (k.indexOf(\"dateTo\") != \"-1\"){txtfdate = v;}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (f)\n\t\t\t\t\t{\n\t\t\t\t\t\t// продажа еще не открыта\n\t\t\t\t\t\tfeaturePayError(txtfdate, $(\"#SearchForm_dateTo\").val(), $(\"#SearchForm_stationNameFrom\").val(), $(\"#SearchForm_stationNameTo\").val());\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\t$.arcticmodal(\"close\");\n\t\t\t\t\t\tstopNewOverlay();\n\t\t\t\t\t\t$(\".p_form_main\").find(\".errorBlock\").arcticmodal();\n\t\t\t\t\t}\n\n\t\t\t\t\treturn false;\n\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n/*\n\t\t\t\t\t// Затык по задаче POE-749\n\t\t\t\t\t// Пересабмитим форму через 20 мс, чтобы уж навернякак форма ушла постом на сервер\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t$(\"#id_main-form-new_RouteForm_routeForm\").submit();\n\t\t\t\t\t}, 20);\n*/\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t},'attributes':[{'id':'SearchForm_stationNameFrom','inputID':'SearchForm_stationNameFrom','errorID':'SearchForm_stationNameFrom_em_','model':'SearchForm','name':'stationNameFrom','enableAjaxValidation':true},{'id':'SearchForm_stationNameTo','inputID':'SearchForm_stationNameTo','errorID':'SearchForm_stationNameTo_em_','model':'SearchForm','name':'stationNameTo','enableAjaxValidation':true},{'id':'SearchForm_dateTo','inputID':'SearchForm_dateTo','errorID':'SearchForm_dateTo_em_','model':'SearchForm','name':'dateTo','enableAjaxValidation':true}],'errorCss':'error'});\njQuery('#id_main-form-new_RouteForm_dialogErrors').dialog({'autoOpen':false,'title':'Сообщение','position':'center','modal':true,'width':'auto','open':function( event, ui ) {\n\t$(\"#id_main-form-new_RouteForm_dialogErrors\").dialog({\n\t\t\"title\": \"Сообщение\"\n\t});\n}});\n\n\t$(\"form.Mailinglist\").submit(function() {\n\t\tif ($(this).find(\"input.emailone\").val() != \"\")\n\t\t{\n\t\t\t$.arcticmodal(\"close\");\n\t\t\t$.arcticmodal({\n\t\t\t\ttype: \"ajax\",\n\t\t\t\turl: \"/?r=Mailinglist\",\n\t\t\t\tajax: {\n\t\t\t\t\ttype: \"POST\",\n\t\t\t\t\tcache: false,\n\t\t\t\t\tdata:{\n\t\t\t\t\t\tMailinglist:{ mail:$(this).find(\"input.emailone\").val() }\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: function(data, el, responce) {\n\t\t\t\t\t\tdata.body.html(responce);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn false;\n\t});\n\n\n// Вешаем событие на Ajax ошибки\n$(document).ajaxError(function (event, jqXHR, ajaxSettings, thrownError) {\n\tif (jqXHR.status == 504 || jqXHR.statusText == \"Gateway Time-out\")\n\t\treturn;\n\n\tif (jqXHR.status == 0 || jqXHR.statusText == \"error\")\n\t\treturn;\n\n\tvar param = null;\n\n\tif (ajaxSettings.data)\n\t\tparam = ajaxSettings.data.replace(/&/g, \"@@@\");\n\telse if (ajaxSettings.url)\n\t\tparam = ajaxSettings.url.replace(/&/g, \"@@@\");\n\n\t// Кодируем параметры\n\tvar strParam = $.param({\n\t\t\"url\": ajaxSettings.url,\n\t\t\"param\": param\n\t});\n\tstrParam = strParam.replace(/&/g, \"|||\");\n\tstopNewOverlay();\n\n\t// HTML-код для окна\n\tvar html = \"<div id=\\\"id_default_ErrorWidget58faf22188a26_dialogErrors\\\" class=\\\"message-error-steps\\\"><div class=\\\"box-modal_close arcticmodal-close close\\\"></div>\" +\n\t\t\"<p>К сожалению при обработке запроса произошла ошибка, попробуйте перезагрузить страницу.</p>\" + \n\t\t\"<p>Если перезагрузка страницы не помогла мы будем очень признательны, если вы нам отправите сообщение о ней.</p>\" + \n\t\t\"<div><b><a class=\\\"bugReportLink\\\" href=\\\"/?r=site/sendErrorNotify&code=ERROR_AJAX&data=\" + strParam + \" \\\" \" + \n\t\t\"style=\\\"color:#0077bb;\\\">Отправить сообщение об ошибке »»</a></b></div>\" + \n\t\t\"<p>После нажатия на ссылку нам будет отправлена<br />информация о вашем сеансе работы с сайтом.</p></div>\";\n\n\t// Показываем окно с ошибками\n\t$(\"#id_default_ErrorWidget58faf22188a26_dialogErrors.message-error-steps\").find(\".text\").html(html).arcticmodal({\n\t\topenEffect: {type: \"none\"},\n\t\tcloseEffect: {type: \"none\"},\n\t\tafterClose: function(data, el) {\n\t\t\t$(\"body\").css(\"overflow-y\", \"visible\");\n\t\t},\n\t});\n});\n\n$(document).ajaxComplete(function (event, xhr, settings) {\n\tif (xhr.status == 504 || xhr.statusText == \"Gateway Time-out\")\n\t{\n\t\t// HTML-код для окна\n\t\tvar html = \"<div id=\\\"id_default_ErrorWidget58faf22188a26_dialogErrors\\\" class=\\\"message-error-steps\\\"><div class=\\\"box-modal_close arcticmodal-close close\\\"></div>\" +\n\t\t\t\"<p>К сожалению при обработке запроса произошла ошибка, попробуйте перезагрузить страницу.</p></div>\";\n\n\t\t// Показываем окно с ошибками\n\t\t$(\"#id_default_ErrorWidget58faf22188a26_dialogErrors.message-error-steps\").find(\".text\").html(html).arcticmodal({\n\t\t\topenEffect: {type: \"none\"},\n\t\t\tcloseEffect: {type: \"none\"},\n\t\t\tafterClose: function(data, el) {\n\t\t\t\t$(\"body\").css(\"overflow-y\", \"visible\");\n\t\t\t},\n\t\t});\n\t}\n});\n\njQuery('#idDialogSearch').dialog({'autoOpen':false,'position':'center','modal':true,'resizable':false,'dialogClass':'dlgNoTitleSearch','minHeight':'0','width':'auto','disabled':false});\n\nfunction featurePayError (s_txtd, s_dateTo, s_nameFrom, s_nameTo)\n{\n\tvar today = new Date(\"22 Apr 2017 09:03:13\");\n\tvar dateToVal = s_dateTo.split(\".\");\n\tdateTo = new Date(dateToVal[2], dateToVal[1], dateToVal[0]);\n\n\t// модальное окно \"Продажа еще не открыта\"\n\t$.arcticmodal(\"close\");\n\t$.arcticmodal({\n\t\ttype: \"ajax\",\n\t\turl: \"/?r=Ticketnotice/index\",\n\t\tajax: {\n\t\t\tcache: false,\n\t\t\tdata : {\n\t\t\t\ttxtd : s_txtd,\n\t\t\t\tdateTo : s_dateTo,\n\t\t\t\tNameFrom : s_nameFrom,\n\t\t\t\tNameTo : s_nameTo\n\t\t\t},\n\t\t\tsuccess: function(data, el, responce) {\n\t\t\t\tdata.body.html(responce);\n\t\t\t}\n\t\t}\n\t});\n}\n\njQuery('#CloneSearchForm_stationNameFrom').autocomplete({'minLength':2,'delay':0,'select':function (event, ui) {\n\t$(\"#id_dialog_RouteForm_routeForm #CloneSearchForm_stationCodeFrom\").val(ui.item.id);\n\t$(\"#id_dialog_RouteForm_routeForm #CloneSearchForm_stationCodeFrom\").attr(\"value\", ui.item.id);\n},'source':function (request, response) {\n\tSetDisabledStep();\n\n\t// Указатель на поле\n\tvar $field = $(\"#id_dialog_RouteForm_routeForm #CloneSearchForm_stationNameFrom\");\n\tvar $fieldCode = $(\"#id_dialog_RouteForm_routeForm #CloneSearchForm_stationCodeFrom\");\n\n\t$($fieldCode).val(\"\");\t\n/*\n\tкостылек по задаче POE-1710. Суть в том, что в ИЕ старше 10-го после инициализации виджета сразу показываются значения автокомплита, несмотря на то,\n\tчто пользователем событие изменения поля автокомплита не производится, но значение в нем присутствует. В других браузеразх не наблюдается.\n\tРешение в том, что если модалька/форма поиска не видна, то не респонсим пришедшие данные. Ну а если видна, то респонсим.\n*/\n\t var is_visible = $($field).parents(\".modalSearchBlue\").is(\":visible\");\n\n\t// Если есть кеш-массив\n\tif (!$.isArray($.fn.autoCompleteStationStationnameCache))\n\t\t$.fn.autoCompleteStationStationnameCache = new Array;\n\n\t// Если в кеше есть запись\n\tif (!$.isArray($.fn.autoCompleteStationStationnameCache[$field.val()]))\n\t{\n\t\t// Делаем запрос\n\t\t$.post(\"/autocomplete/stationStationname.php\", {\n\t\t\t\"term\": $field.val(),\n\t\t\t\"mode\": 2\n\t\t}, function (json) {\n\t\t\t// Заносим ответ в кеш\n\t\t\t$.fn.autoCompleteStationStationnameCache[$field.val()] = json;\n\t\t\t  if (is_visible) {response(json); }\n\t\t}, \"json\");\n\t}\n\telse\n\t{\n\t\t// Берём значение из кеша\n\t\tvar json_cache = $.fn.autoCompleteStationStationnameCache[$field.val()];\n\t\tif (is_visible) {response($.fn.autoCompleteStationStationnameCache[$field.val()]);}\n\t}\t\t\t\t\t\n\n\t$(this).focus();\n\tHideProgress();\n}});\njQuery('#CloneSearchForm_stationNameTo').autocomplete({'minLength':2,'delay':0,'select':function (event, ui) {\n\t$(\"#id_dialog_RouteForm_routeForm #CloneSearchForm_stationCodeTo\").val(ui.item.id);\n\t$(\"#id_dialog_RouteForm_routeForm #CloneSearchForm_stationCodeTo\").attr(\"value\", ui.item.id);\n},'source':function (request, response) {\n\tSetDisabledStep();\n\n\t// Указатель на поле\n\tvar $field = $(\"#id_dialog_RouteForm_routeForm #CloneSearchForm_stationNameTo\");\n\tvar $fieldCode = $(\"#id_dialog_RouteForm_routeForm #CloneSearchForm_stationCodeTo\");\n\n\t$($fieldCode).val(\"\");\t\n/*\n\tкостылек по задаче POE-1710. Суть в том, что в ИЕ старше 10-го после инициализации виджета сразу показываются значения автокомплита, несмотря на то,\n\tчто пользователем событие изменения поля автокомплита не производится, но значение в нем присутствует. В других браузеразх не наблюдается.\n\tРешение в том, что если модалька/форма поиска не видна, то не респонсим пришедшие данные. Ну а если видна, то респонсим.\n*/\n\t var is_visible = $($field).parents(\".modalSearchBlue\").is(\":visible\");\n\n\t// Если есть кеш-массив\n\tif (!$.isArray($.fn.autoCompleteStationStationnameCache))\n\t\t$.fn.autoCompleteStationStationnameCache = new Array;\n\n\t// Если в кеше есть запись\n\tif (!$.isArray($.fn.autoCompleteStationStationnameCache[$field.val()]))\n\t{\n\t\t// Делаем запрос\n\t\t$.post(\"/autocomplete/stationStationname.php\", {\n\t\t\t\"term\": $field.val(),\n\t\t\t\"mode\": 2\n\t\t}, function (json) {\n\t\t\t// Заносим ответ в кеш\n\t\t\t$.fn.autoCompleteStationStationnameCache[$field.val()] = json;\n\t\t\t  if (is_visible) {response(json); }\n\t\t}, \"json\");\n\t}\n\telse\n\t{\n\t\t// Берём значение из кеша\n\t\tvar json_cache = $.fn.autoCompleteStationStationnameCache[$field.val()];\n\t\tif (is_visible) {response($.fn.autoCompleteStationStationnameCache[$field.val()]);}\n\t}\t\t\t\t\t\n\n\t$(this).focus();\n\tHideProgress();\n}});\njQuery('#CloneSearchForm_dateTo').datepicker(jQuery.extend({showMonthAfterYear:false},jQuery.datepicker.regional['ru'],{'serverDate':'22.04.2017','dateFormat':'dd.mm.yy','minDate':0,'numberOfMonths':3,'stepMonths':3,'howAnim':'','howOn':'focus','onSelect':function(data,txt) {\n\tvar _data = data;\n\tvar $fieldFrom = $(\"#id_dialog_RouteForm_routeForm #CloneSearchForm_stationNameFrom\");\n\tvar $fieldTo = $(\"#id_dialog_RouteForm_routeForm #CloneSearchForm_stationNameTo\");\n\tvar d1 = \"05.06.2017\";\n\tvar closedate = d1.split(\".\");\n\tvar parts = data.split(\".\");\n\tvar closedate = new Date(closedate[2]+\"/\"+closedate[1]+\"/\"+closedate[0]);\n\tvar dat = new Date(parts[2]+\"/\"+parts[1]+\"/\"+parts[0]);\n\n\t$.ajax({\n\t\turl: \"/routes/validate.php\",\n\t\ttype: \"POST\",\n\t\tdata: {\n\t\t\t\"SearchForm[dateTo]\" : _data,\n\t\t\t\"SearchForm[stationNameFrom]\" : $($fieldFrom).val(),\n\t\t\t\"SearchForm[stationNameTo]\" : $($fieldTo).val(),\n\t\t\t\"ajax\" : \"id_default_RouteForm_routeForm\",\n\t\t\t\"undefined\" : \"\"\n\t\t},\n\t\tsuccess: function (data)\n\t\t{\n\t\t\tjson = jQuery.parseJSON(data);\n\n\t\t\tif (json.SearchForm_dateTo)\n\t\t\t{\n\t\t\t\t// продажа еще не открыта\n\t\t\t\tfeaturePayError(json.SearchForm_dateTo, _data, $(\".stationFromInput\").val(), $(\".stationToInput\").val());\n\t\t\t}\n\t\t}\n\t});\n}}));\njQuery('#id_dialog_RouteForm_routeForm').yiiactiveform({'validationUrl':'/routes/validate.php','validateOnSubmit':true,'validateOnChange':false,'afterValidate':function (form, data, hasError) {\n\t// Если есть ошибки\n\tif (hasError || ($.isPlainObject(data) && !$.isEmptyObject(data)))\n\t{\n\t\tvar f = true;\n\t\tvar txtfdate;\n\t\tvar html = \"\";\n\n\t\tfor (var k in data)\n\t\t{\n\t\t\tvar v = data[k];\n\n\t\t\tif (k.indexOf(\"stationNameTo\") != -1 || k.indexOf(\"stationNameFrom\") != -1)\n\t\t\t\tf = false;\n\n\t\t\tif (k.indexOf(\"dateTo\") != -1)\n\t\t\t\ttxtfdate = v;\n\n\t\t\tif (v.length)\n\t\t\t{\n\t\t\t\tfor (var i = 0; i < v.length; i++)\n\t\t\t\t{\n\t\t\t\t\thtml += \"<div class=\\\"errorMessage\\\">\" + v[i] + \"</div>\";\n\t\t\t\t}\n\t\t\t}\n\t\t}// for\n\n\t\tif (f)\n\t\t{\n\t\t\t// продажа еще не открыта\n\t\t\t$.arcticmodal(\"close\");\n\t\t\tfeaturePayError(txtfdate, $(\"#CloneSearchForm_dateTo\").val(), $(\".stationFromInput\").val(), $(\".stationToInput\").val());\n\t\t}\n\t\telse\n\t\t{\n\t\t\t$(\".modalSearchBlue.main\").find(\".errorBlock\").arcticmodal();\n\t\t}\n\n\t\treturn false;\n\t}\n\telse\n\t{\n\t\t$.arcticmodal(\"close\");\n\t\t$(\"#dialogloadHtml\").arcticmodal();\n\n\t\treturn true;\n\t}\n},'attributes':[{'id':'CloneSearchForm_stationNameFrom','inputID':'CloneSearchForm_stationNameFrom','errorID':'CloneSearchForm_stationNameFrom_em_','model':'CloneSearchForm','name':'stationNameFrom','enableAjaxValidation':true},{'id':'CloneSearchForm_stationNameTo','inputID':'CloneSearchForm_stationNameTo','errorID':'CloneSearchForm_stationNameTo_em_','model':'CloneSearchForm','name':'stationNameTo','enableAjaxValidation':true},{'id':'CloneSearchForm_dateTo','inputID':'CloneSearchForm_dateTo','errorID':'CloneSearchForm_dateTo_em_','model':'CloneSearchForm','name':'dateTo','enableAjaxValidation':true}],'errorCss':'error'});\njQuery('#dialogloadHtml').dialog({'autoOpen':false,'dialogClass':'dlgNoTitle','resizable':false,'position':'center','width':'100%','height':'100%','modal':false});\n\n$.fn.showDialogByAjax = function (url)\n{\n\tHideProgress();\n\n$.arcticmodal({\n  type: \"ajax\",\n  url: url,\n  ajax: {\n    type: \"GET\",\n    cache: false,\n    dataType: \"json\",\n    success: function(data, el, responce) {\n\n\t\t\tHideProgress();\n\n  \t\tvar h = $(\"<div class=\\\"box-modal\\\"><div class=\\\"main sapsan-dialog-modal\\\"><span class=\\\"close closeDialog box-modal_close arcticmodal-close\\\"></span><div class=\\\"content\\\"></div></div></div>\");\n\n  \t\tif (responce.status === \"ok\") {\n  \t\t\t$(\".content\", h).html(responce.html);\n  \t\t} else if (responce.status === \"error\") {\n  \t\t\t$(\".content\", h).html(\"<p>Не удалось получить информацию по данному поезду. Попробуйте перезагрузить страницу.</p>\");\n  \t\t}\n\n  \t\tdata.body.html(h);\n\n\t\t\t$.fn.TrainTimeTableUpdateView($(\".trainTable.forward.\" + h.find(\".trainTable\").data(\"id\")), url);\n\n  \t}\n  }\n});\n\n/*\n\t$.ajax({\n\t\t\"url\": url,\n\t\t\"cache\": false,\n\t\t\"global\": false,\n\t\t\"dataType\": \"json\",\n\t\t\"success\": function (data) {\n\t\t\tHideProgress();\n\n\t\t\tif (data.status == \"ok\")\n\t\t\t\t$(\".modalSearchBlue.main .content, .sapsan-dialog-modal.main .content\", $(\"#idDialogShowDialogByAjax\")).html(data.html);\n\n\t\t\tif (data.status == \"error\")\n\t\t\t\t$(\".modalSearchBlue.main .content, .sapsan-dialog-modal.main .content\", $(\"#idDialogShowDialogByAjax\"))\n\t\t\t\t\t.html(\"<p>Не удалось получить информацию по данному поезду. Попробуйте перезагрузить страницу.</p>\");\n\n\t\t\t// Открываем диалоговое окно\n\t\t\t$(\"#idDialogShowDialogByAjax\").find(\".modalSearchBlue\").removeClass(\"modalSearchBlue\").addClass(\"sapsan-dialog-modal\");\n\t\t\t$(\"#idDialogShowDialogByAjax\").dialog(\"open\");\n\t\t},\n\t\t\"error\": function () {\n\t\t\tHideProgress();\n\n\t\t\t$(\"#id_autogen_RouteForm_dialogErrors\").html(\"На данное направление невозможно прибрести билеты.\").dialog(\"open\");\n\t\t}\n\t});\n*/\n\n};\n\n$(\"#CloneAutoGenSearchForm_stationCodeFrom\").change(function () {\n\n \t// Делаем выбор станции\n \tvar data = $.fn.autoarticleDialogMarchrutJsonData; //jQuery.parseJSON(jsDara);\n \tvar selectFrom = $(\"#CloneAutoGenSearchForm_stationCodeFrom\");\n \tvar selectTo = $(\"#CloneAutoGenSearchForm_stationCodeTo\");\n \tvalFrom = selectFrom.val();\n\n \tif (data)\n \t{\n\t \t$.each(data, function(i, v){\n\t\t\t$(\"select#CloneAutoGenSearchForm_stationCodeTo option[value=\"+v.code+\"]\").remove();\n\t\t});\n\n\t\tb=false;\n\t\t$.each(data, function(i, v){\n\t\t\tif (valFrom == v.code ){b=true;\n\t\t\t\t$(\"#CloneAutoGenSearchForm_stationNameFrom\").val(v.stationname);\n\t\t\t}\n\t\t\tif (b){\n\t\t\t\tif (valFrom != v.code ){\n\t\t\t\t\tselectTo.append(\"<option value=\"+v.code+\">\"+v.stationname+\"</option>\");\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}// if\n\n\t$(\"#CloneAutoGenSearchForm_stationCodeTo\").val(data[data.length-1].code);\n\t$(\"#CloneAutoGenSearchForm_stationNameTo\").val(data[data.length-1].stationname);\n});\n\n$(\"#CloneAutoGenSearchForm_stationCodeTo\").change(function () {\n \t// Делаем выбор станции\n \tvar data = $.fn.autoarticleDialogMarchrutJsonData; //jQuery.parseJSON(jsDara);\n \tvar selectFrom = $(\"#CloneAutoGenSearchForm_stationCodeFrom\");\n \tvar selectTo = $(\"#CloneAutoGenSearchForm_stationCodeTo\");\n\n \tvalTo = selectTo.val();\n\n \tif (data)\n \t{\n\t\tb=false;\n\t\t$.each(data, function(i, v){\n\t\t\tif (!b){\n\t\t\t\tif (valTo == v.code ){\n\t\t\t\t\tb=true;\n\t\t\t\t\t$(\"#CloneAutoGenSearchForm_stationCodeTo\").val(v.code);\n\t\t\t\t\t$(\"#CloneAutoGenSearchForm_stationNameTo\").val(v.stationname);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t// Формируем\n});\n\n$(\"#DialogSearchAutoGen\").click(function () {\n\t// Список параметров\n\tvar train = $(\"#DialogSearchAutoGen_train\").val();\n\tvar StationFrom = $(\"#DialogSearchAutoGen_StationFrom\").val();\n\tvar StationTo = $(\"#DialogSearchAutoGen_StationTo\").val();\n\n\t// Делаем ajax запрос\n\tif (StationFrom && StationTo && train)\n\t{\n\t\t$(\"#CloneAutoGenSearchForm_train\").val(train);\n\n\t\tShowProgress();\n\n\t\t$.ajax({\n\t\t\t\"url\": \"/?r=Routes/DialogMarchrut\",\n\t\t\t\"cache\": false,\n\t\t\t\"data\": {\n\t\t\t\t\"numtrain\": train,\n\t\t\t\t\"ajaxJson\": 1\n\t\t\t},\n\t\t\t\"global\": false,\n\t\t\t\"dataType\": \"json\",\n\t\t\t\"success\": function (data) {\n\t\t\t\tHideProgress();\n\n\t\t\t\t$.fn.autoarticleDialogMarchrutJsonData = data;\n\n\t\t\t\tvar select = $(\"#CloneAutoGenSearchForm_stationCodeFrom\");\n\t\t\t\tvar select2 = $(\"#CloneAutoGenSearchForm_stationCodeTo\");\n\n\t\t\t\t// Обнуляем полностью селект\n\t\t\t\tselect.find(\"option\").remove();\n\t\t\t\tselect2.find(\"option\").remove();\n\n\t\t\t\t$.each(data, function(i, v) {\n\t\t\t\t\tif (!(v.stationname == \"\" || v.code == \"\"))\n\t\t\t\t\t{\n\t\t\t\t\t $(\"select#CloneAutoGenSearchForm_stationCodeFrom option[value=\" + v.code + \"]\").remove();\n\t\t\t\t\t $(\"select#CloneAutoGenSearchForm_stationCodeTo option[value=\" + v.code + \"]\").remove();\n\t\t\t\t\t \tselect.append(\"<option value=\" + v.code + \">\" + v.stationname + \"</option>\");\n\t\t\t\t\t \tselect2.append(\"<option value=\" + v.code + \">\" + v.stationname + \"</option>\");\n\t\t\t\t \t}\n\t\t\t\t});\n\n\t\t\t\t// Устанвливаем начальные значения\n\t\t\t\t$(\"#CloneAutoGenSearchForm_stationCodeFrom\").val(data[0].code);\n\t\t\t\t$(\"#CloneAutoGenSearchForm_stationNameFrom\").val(data[0].stationname);\n\t\t\t\t$(\"#CloneAutoGenSearchForm_stationCodeTo\").val(data[data.length - 1].code);\n\t\t\t\t$(\"#CloneAutoGenSearchForm_stationNameTo\").val(data[data.length - 1].stationname);\n\n\t\t\t\t// Открываем диалоговое окно\n\t\t\t\t$(\"#idDialogSearchAutoGen\").dialog(\"open\");\n\t\t\t},\n\t\t\t\"error\": function () {\n\t\t\t\tHideProgress();\n\n\t\t\t\t$(\"#id_autogen_RouteForm_dialogErrors\").html(\"На данное направление невозможно прибрести билеты.\").dialog(\"open\");\n\t\t\t}\n\t\t});\n\t}\n})\n\njQuery('#idDialogSearchAutoGen').dialog({'autoOpen':false,'position':'center','modal':true,'resizable':false,'dialogClass':'dlgNoTitleSearch','minHeight':'0','width':'auto','disabled':false});\njQuery('#CloneAutoGenSearchForm_dateTo').datepicker(jQuery.extend({showMonthAfterYear:false},jQuery.datepicker.regional['ru'],{'serverDate':'22.04.2017','dateFormat':'dd.mm.yy','minDate':0,'numberOfMonths':3,'stepMonths':3,'howAnim':'','onSelect':function(data,txt) {\n\tvar _data = data;\n\tvar d1 = \"05.06.2017\";\n\tvar closedate = d1.split(\".\");\n\tvar parts = data.split(\".\");\n\tvar closedate = new Date(closedate[2]+\"/\"+closedate[1]+\"/\"+closedate[0]);\n\tvar dat = new Date(parts[2]+\"/\"+parts[1]+\"/\"+parts[0]);\n\n\tif (dat.getTime()>closedate.getTime())\n\t{\n\t\t$.ajax({\n\t\t\turl:\"/routes/validate.php\",\n\t\t\ttype:\"POST\",\n\t\t\tdata: {\n\t\t\t\t\"SearchForm[dateTo]\":_data,\n\t\t\t\t\"SearchForm[stationNameFrom]\":$(\"#CloneAutoGenSearchForm_stationNameFrom\").val(),\n\t\t\t\t\"SearchForm[stationNameTo]\":$(\"#CloneAutoGenSearchForm_stationNameTo\").val(),\n\t\t\t\t\"ajax\":\"id_default_RouteForm_routeForm\",\n\t\t\t\t\"undefined\":\"\"\n\t\t\t},\n\t\t\tsuccess: function (data) {\n\t\t\t\tjson = jQuery.parseJSON(data);\n\n\t\t\t\tif (json.SearchForm_dateTo)\n\t\t\t\t{\n\t\t\t\t\t$.ajax({\n\t\t\t\t\t\turl:\"/?r=Ticketnotice/index\",\n\t\t\t\t\t\tcache:false,\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\ttxtd:json.CloneAutoGenSearchForm_dateTo,\n\t\t\t\t\t\t\tdateTo:_data,\n\t\t\t\t\t\t\tNameFrom:$(\"#CloneAutoGenSearchForm_stationNameFrom\").val(),\n\t\t\t\t\t\t\tNameTo:$(\"#CloneAutoGenSearchForm_stationNameTo\").val()\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess: function (data)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\thtml = \"<p>\"+data+\"</p>\";\n\t\t\t\t\t\t\t$(\"#dialogloadHtml\").dialog(\"close\");\n\t\t\t\t\t\t\t$.arcticmodal(\"close\");\n\t\t\t\t\t\t\t$(\".modal-text\").html(html).arcticmodal({\n\t\t\t\t\t\t\t\topenEffect: {type: \"none\"},\n\t\t\t\t\t\t\t\tcloseEffect: {type: \"none\"},\n\t\t\t\t\t\t\t\tafterClose: function(data, el) {\n\t\t\t\t\t\t\t\t\t$(\"body\").css(\"overflow-y\", \"visible\");\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tvar today = new Date(\"22 Apr 2017 09:03:13\");\n\t\t\t\t\t\t\tvar dateToVal = $(\"#CloneAutoGenSearchForm_dateTo\").val().split(\".\");\n\t\t\t\t\t\t\tdateTo = new Date(dateToVal[2], dateToVal[1], dateToVal[0]);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\twindow.location =url+selectedDate;\n\n\t\t\t\t$(\"#dialogloadHtml\").dialog(\"open\");\n\t\t\t}\n\t\t});\n\t}\n},'howOn':'focus'}));\n\n// Вешаем на ссылку событие открытия календарика\n$(\"#id_autogen_RouteForm_routeForm #search_tickets\").click(function () {\n\t$(\"#dialogloadHtml\").dialog(\"open\");\n\tSetDisabledStep();\n});\n\njQuery('#id_autogen_RouteForm_routeForm').yiiactiveform({'validationUrl':'/routes/validate.php','validateOnSubmit':true,'validateOnChange':false,'afterValidate':function (form, data, hasError) {\n\t// Если есть ошибки\n\tif (hasError || ($.isPlainObject(data) && !$.isEmptyObject(data)))\n\t{\n\t\t// HTML-код для окна\n\t\tvar html = \"\";\n\t\tvar f = true;\n\n\t\t// Перебираем список полей с ошибками\n\t\tfor (var k in data)\n\t\t{\n\t\t\tvar v = data[k];\n\t\t\tvar txtfdate;\n\n\t\t\t// Перебираем список ошибок поля\n\t\t\tif (k.indexOf(\"stationNameTo\") != -1){f = false;}\n\t\t\tif (k.indexOf(\"stationNameFrom\") != -1){f = false;}\n\t\t\tif (k.indexOf(\"dateTo\") != -1){txtfdate = v;}\n\t\t\tif (v.length)\n\t\t\t\tfor (var i = 0; i < v.length; i++)\n\t\t\t\t\thtml += \"<div class=\\\"errorMessage\\\">\" + v[i] + \"</div>\";\n\t\t\telse\n\t\t\t\thtml += \"<div class=\\\"errorMessage\\\">\" + v + \"</div>\";\n\t\t}\n\n\t\t// Показываем окно с ошибками\n\t\tif (f)\n\t\t{\n\t\t\t// загружаем диалоговое окно с формой\n\t\t\t$.ajax({\n\t\t\t\turl:\"/?r=Ticketnotice/index\",\n\t\t\t\tcache:false,\n\t\t\t\tdata: {\n\t\t\t\t\ttxtd:txtfdate,\n\t\t\t\t\tdateTo:$(\"#CloneAutoGenSearchForm_dateTo\").val(),\n\t\t\t\t\tNameFrom:$(\"#CloneAutoGenSearchForm_stationNameFrom\").val(),\n\t\t\t\t\tNameTo:$(\"#CloneAutoGenSearchForm_stationNameTo\").val()\n\t\t\t\t},\n\t\t\t\tsuccess: function(data){\n\t\t\t\t\t$(\"#dialogloadHtml\").dialog(\"close\");\n\t\t\t\t\t$.arcticmodal(\"close\");\n\t\t\t\t\t$(\".message-error-steps\").find(\".text\").html(html).end().arcticmodal({\n\t\t\t\t\t\topenEffect: {type: \"none\"},\n\t\t\t\t\t\tcloseEffect: {type: \"none\"},\n\t\t\t\t\t\tafterClose: function(data, el) {\n\t\t\t\t\t\t\t$(\"body\").css(\"overflow-y\", \"visible\");\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\n\t\t\t\t\tvar today = new Date(\"22 Apr 2017 09:03:13\");\n\t\t\t\t\tvar dateToVal = $(\"#CloneAutoGenSearchForm_dateTo\").val().split(\".\");\n\t\t\t\t\tdateTo = new Date(dateToVal[2], dateToVal[1], dateToVal[0]);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\t$(\"#dialogloadHtml\").dialog(\"close\");\n\t\t\t$.arcticmodal(\"close\");\n\t\t\t$(\".message-error-steps\").find(\".text\").html(html).end().arcticmodal({\n\t\t\t\topenEffect: {type: \"none\"},\n\t\t\t\tcloseEffect: {type: \"none\"},\n\t\t\t\tafterClose: function(data, el) {\n\t\t\t\t\t$(\"body\").css(\"overflow-y\", \"visible\");\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\treturn false;\n\t}\n\n\treturn true;\n},'attributes':[{'id':'CloneAutoGenSearchForm_dateTo','inputID':'CloneAutoGenSearchForm_dateTo','errorID':'CloneAutoGenSearchForm_dateTo_em_','model':'CloneAutoGenSearchForm','name':'dateTo','enableAjaxValidation':true}],'errorCss':'error'});\njQuery('#idDialogShowDialogByAjax').dialog({'autoOpen':false,'position':'center','modal':true,'resizable':false,'dialogClass':'dlgNoTitleSearch','minHeight':'0','width':'auto','disabled':false});\n\n$(document).ready(function(){\n\t$(\".closeDialog\").live(\"click\", function () {\n\t\t$(\"#idDialogSearchAutoGen\").dialog(\"close\");\n\t\t$(\"#idDialogShowDialogByAjax\").dialog(\"close\");\n\t});\n});\n\n\n$(\".overlay-process\").delegate(\".overlay-process__close\", \"click\", function(e) {\n\tstopNewOverlay();\n\te.preventDefault();\n});\n\n});\n/*]]>*/\n</script></noindex>\n\n<ul class=\"ui-autocomplete ui-menu ui-widget ui-widget-content ui-corner-all\" id=\"ui-id-1\" tabindex=\"0\" style=\"z-index: 1; display: none;\"></ul><ul class=\"ui-autocomplete ui-menu ui-widget ui-widget-content ui-corner-all\" id=\"ui-id-2\" tabindex=\"0\" style=\"z-index: 1; display: none;\"></ul><div id=\"ui-datepicker-div\" class=\"ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\"></div><div class=\"ui-dialog ui-widget ui-widget-content ui-corner-all ui-draggable ui-resizable\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"ui-id-3\" style=\"display: none; outline: 0px; z-index: 1000; position: absolute;\"><div class=\"ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix\"><span id=\"ui-id-3\" class=\"ui-dialog-title\">Сообщение</span><a href=\"#\" class=\"ui-dialog-titlebar-close ui-corner-all\" role=\"button\"><span class=\"ui-icon ui-icon-closethick\">close</span></a></div><div id=\"id_main-form-new_RouteForm_dialogErrors\" class=\"ui-dialog-content ui-widget-content\">\n</div><div class=\"ui-resizable-handle ui-resizable-n\" style=\"z-index: 1000;\"></div><div class=\"ui-resizable-handle ui-resizable-e\" style=\"z-index: 1000;\"></div><div class=\"ui-resizable-handle ui-resizable-s\" style=\"z-index: 1000;\"></div><div class=\"ui-resizable-handle ui-resizable-w\" style=\"z-index: 1000;\"></div><div class=\"ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se ui-icon-grip-diagonal-se\" style=\"z-index: 1000;\"></div><div class=\"ui-resizable-handle ui-resizable-sw\" style=\"z-index: 1000;\"></div><div class=\"ui-resizable-handle ui-resizable-ne\" style=\"z-index: 1000;\"></div><div class=\"ui-resizable-handle ui-resizable-nw\" style=\"z-index: 1000;\"></div></div><div class=\"ui-dialog ui-widget ui-widget-content ui-corner-all dlgNoTitleSearch ui-draggable\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"ui-id-4\" style=\"display: none; outline: 0px; z-index: 1000;\"><div class=\"ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix\"><span id=\"ui-id-4\" class=\"ui-dialog-title\">&nbsp;</span><a href=\"#\" class=\"ui-dialog-titlebar-close ui-corner-all\" role=\"button\"><span class=\"ui-icon ui-icon-closethick\">close</span></a></div><div class=\"SearchFormDialog ui-dialog-content ui-widget-content\" id=\"idDialogSearch\">\n<table width=\"450\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\">\n\t<tbody><tr>\n\t\t<td>\n\t\t\t<div class=\"main_block\" id=\"form_popup\">\n\t\t\t\t<form id=\"id_dialog_RouteForm_routeForm\" action=\"https://poezd.ru/\" method=\"post\"><div class=\"modalSearchBlue main\">\n\t<span class=\"close box-modal_close arcticmodal-close\"></span>\n\t<div class=\"item\">\n\t\t<label for=\"\">Откуда:</label>\n<input id=\"CloneSearchForm_stationCodeFrom\" class=\"stationCodeFromInput\" name=\"CloneSearchForm[stationCodeFrom]\" type=\"hidden\"><input maxlength=\"100\" value=\"Москва\" autocomplete=\"off\" tabindex=\"10\" onclick=\"this.select()\" class=\"stationFromInput ui-autocomplete-input\" id=\"CloneSearchForm_stationNameFrom\" name=\"CloneSearchForm[stationNameFrom]\" type=\"text\"><span role=\"status\" aria-live=\"polite\" class=\"ui-helper-hidden-accessible\"></span>\t</div>\n\t<div class=\"item\">\n\t\t<label for=\"\">Куда:</label>\n<input id=\"CloneSearchForm_stationCodeTo\" class=\"stationCodeToInput\" name=\"CloneSearchForm[stationCodeTo]\" type=\"hidden\"><input maxlength=\"100\" value=\"Санкт-Петербург\" autocomplete=\"off\" tabindex=\"11\" onclick=\"this.select()\" class=\"stationToInput ui-autocomplete-input\" id=\"CloneSearchForm_stationNameTo\" name=\"CloneSearchForm[stationNameTo]\" type=\"text\"><span role=\"status\" aria-live=\"polite\" class=\"ui-helper-hidden-accessible\"></span>\t</div>\n\t<div class=\"item\">\n\t\t<label for=\"\">Когда:</label>\n\t\t<div class=\"date\">\n<input class=\"date hasDatepicker\" tabindex=\"12\" autocomplete=\"off\" id=\"CloneSearchForm_dateTo\" name=\"CloneSearchForm[dateTo]\" type=\"text\" value=\"23.04.2017\">\t\t\t<span class=\"icon\" onclick=\"$(this).parent().find('input.date').datepicker().datepicker('show')\"></span>\n\t\t</div>\n\t</div>\n\t<div class=\"buttons\">\n\t\t<span class=\"p_routes\" onclick=\"refresh_CloneSearchForm();return false;\" title=\"Поменять направление\"></span>\n<input id=\"search_tickets\" tabindex=\"4\" value=\"Искать билеты\" name=\"\" class=\"btn\" type=\"submit\">\t</div>\n\t<div style=\"display: none\">\n\t\t<div class=\"errorBlock\">\n\t\t\t<span class=\"close box-modal_close arcticmodal-close\"></span>\n<div class=\"errorMessage\" id=\"CloneSearchForm_stationNameFrom_em_\" style=\"display:none\"></div><div class=\"errorMessage\" id=\"CloneSearchForm_stationNameTo_em_\" style=\"display:none\"></div><div class=\"errorMessage\" id=\"CloneSearchForm_dateTo_em_\" style=\"display:none\"></div>\t\t</div>\n\t</div>\n</div>\n</form><noindex>\n\t\n</noindex>\t\t\t</div>\n\t\t</td>\n\t</tr>\n</tbody></table>\n</div></div><ul class=\"ui-autocomplete ui-menu ui-widget ui-widget-content ui-corner-all\" id=\"ui-id-5\" tabindex=\"0\" style=\"z-index: 1001; display: none;\"></ul><ul class=\"ui-autocomplete ui-menu ui-widget ui-widget-content ui-corner-all\" id=\"ui-id-6\" tabindex=\"0\" style=\"z-index: 1001; display: none;\"></ul><div class=\"ui-dialog ui-widget ui-widget-content ui-corner-all dlgNoTitle ui-draggable\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"ui-id-7\" style=\"display: none; outline: 0px; z-index: 1000;\"><div class=\"ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix\"><span id=\"ui-id-7\" class=\"ui-dialog-title\">&nbsp;</span><a href=\"#\" class=\"ui-dialog-titlebar-close ui-corner-all\" role=\"button\"><span class=\"ui-icon ui-icon-closethick\">close</span></a></div><div id=\"dialogloadHtml\" class=\"ui-dialog-content ui-widget-content\" style=\"display: block;\">\n\n<table width=\"70\" cellpadding=\"5\">\n    <tbody><tr>\n        <td align=\"center\" style=\"color: #00286f; font-size: 120%; padding-bottom: 5px;\">Идет загрузка...</td>\n    </tr>\n    <tr>\n        <td><img src=\"/img/loader.gif\"></td>\n    </tr>\n</tbody></table>\n</div></div><div class=\"ui-dialog ui-widget ui-widget-content ui-corner-all dlgNoTitleSearch ui-draggable\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"ui-id-8\" style=\"display: none; outline: 0px; z-index: 1000;\"><div class=\"ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix\"><span id=\"ui-id-8\" class=\"ui-dialog-title\">&nbsp;</span><a href=\"#\" class=\"ui-dialog-titlebar-close ui-corner-all\" role=\"button\"><span class=\"ui-icon ui-icon-closethick\">close</span></a></div><div class=\"SearchFormDialog null ui-dialog-content ui-widget-content\" id=\"idDialogSearchAutoGen\">\n<form id=\"id_autogen_RouteForm_routeForm\" action=\"https://poezd.ru/\" method=\"post\"><input name=\"CloneAutoGenSearchForm[train]\" id=\"CloneAutoGenSearchForm_train\" type=\"hidden\"><input name=\"CloneAutoGenSearchForm[stationNameFrom]\" id=\"CloneAutoGenSearchForm_stationNameFrom\" type=\"hidden\" value=\"Москва\"><input name=\"CloneAutoGenSearchForm[stationNameTo]\" id=\"CloneAutoGenSearchForm_stationNameTo\" type=\"hidden\" value=\"Санкт-Петербург\"><div class=\"modalSearchBlue main\">\n\t<span class=\"close closeDialog\"></span>\n\t<table border=\"0\" style=\"width: 94%;margin: 0;\"><tbody><tr><td class=\"label\">Откуда:</td><td>\n\t\t\t\t<span style=\"display:none;\"><label for=\"CloneAutoGenSearchForm_stationNameFrom\" class=\"required\">Откуда <span class=\"required\">*</span></label></span>\n<select size=\"1\" class=\"autogen_form_select\" style=\"width: 153px;\" name=\"CloneAutoGenSearchForm[stationCodeFrom]\" id=\"CloneAutoGenSearchForm_stationCodeFrom\">\n</select>\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td class=\"form_vertical_magrin\" colspan=\"2\"></td>\n\t\t</tr>\n\t\t<tr><td class=\"label\">Куда:</td><td>\n\t\t\t\t<span style=\"display:none;\"><label for=\"CloneAutoGenSearchForm_stationNameTo\" class=\"required\">Куда <span class=\"required\">*</span></label></span>\n<select size=\"1\" class=\"autogen_form_select\" style=\"width: 153px;\" onchange=\"\n\t\tvar CodeTo = $(&quot;#CloneAutoGenSearchForm_stationCodeTo&quot;).val();\n\n\t\t$(&quot;#CloneAutoGenSearchForm_stationNameTo&quot;).val(CodeTo);\n\n\t\tvar objJson = $.fn.autoarticleDialogMarchrutJsonData; //jQuery.parseJSON(jsDara);\n\n\t\tif (objJson)\n\t\t{\n\t\t\t$.each(objJson, function() {\n\t\t\t\tif (this[&quot;code&quot;]==CodeTo)\n\t\t\t\t{\n\t\t\t\t\tnameSF = this[&quot;stationname&quot;];\n\t\t\t\t\t$(&quot;#CloneAutoGenSearchForm_stationNameTo&quot;).val(nameSF);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\" name=\"CloneAutoGenSearchForm[stationCodeTo]\" id=\"CloneAutoGenSearchForm_stationCodeTo\">\n</select>\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td class=\"form_vertical_magrin\" colspan=\"2\"></td>\n\t\t</tr>\n\t\t<tr><td class=\"label\">Когда:</td><td class=\"item\">\n<input class=\"date hasDatepicker\" tabindex=\"30\" autocomplete=\"off\" style=\"width: 136px;\" id=\"CloneAutoGenSearchForm_dateTo\" name=\"CloneAutoGenSearchForm[dateTo]\" type=\"text\" value=\"23.04.2017\">\t\t\t\t<span style=\"display:none;\"><div class=\"errorMessage\" id=\"CloneAutoGenSearchForm_dateTo_em_\" style=\"display:none\"></div></span>\n\t\t\t\t<img onclick=\"$(this).datepicker().datepicker('show')\" src=\"/img/new/calendar_blue.gif\" id=\"SearchForm_dateTo\" style=\"position: relative; left: -29px; top: 3px; cursor: pointer;\">\n\t\t\t</td></tr>\n\t\t<tr>\n\t\t\t<td colspan=\"2\" style=\"font-size: 13px; padding: 10px 0; text-align: center;\">Открыта продажа билетов на <b>5 июня</b></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td class=\"form_vertical_magrin\" colspan=\"2\"></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td colspan=\"2\" style=\"padding: 0 85px 0 116px;\">\n\t\t\t\t<div style=\"position: relative; z-index: 100000;\">\n<input id=\"search_tickets\" tabindex=\"40\" value=\"Искать билеты\" class=\"btn\" type=\"submit\">\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n\t<div style=\"clear: both; width: 100%; font-size: 1px; margin: 0;\"></div>\n</div>\n</form><div style=\"display: none;\">\n\t<div id=\"id_autogen_RouteForm_dialogErrors\" class=\"box-modal message-error-steps\">\n\t\t<div class=\"box-modal_close arcticmodal-close close\"></div>\n\t\t<div class=\"text\"></div>\n\t</div>\n\t<div class=\"modal-text\"></div>\n</div>\n<style>\n\t.ui-state-active-d, .ui-widget-content .ui-state-active-d, .ui-widget-header .ui-state-active-d {\n\t\tborder: 1px solid #eeeeee; background: #ffffff url(/img/ui-bg_flat_65_ffffff_40x100.png) 50% 50% repeat-x; font-weight: bold; color: #FF0000; }\n\t.ui-state-active-d a, .ui-state-active-d a:link, .ui-state-active-d a:visited { color: #FF0000; text-decoration: none; }\n\t.ui-state-active-silver, .ui-widget-content .ui-state-active-silver, .ui-widget-header .ui-state-active-silver {\n\t\tborder: 1px solid #eeeeee; background: #ffffff url(/img/ui-bg_flat_65_ffffff_40x100.png) 50% 50% repeat-x; font-weight: bold; color: #A2A2A2; }\n\t.ui-state-active-silver a, .ui-state-active-silver a:link, .ui-state-active-silver a:visited { color: #A2A2A2; text-decoration: none; }\n</style>\n<noindex>\n\t\n</noindex></div></div><div class=\"ui-dialog ui-widget ui-widget-content ui-corner-all dlgNoTitleSearch ui-draggable\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"ui-id-9\" style=\"display: none; outline: 0px; z-index: 1000;\"><div class=\"ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix\"><span id=\"ui-id-9\" class=\"ui-dialog-title\">&nbsp;</span><a href=\"#\" class=\"ui-dialog-titlebar-close ui-corner-all\" role=\"button\"><span class=\"ui-icon ui-icon-closethick\">close</span></a></div><div class=\"SearchFormDialog null ui-dialog-content ui-widget-content\" id=\"idDialogShowDialogByAjax\">\n<div class=\"modalSearchBlue main\">\n\t<span class=\"close closeDialog\"></span>\n\t<div class=\"content\">\n\t</div>\n</div>\n</div></div><script type=\"text/javascript\" id=\"\">dataLayer.push({event:\"checkout\",ecommerce:{checkout:{actionField:{step:1}}}});</script>\n<script type=\"text/javascript\" id=\"\">(function(d,b,a){(b[a]=b[a]||[]).push(function(){try{b.yaCounter14466964=new Ya.Metrika({id:14466964,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0,ecommerce:\"dataLayer\"})}catch(a){}});var e=d.getElementsByTagName(\"script\")[0],c=d.createElement(\"script\");a=function(){e.parentNode.insertBefore(c,e)};c.type=\"text/javascript\";c.async=!0;c.src=\"https://mc.yandex.ru/metrika/watch.js\";\"[object Opera]\"==b.opera?d.addEventListener(\"DOMContentLoaded\",a,!1):a()})(document,window,\"yandex_metrika_callbacks\");</script>\n<noscript>&lt;div&gt;&lt;img src=\"https://mc.yandex.ru/watch/14466964\" style=\"position:absolute; left:-9999px;\" alt=\"\"&gt;&lt;/div&gt;</noscript>\n<div style=\"display: none; visibility: hidden;\"><meta name=\"google-site-verification\" content=\"Xmy5PHy--9WezMe8XXxt__Xqui2WeyvLOioalmIKFI8\"></div><script src=\"//track.dumedia.ru/track?clientCode=39b18368c83f&amp;level=main&amp;fsdt=0&amp;sourceDomain=&amp;url=https%3A%2F%2Fpoezd.ru%2F&amp;referrer=\"></script><iframe src=\"https://content.adriver.ru/banners/0002186/0002186173/0/l2.html?0&amp;4&amp;6&amp;0&amp;951762&amp;0&amp;0&amp;231&amp;131.193.34.202&amp;counter&amp;1\" style=\"height: 10px; width: 10px; position: absolute; left: -10000px; top: -10000px;\"></iframe></body>"}
{"link":"https://poezd.ru/login","html":"<head>\n\t<meta charset=\"utf-8\">\n\t<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n\t<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n<title>Железнодорожные билеты онлайн — ошибка 404</title>\n<meta name=\"description\" content=\"\">\n<meta name=\"keywords\" content=\"\">\n<meta property=\"og:title\" content=\"Poezd.ru - Выход\">\n<meta property=\"og:image\" content=\"https://poezd.ru/images/og-image_2.png\">\n<meta property=\"og:image:height\" content=\"280\">\n<meta property=\"og:image:width\" content=\"537\">\n<meta property=\"og:type\" content=\"website\">\n<link rel=\"icon\" type=\"image/x-icon\" href=\"/favicon.ico\">\n<link rel=\"shortcut icon\" type=\"image/x-icon\" href=\"/favicon.ico\">\n<link rel=\"image_src\" href=\"https://poezd.ru/images/og-image_2.png\">\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/css/empty.css?v=1.83.258\">\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/build/common/styles/index.css?v=1.83.258\">\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/assets/error_35d2faeb35b2c146ffdb94da71cff3fe.css?v=1.83.258\">\n<script type=\"text/javascript\" async=\"\" src=\"https://mc.yandex.ru/metrika/watch.js\"></script><script type=\"text/javascript\" async=\"\" src=\"//www.googleadservices.com/pagead/conversion_async.js\"></script><script type=\"text/javascript\" async=\"\" src=\"https://www.google-analytics.com/analytics.js\"></script><script async=\"\" src=\"//www.googletagmanager.com/gtm.js?id=GTM-WXPP2W\"></script><script async=\"\" src=\"//www.google-analytics.com/analytics.js\"></script><script type=\"text/javascript\" src=\"/js/jq/jquery.js?v=1.83.258\"></script>\n<script type=\"text/javascript\" src=\"/js/jq-ui/js/jquery-ui.min.js?v=1.83.258\"></script>\n<script type=\"text/javascript\" src=\"/assets/95b6a9c9/jquery.cookie.js?v=1.83.258\"></script>\n<script type=\"text/javascript\" src=\"/assets/95b6a9c9/jquery.yiiactiveform.js?v=1.83.258\"></script>\n<script type=\"text/javascript\" src=\"/js/html5/html5shiv.min.js?v=1.83.258\"></script>\n<script type=\"text/javascript\" src=\"/js/html5/respond.js?v=1.83.258\"></script>\n<script type=\"text/javascript\" src=\"/js/html5/jquery.arcticmodal-0.3.min.js?v=1.83.258\"></script>\n<script type=\"text/javascript\" src=\"/js/jquery.maskedinput-1.3.min.js?v=1.83.258\"></script>\n<script type=\"text/javascript\" src=\"/js/html5/scripts.js?v=1.83.258\"></script>\n<script type=\"text/javascript\" src=\"/js/html5/general.js?v=1.83.258\"></script>\n\n\t<!--begin  Аналитика google -->\n\t<script>\n\t\t(function (i, s, o, g, r, a, m) {\n\t\t\ti['GoogleAnalyticsObject'] = r;\n\t\t\ti[r] = i[r] || function () {\n\t\t\t\t\t(i[r].q = i[r].q || []).push(arguments)\n\t\t\t\t}, i[r].l = 1 * new Date();\n\t\t\ta = s.createElement(o),\n\t\t\t\tm = s.getElementsByTagName(o)[0];\n\t\t\ta.async = 1;\n\t\t\ta.src = g;\n\t\t\tm.parentNode.insertBefore(a, m)\n\t\t})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');\n\t\tga('create', 'UA-15930803-4', 'poezd.ru');\n\t\tga('send', 'pageview');\n\t</script>\n\t<!--end Аналитика google -->\n\t<script>\n\t\tvar isDisabledStep = false;\n\t\tvar pDialogProgress = null;\n\t\tvar pDialogProgressOverlay = null;\n\n\t\tfunction ShowProgress() {\n\t\t\tif (!isDisabledStep) {\n\t\t\t\tif (pDialogProgressOverlay == null)\n\t\t\t\t\tpDialogProgressOverlay = new $.ui.dialog.overlay(pDialogProgress);\n\n\t\t\t\tpDialogProgress.dialog('open');\n\t\t\t}\n\t\t}\n\n\t\tfunction HideProgress() {\n\t\t\tif (!isDisabledStep) {\n\t\t\t\tif (pDialogProgressOverlay != null) {\n\t\t\t\t\tpDialogProgressOverlay.destroy();\n\t\t\t\t\tpDialogProgressOverlay = null;\n\t\t\t\t}\n\t\t\t\tpDialogProgress.dialog('close');\n\t\t\t}\n\t\t\telse {\n\t\t\t\tisDisabledStep = false;\n\t\t\t}\n\t\t}\n\n\t\tfunction SetDisabledStep() {\n\t\t\tisDisabledStep = true;\n\t\t}\n\t</script>\n</head>\n<body class=\"error\">\n<!-- Google Tag Manager -->\n<noscript>\n\t&lt;iframe src=\"//www.googletagmanager.com/ns.html?id=GTM-WXPP2W\" height=\"0\" width=\"0\" style=\"display:none;visibility:hidden\"&gt;&lt;/iframe&gt;\n</noscript>\n<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n\t\tnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n\t\tj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n\t\t'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n\t})(window,document,'script','dataLayer','GTM-WXPP2W');\n</script>\n<!-- End Google Tag Manager -->\n<div class=\"overlay-process-visible\">\n\t<section class=\"wrapper\">\n\t\t<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n\t\t<a href=\"https://poezd.ru\" class=\"main-logo\" onclick=\"ga('send', 'event', 'button', 'click', 'p404_mainpage');\">Железнодорожные<br>билеты онлайн</a>\n\t\t<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n\t\t<span class=\"main-phone\">8 800 700-04-08</span>\n\t\t<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n\t\t<section class=\"main-text\">\n\t\t\t<p>Произошла ошибка.</p>\n\n\t\t\t<p>Попробуйте <a href=\"javascript:location.reload();\" onclick=\"ga('send', 'event', 'button', 'click', 'p404_refresh');\">обновить страницу</a>,<br>или <a href=\"javascript:history.back();\" onclick=\"ga('send', 'event', 'button', 'click', 'p404_back');\">вернуться\n\t\t\t\t\tназад</a> и повторить запрос.</p>\n\n\t\t\t<p class=\"main-text__mini\">Будем очень признательны, если сообщите нам об ошибке по телефону 8-800-700-04-08 или на e-mail <a href=\"mailto:rw@travelmart.ru\">rw@travelmart.ru</a>.</p>\n\t\t</section>\n\t\t<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n\t\t<div class=\"buffer\"></div>\n\t</section>\n\n\t<footer class=\"footer\">\n\n\t\t<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n\t\t<section class=\"footer__block _1\">\n\t\t\t<div class=\"footer__block__content\">\n\t\t\t\t<p class=\"footer__block__content__title\">Наличие мест и билеты</p>\n\t\t\t\t<form id=\"id_error_RouteForm_routeForm\" action=\"https://poezd.ru/\" method=\"post\">\t<section class=\"tickets\">\n\t\t<input id=\"SearchForm_stationCodeFrom\" class=\"stationCodeFromInput\" name=\"SearchForm[stationCodeFrom]\" type=\"hidden\"><input maxlength=\"100\" value=\"Москва\" autocomplete=\"off\" tabindex=\"1\" onclick=\"this.select()\" class=\"inputFrom input__text ui-autocomplete-input\" id=\"SearchForm_stationNameFrom\" name=\"SearchForm[stationNameFrom]\" type=\"text\"><span role=\"status\" aria-live=\"polite\" class=\"ui-helper-hidden-accessible\"></span><input id=\"SearchForm_stationCodeTo\" class=\"stationCodeToInput\" name=\"SearchForm[stationCodeTo]\" type=\"hidden\"><input maxlength=\"100\" value=\"Санкт-Петербург\" autocomplete=\"off\" tabindex=\"2\" onclick=\"this.select()\" class=\"inputTo input__text ui-autocomplete-input\" id=\"SearchForm_stationNameTo\" name=\"SearchForm[stationNameTo]\" type=\"text\"><span role=\"status\" aria-live=\"polite\" class=\"ui-helper-hidden-accessible\"></span>\t\t<a href=\"javascript: void(0);\" class=\"route\" onclick=\"refresh_SearchForm()\"></a>\n\n\t\t<div class=\"date\">\n\t\t\t<input class=\"date input__text hasDatepicker\" tabindex=\"3\" autocomplete=\"off\" placeholder=\"Дата\" id=\"SearchForm_dateTo\" name=\"SearchForm[dateTo]\" type=\"text\" value=\"23.04.2017\">\t\t</div>\n\t\t<input id=\"search_tickets\" tabindex=\"4\" value=\"Купить\" name=\"\" class=\"btn input__submit\" onclick=\"ga('send', 'event', 'button', 'click', 'p404_search_places');\" type=\"submit\">\t\t<div style=\"display: none\">\n\t\t\t<div class=\"errorBlock\">\n\t\t\t\t<span class=\"close box-modal_close arcticmodal-close\"></span>\n\t\t\t\t\t\t\t\t<span class=\"text\">\n\t\t\t\t\t\t\t\t<div class=\"errorMessage\" id=\"SearchForm_stationNameFrom_em_\" style=\"display:none\"></div>\t\t\t\t\t\t\t\t<div class=\"errorMessage\" id=\"SearchForm_stationNameTo_em_\" style=\"display:none\"></div>\t\t\t\t\t\t\t\t<div class=\"errorMessage\" id=\"SearchForm_dateTo_em_\" style=\"display:none\"></div>\t\t\t\t\t\t\t\t</span>\n\t\t\t</div>\n\t\t</div>\n\t</section>\n</form>\t<noindex>\n\t\t<script>\n\t\t\t// Обязательные параметры для календаря\n\t\t\tvar unixtimes = \"1496610000000\";\n\t\t\tvar unixtimessixtyDay = \"1497906000000\";\n\n\t\t\tfunction refresh_SearchForm() {\n\t\t\t\tvar From = $(\"#SearchForm_stationNameFrom\").val();\n\t\t\t\tvar To = $(\"#SearchForm_stationNameTo\").val();\n\t\t\t\t$(\"#SearchForm_stationNameFrom\").val(To);\n\t\t\t\t$(\"#SearchForm_stationNameTo\").val(From);\n\t\t\t\t//poe 2050\n\t\t\t\tvar CodeFrom = $(\"#SearchForm_stationCodeFrom\").val();\n\t\t\t\tvar CodeTo = $(\"#SearchForm_stationCodeTo\").val();\n\t\t\t\t$(\"#SearchForm_stationCodeFrom\").val(CodeTo);\n\t\t\t\t$(\"#SearchForm_stationCodeFrom\").attr(\"value\", CodeTo);\n\t\t\t\t$(\"#SearchForm_stationCodeTo\").val(CodeFrom);\n\t\t\t\t$(\"#SearchForm_stationCodeTo\").attr(\"value\", CodeFrom);\n\n\t\t\t}\n\t\t</script>\n\t</noindex>\n\t\t\t</div>\n\t\t</section>\n\t\t<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n\t\t<section class=\"footer__block _2\">\n\t\t\t<div class=\"footer__block__content\">\n\t\t\t\t<p class=\"footer__block__content__title\">Поиск поезда</p>\n\t\t\t\t<form id=\"id_error_SearchTrain_trainForm\" action=\"https://poezd.ru/raspisanie/\" method=\"post\"><div class=\"form\">\n    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n    <span style=\"display:none;\"><label for=\"SearchTrainForm_trainNumberOrName\" class=\"required\">Номер или название поезда <span class=\"required\">*</span></label></span>\n    <span style=\"display:none;\"><div class=\"errorMessage\" id=\"SearchTrainForm_trainNumberOrName_em_\" style=\"display:none\"></div></span>\n    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n<input maxlength=\"128\" autocomplete=\"off\" tabindex=\"10\" class=\"input__text ui-autocomplete-input\" placeholder=\"Номер или название поезда\" onclick=\"this.select()\" id=\"SearchTrainForm_trainNumberOrName\" name=\"SearchTrainForm[trainNumberOrName]\" type=\"text\"><span role=\"status\" aria-live=\"polite\" class=\"ui-helper-hidden-accessible\"></span><input id=\"id_error_SearchTrain_trainForm_SearchTrainForm_trainNumberOrName\" name=\"SearchTrainForm[trainNumberOrName]\" type=\"hidden\">    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n<input id=\"search_tickets\" tabindex=\"40\" value=\"Искать поезд\" name=\"\" class=\"input__submit\" onclick=\"ga('send', 'event', 'button', 'click', 'p404_search_train');\" type=\"submit\">    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n</div>\n</form>\t\t\t\t<p class=\"footer__block__content__links\"><a href=\"/raspisanie/Sapsan/\" onclick=\"ga('send', 'event', 'button', 'click', 'p404_tr_sapsan');\">Сапсан</a>, <a href=\"/raspisanie/Lastochka/\" onclick=\"ga('send', 'event', 'button', 'click', 'p404_tr_lastochka');\">Ласточка</a>,\n\t\t\t\t\t<a href=\"/raspisanie/Allegro/\" onclick=\"ga('send', 'event', 'button', 'click', 'p404_tr_allegro');\">Аллегро</a>, <a href=\"/raspisanie/Krasnaya_Strela/\" onclick=\"ga('send', 'event', 'button', 'click', 'p404_tr_krasnstrela');\">Красная\n\t\t\t\t\t\tстрела</a>, <a href=\"/raspisanie/Grand_Ekspress/\" onclick=\"ga('send', 'event', 'button', 'click', 'p404_tr_grand');\">Гранд Экспресс</a>, <a href=\"/raspisanie/Ulyanovsk/\" onclick=\"ga('send', 'event', 'button', 'click', 'p404_tr_ulyanovsk');\">Ульяновск</a>,\n\t\t\t\t\t<a href=\"/raspisanie/Rossiya/\" onclick=\"ga('send', 'event', 'button', 'click', 'p404_tr_rossiya');\">Россия</a>, <a href=\"/raspisanie/Tatarstan_Premium/\" onclick=\"ga('send', 'event', 'button', 'click', 'p404_tr_tatarstan');\">Татарстан</a>\n\t\t\t\t</p>\n\n\t\t\t\t<p class=\"footer__block__content__all\"><a href=\"/raspisanie/\" onclick=\"ga('send', 'event', 'button', 'click', 'p404_train_list');\">Все поезда РЖД</a></p>\n\t\t\t</div>\n\t\t</section>\n\t\t<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n\t\t<section class=\"footer__block _3\">\n\t\t\t<div class=\"footer__block__content\">\n\t\t\t\t<p class=\"footer__block__content__title\">Поиск станции</p>\n\t\t\t\t<form style=\"margin:0px; padding:0px;\" id=\"id_error_SearchStation_trainForm\" action=\"https://poezd.ru/spisok_stanciy/\" method=\"post\"><div class=\"form\">\n    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n    <span style=\"display:none;\"><label for=\"SearchStationForm_stationName\" class=\"required\">Название станции <span class=\"required\">*</span></label></span>\n    <span style=\"display:none;\"><div class=\"errorMessage\" id=\"SearchStationForm_stationName_em_\" style=\"display:none\"></div></span>\n    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n<input maxlength=\"128\" autocomplete=\"off\" tabindex=\"10\" class=\"input__text ui-autocomplete-input\" placeholder=\"Название станции или города\" onclick=\"this.select()\" id=\"SearchStationForm_stationName\" name=\"SearchStationForm[stationName]\" type=\"text\"><span role=\"status\" aria-live=\"polite\" class=\"ui-helper-hidden-accessible\"></span><input id=\"id_error_SearchStation_trainForm_SearchStationForm_stationName\" name=\"SearchStationForm[stationName]\" type=\"hidden\">    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n<input id=\"search_tickets\" tabindex=\"40\" value=\"Искать станцию\" name=\"\" class=\"input__submit\" onclick=\"ga('send', 'event', 'button', 'click', 'p404_search_station');\" type=\"submit\">    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n</div>\n</form>\t\t\t\t<p class=\"footer__block__content__links\"><a href=\"/spisok_stanciy/Moskva/\" onclick=\"ga('send', 'event', 'button', 'click', 'p404_st_moscow');\">Вокзалы Москвы</a>, <a href=\"/spisok_stanciy/Sankt-Peterburg/\" onclick=\"ga('send', 'event', 'button', 'click', 'p404_st_petersburg');\">Вокзалы Санкт-Петербурга</a>, <a href=\"/spisok_stanciy/Novosibirsk/\" onclick=\"ga('send', 'event', 'button', 'click', 'p404_st_novosibirsk');\">Новосибирск</a>,\n\t\t\t\t\t<a href=\"/spisok_stanciy/Kazan/\" onclick=\"ga('send', 'event', 'button', 'click', 'p404_st_kazan');\">Казань</a>, <a href=\"/spisok_stanciy/Samara/\" onclick=\"ga('send', 'event', 'button', 'click', 'p404_st_samara');\">Самара</a>,\n\t\t\t\t\t<a href=\"/spisok_stanciy/Omsk/\" onclick=\"ga('send', 'event', 'button', 'click', 'p404_st_omsk');\">Омск</a>, <a href=\"/spisok_stanciy/Rostov/\" onclick=\"ga('send', 'event', 'button', 'click', 'p404_st_rostov');\">Ростов-на-Дону</a>\n\t\t\t\t</p>\n\n\t\t\t\t<p class=\"footer__block__content__all\"><a href=\"/spisok_stanciy/\" onclick=\"ga('send', 'event', 'button', 'click', 'p404_st_list');\">Все станции</a></p>\n\t\t\t</div>\n\t\t</section>\n\t\t<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n\n\t</footer>\n\n\t<div id=\"id_default_RouteForm_dialogErrors\"></div>\n\n\t\t<div style=\"display: none;\">\n\t\t<div id=\"id_default_ErrorWidget58fb59b3064f3_dialogErrors\" class=\"box-modal message-error-steps\">\n\t\t\t<div class=\"box-modal_close arcticmodal-close close\"></div>\n\t\t\t<div class=\"text\">\n\t\t\t\t\t\t\t</div>\n\t\t</div>\n\t</div>\n\n</div><input type=\"hidden\" id=\"DialogSearchAutoGen_train\" value=\"\">\n<input type=\"hidden\" id=\"DialogSearchAutoGen_StationFrom\" value=\"\">\n<input type=\"hidden\" id=\"DialogSearchAutoGen_StationTo\" value=\"\">\n<input type=\"hidden\" id=\"DialogSearchAutoGen\">\n<noindex>\n\t<script>\n\t\tfunction InitButton (train, StationNameFrom, StationNameTo)\n\t\t{\n\t\t\t// Присваиваме параметры и открываем диалоговое окно\n\t\t\t$(\"#DialogSearchAutoGen_train\").val(train);\n\t\t\t$(\"#DialogSearchAutoGen_StationFrom\").val(StationNameFrom);\n\t\t\t$(\"#DialogSearchAutoGen_StationTo\").val(StationNameTo);\n\t\t\t$(\"#DialogSearchAutoGen\").click();\n\t\t};\n\t</script>\n</noindex>\n<div class=\"overlay-process\">\n\t<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n\t<a href=\"javascript:void(0);\" class=\"overlay-process__close\">Отменить<br>поиск</a>\n\t<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n\t<div class=\"overlay-process__info\">\n\t\t<p class=\"overlay-process__info__title\"></p>\n\t\t<p class=\"overlay-process__info__info\"><span class=\"_pretend\"></span>по маршруту <span class=\"from\"></span> — <span class=\"to\"></span><br>на <span class=\"date\"></span></p>\n\t\t<p class=\"overlay-process__info__note\">Подождите, пожалуйста,<br>это может занять несколько секунд</p>\n\t</div>\n\t<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n\t<span class=\"overlay-process__town-1\"></span>\n\t<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n\t<span class=\"overlay-process__town-2\"></span>\n\t<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n\t<span class=\"overlay-process__road\"></span>\n\t<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n\t<span class=\"overlay-process__forest\"></span>\n\t<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n\t<span class=\"trains-block__item overlay-process__poezd-2\" data-speed=\"2\" data-width=\"966\"></span>\n\t<span class=\"trains-block__item overlay-process__poezd-3\" data-speed=\"3\" data-width=\"1320\"></span>\n\t<span class=\"trains-block__item overlay-process__poezd-4\" data-speed=\"7\" data-width=\"966\"></span>\n\t<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n\t<div class=\"overlay-process__sign _left\">\n\t\t<p class=\"overlay-process__sign__text\"></p>\n\t</div>\n\t<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n\t<div class=\"overlay-process__sign _right\">\n\t\t<p class=\"overlay-process__sign__text\"></p>\n\t</div>\n\t<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n\t<span class=\"overlay-process__bg-bottom\"></span>\n\t<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n</div>\n<noindex><script type=\"text/javascript\" src=\"/js/jquery.keyfilter-1.7.min.js?v=1.83.258\"></script></noindex>\n<noindex><script type=\"text/javascript\" src=\"/js/jq/pickermy.js?v=1.83.258\"></script></noindex>\n<script type=\"text/javascript\" id=\"\">(function(d,b,a){(b[a]=b[a]||[]).push(function(){try{b.yaCounter14466964=new Ya.Metrika({id:14466964,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0,ecommerce:\"dataLayer\"})}catch(a){}});var e=d.getElementsByTagName(\"script\")[0],c=d.createElement(\"script\");a=function(){e.parentNode.insertBefore(c,e)};c.type=\"text/javascript\";c.async=!0;c.src=\"https://mc.yandex.ru/metrika/watch.js\";\"[object Opera]\"==b.opera?d.addEventListener(\"DOMContentLoaded\",a,!1):a()})(document,window,\"yandex_metrika_callbacks\");</script>\n<noscript>&lt;div&gt;&lt;img src=\"https://mc.yandex.ru/watch/14466964\" style=\"position:absolute; left:-9999px;\" alt=\"\"&gt;&lt;/div&gt;</noscript>\n\n<noindex><script type=\"text/javascript\" src=\"/assets/95b6a9c9/jui/js/jquery-ui-i18n.min.js?v=1.83.258\"></script></noindex>\n<noindex><script type=\"text/javascript\">\n/*<![CDATA[*/\njQuery(function($) {\n\n\n\tfunction featurePayError(s_txtd, s_dateTo, s_stationNameFrom, s_stationNameTo)\n\t{\n\t\tvar today = new Date(\"22 Apr 2017 16:25:06\");\n\t\tvar dateToVal = s_dateTo.split(\".\");\n\t\tdateTo = new Date(dateToVal[2], dateToVal[1], dateToVal[0]);\n\n        $.ajax({\n                url:\"/?r=Ticketnotice/index\",\n                cache:false,\n                data: {\n                \t\t txtd     : s_txtd,\n                         dateTo   : s_dateTo,\n                         NameFrom : s_stationNameFrom,\n                         NameTo   : s_stationNameTo\n                },\n                success: function(data){\n                   $.arcticmodal(\"close\");\n            \t\t\t stopNewOverlay();\n                   $(\"#dialogloadHtml\").dialog(\"close\");\n                   $(\"#id_error_RouteForm_dialogErrors\").html(data).dialog(\"open\").dialog(\"moveToTop\", true);\n\t\t\t\t\tvar today = new Date(\"22 Apr 2017 16:25:06\");\n\t\t\t\t\tvar dateToVal = $(\"#SearchForm_dateTo\").val().split(\".\");\n\t\t\t\t\tdateTo = new Date(dateToVal[2], dateToVal[1], dateToVal[0]);\n\n\t\t\t\t\t$(\"#id_error_RouteForm_dialogErrors\").dialog({\n\t\t\t\t\t\t\"title\": (today.getTime() > dateTo.getTime() ? \"Продажа билетов завершена\" : \"Продажа билетов еще не открыта\")\n\t\t\t\t\t});\n                }\n        });\n\n\t}\n\n\njQuery('#SearchForm_stationNameFrom').autocomplete({'minLength':2,'delay':0,'select':function (event, ui) {\n\t$(\"#id_error_RouteForm_routeForm #SearchForm_stationCodeFrom\").val(ui.item.id);\n\t$(\"#id_error_RouteForm_routeForm #SearchForm_stationCodeFrom\").attr(\"value\", ui.item.id);\n},'source':function (request, response) {\n\t$.arcticmodal(\"close\");\n\n\t// Указатель на поле\n\tvar $field = $(\"#id_error_RouteForm_routeForm #SearchForm_stationNameFrom\");\n\tvar $fieldCode = $(\"#id_error_RouteForm_routeForm #SearchForm_stationCodeFrom\");\n\n\t$($fieldCode).val(\"\");\t\n/*\n\tкостылек по задаче POE-1710. Суть в том, что в ИЕ старше 10-го после инициализации виджета сразу показываются значения автокомплита, несмотря на то,\n\tчто пользователем событие изменения поля автокомплита не производится, но значение в нем присутствует. В других браузеразх не наблюдается.\n\tРешение в том, что если модалька/форма поиска не видна, то не респонсим пришедшие данные. Ну а если видна, то респонсим.\n*/\n\t var is_visible = true;\n\n\t// Если есть кеш-массив\n\tif (!$.isArray($.fn.autoCompleteStationStationnameCache))\n\t\t$.fn.autoCompleteStationStationnameCache = new Array;\n\n\t// Если в кеше есть запись\n\tif (!$.isArray($.fn.autoCompleteStationStationnameCache[$field.val()]))\n\t{\n\t\t// Делаем запрос\n\t\t$.post(\"/autocomplete/stationStationname.php\", {\n\t\t\t\"term\": $field.val(),\n\t\t\t\"mode\": 2\n\t\t}, function (json) {\n\t\t\t// Заносим ответ в кеш\n\t\t\t$.fn.autoCompleteStationStationnameCache[$field.val()] = json;\n\t\t\tresponse(json);\n\t\t}, \"json\");\n\t}\n\telse\n\t{\n\t\t// Берём значение из кеша\n\t\tvar json_cache = $.fn.autoCompleteStationStationnameCache[$field.val()];\n\t\tresponse($.fn.autoCompleteStationStationnameCache[$field.val()]);\n\t}\t\t\t\t\t\n\n\t$(this).focus();\n\tHideProgress();\n}});\njQuery('#SearchForm_stationNameTo').autocomplete({'minLength':2,'delay':0,'select':function (event, ui) {\n\t$(\"#id_error_RouteForm_routeForm #SearchForm_stationCodeTo\").val(ui.item.id);\n\t$(\"#id_error_RouteForm_routeForm #SearchForm_stationCodeTo\").attr(\"value\", ui.item.id);\n},'source':function (request, response) {\n\t$.arcticmodal(\"close\");\n\n\t// Указатель на поле\n\tvar $field = $(\"#id_error_RouteForm_routeForm #SearchForm_stationNameTo\");\n\tvar $fieldCode = $(\"#id_error_RouteForm_routeForm #SearchForm_stationCodeTo\");\n\n\t$($fieldCode).val(\"\");\t\n/*\n\tкостылек по задаче POE-1710. Суть в том, что в ИЕ старше 10-го после инициализации виджета сразу показываются значения автокомплита, несмотря на то,\n\tчто пользователем событие изменения поля автокомплита не производится, но значение в нем присутствует. В других браузеразх не наблюдается.\n\tРешение в том, что если модалька/форма поиска не видна, то не респонсим пришедшие данные. Ну а если видна, то респонсим.\n*/\n\t var is_visible = true;\n\n\t// Если есть кеш-массив\n\tif (!$.isArray($.fn.autoCompleteStationStationnameCache))\n\t\t$.fn.autoCompleteStationStationnameCache = new Array;\n\n\t// Если в кеше есть запись\n\tif (!$.isArray($.fn.autoCompleteStationStationnameCache[$field.val()]))\n\t{\n\t\t// Делаем запрос\n\t\t$.post(\"/autocomplete/stationStationname.php\", {\n\t\t\t\"term\": $field.val(),\n\t\t\t\"mode\": 2\n\t\t}, function (json) {\n\t\t\t// Заносим ответ в кеш\n\t\t\t$.fn.autoCompleteStationStationnameCache[$field.val()] = json;\n\t\t\tresponse(json);\n\t\t}, \"json\");\n\t}\n\telse\n\t{\n\t\t// Берём значение из кеша\n\t\tvar json_cache = $.fn.autoCompleteStationStationnameCache[$field.val()];\n\t\tresponse($.fn.autoCompleteStationStationnameCache[$field.val()]);\n\t}\t\t\t\t\t\n\n\t$(this).focus();\n\tHideProgress();\n}});\njQuery('#SearchForm_dateTo').datepicker(jQuery.extend({showMonthAfterYear:false},jQuery.datepicker.regional['ru'],{'serverDate':'22.04.2017','dateFormat':'dd.mm.yy','minDate':0,'numberOfMonths':3,'stepMonths':3,'howAnim':'','howOn':'focus','onSelect':function(data,txt) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar _data = data;\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar d1 = \"05.06.2017\";\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar closedate = d1.split(\".\");\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar parts = data.split(\".\");\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar closedate = new Date(closedate[2]+\"/\"+closedate[1]+\"/\"+closedate[0]);\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar dat = new Date(parts[2]+\"/\"+parts[1]+\"/\"+parts[0]);\n//\t\t\t\t\t\t\t\t\t\t\t\t\tif (dat.getTime()>closedate.getTime()){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\turl      : \"/routes/validate.php\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype     : \"POST\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata     : {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"SearchForm[dateTo]\"          : _data,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"SearchForm[stationNameFrom]\" : $(\"#SearchForm_stationNameFrom\").val(),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"SearchForm[stationNameTo]\"   : $(\"#SearchForm_stationNameTo\").val(),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"SearchForm[stationCodeFrom]\" : $(\"#SearchForm_stationCodeFrom\").val(),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"SearchForm[stationCodeTo]\"   : $(\"#SearchForm_stationCodeTo\").val(),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"ajax\"                        : \"id_default_RouteForm_routeForm\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"undefined\"                   : \"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess  : function(data){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tjson = jQuery.parseJSON(data);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (json.SearchForm_dateTo){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// продажа еще не открыта\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfeaturePayError(json.SearchForm_dateTo, _data,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$(\"#SearchForm_stationNameFrom\").val(), $(\"#SearchForm_stationNameTo\").val());\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n//\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}}));\njQuery('#id_error_RouteForm_routeForm').yiiactiveform({'validationUrl':'/routes/validate.php','validateOnSubmit':true,'validateOnChange':false,'afterValidate':function (form, data, hasError) {\n\t\t\t\tif (($.browser.msie) && ($.browser.version == \"8.0\")) {\n\t\t\t\t\tif ($.isEmptyObject(data)) { var routeFormDefault = \"true\"; }\n\t\t\t\t\telse { var routeFormDefault = \"false\"; }\n\t\t\t\t} else {\n\t\t\t\t\tvar routeFormDefault = $.isEmptyObject(data);\n\t\t\t\t}\n\t\t\t\t// Если есть ошибки\n\t\t\t\tif (hasError || ($.isPlainObject(data) && !routeFormDefault))\n\t\t\t\t{\n\t\t\t\t\tvar f = true;\n\t\t\t\t\tvar txtfdate;\n\t\t\t\t\tfor (var k in data)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar v = data[k];\n\t\t\t\t\t\tif (k.indexOf(\"stationNameTo\") != \"-1\"){f = false;}\n\t\t\t\t\t\tif (k.indexOf(\"stationNameFrom\") != \"-1\"){f = false;}\n\t\t\t\t\t\tif (k.indexOf(\"dateTo\") != \"-1\"){txtfdate = v;}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (f)\n\t\t\t\t\t{\n\t\t\t\t\t\t// продажа еще не открыта\n\t\t\t\t\t\tfeaturePayError(txtfdate, $(\"#SearchForm_dateTo\").val(), $(\"#SearchForm_stationNameFrom\").val(), $(\"#SearchForm_stationNameTo\").val());\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\t$.arcticmodal(\"close\");\n            stopNewOverlay();\n\t\t\t\t\t\t$(\".tickets\").find(\".errorBlock\").arcticmodal({openEffect: { type: \"none\" }, closeEffect: { type: \"none\" }});\n\t\t\t\t\t}\n\n\t\t\t\t\treturn false;\n\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n/*\n\t\t\t\t\t// Затык по задаче POE-749\n\t\t\t\t\t// Пересабмитим форму через 20 мс, чтобы уж навернякак форма ушла постом на сервер\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t$(\"#id_error_RouteForm_routeForm\").submit();\n\t\t\t\t\t}, 20);\n*/\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t},'attributes':[{'id':'SearchForm_stationNameFrom','inputID':'SearchForm_stationNameFrom','errorID':'SearchForm_stationNameFrom_em_','model':'SearchForm','name':'stationNameFrom','enableAjaxValidation':true},{'id':'SearchForm_stationNameTo','inputID':'SearchForm_stationNameTo','errorID':'SearchForm_stationNameTo_em_','model':'SearchForm','name':'stationNameTo','enableAjaxValidation':true},{'id':'SearchForm_dateTo','inputID':'SearchForm_dateTo','errorID':'SearchForm_dateTo_em_','model':'SearchForm','name':'dateTo','enableAjaxValidation':true}],'errorCss':'error'});\njQuery('#id_error_RouteForm_dialogErrors').dialog({'autoOpen':false,'title':'Сообщение','position':'center','modal':true,'width':'auto','open':function( event, ui ) {\n\t$(\"#id_error_RouteForm_dialogErrors\").dialog({\n\t\t\"title\": \"Сообщение\"\n\t});\n}});\n\n\n\tvar IE=\"\\v\"==\"v\";\n\tif(!IE) {\n\n\t\tif ($.cookie(\"routeForm_stationNameTo\")) $(\"#id_error_RouteForm_routeForm input.inputTo\").val($.cookie(\"routeForm_stationNameTo\"));\n\t\tif ($.cookie(\"routeForm_stationNameFrom\")) $(\"#id_error_RouteForm_routeForm input.inputFrom\").val($.cookie(\"routeForm_stationNameFrom\"));\n\t\tif ($.cookie(\"routeForm_dateTo\")) $(\"#id_error_RouteForm_routeForm input.date\").val($.cookie(\"routeForm_dateTo\"));\n\n\t\tsetInterval(function() {\n\n\t\t\t// запоминаем выбор полей из формы в куках\n\n\t\t\tvar route_to = $(\"#id_error_RouteForm_routeForm input.inputTo\").val();\n\t\t\tvar route_from = $(\"#id_error_RouteForm_routeForm input.inputFrom\").val();\n\t\t\tvar route_date = $(\"#id_error_RouteForm_routeForm input.date\").val();\n\n\t\t\tif ($.cookie(\"routeForm_stationNameTo\") != route_to) $.cookie(\"routeForm_stationNameTo\", route_to);\n\t\t\tif ($.cookie(\"routeForm_stationNameFrom\") != route_from) $.cookie(\"routeForm_stationNameFrom\", route_from);\n\t\t\tif ($.cookie(\"routeForm_dateTo\") != route_date) $.cookie(\"routeForm_dateTo\", route_date);\n\n\t\t}, 0);\n\t}\n\t\tvar access = 1;\n\n\t\t// Вешаем на ссылку событие открытия календарика\n\t\t$(\"#id_error_RouteForm_routeForm #search_tickets\").unbind(\"click\").bind(\"click\", function () {\n\n\t\t\tvar from = $(\"#SearchForm_stationNameFrom\").val();\n\t\t\tvar to = $(\"#SearchForm_stationNameTo\").val();\n\t\t\tvar date = $(\"#SearchForm_dateTo\").val();\n\n\t\t\tif (access === 1) {\n\t\t\t\tstartNewOverlay(\"Поиск билетов\", from, to, date, \"\", \"\", \"\", 1);\n\t\t\t\taccess = 0;\n\t\t\t}\n\n\t\t\tsetTimeout(function(){\n\t\t\t\taccess = 1;\n\t\t\t}, 500);\n\n//\t\t\t$(\"#dialogloadHtml\").arcticmodal({openEffect: { type: \"none\" }, closeEffect: { type: \"none\" }});\n\t\t});\n\n\t\njQuery('#SearchTrainForm_trainNumberOrName').autocomplete({'minLength':1,'delay':0,'select':function( event, ui ) {\n      setTimeout( function() {\n        $(\".search-train\").find(\"form\").submit();\n      } , 300);\n    },'source':function (request, response) {\n  var prepareAutoCompleteJson = function (json)\n  {\n    var resultJson = new Array;\n\n    // Перебираем список\n    for (var k in json)\n    {\n      var v = json[k];\n\n      resultJson.push(v.name);\n    }// if\n\n    return resultJson;\n  };\n  \n  // Указатель на поле\n  var $field = $(\"#id_error_SearchTrain_trainForm #SearchTrainForm_trainNumberOrName\");\n\n  // Отключаем прогресс\n  SetDisabledStep();\n\n  // Если есть кеш-массив\n  if (!$.isArray($.fn.autoCompleteTrainCache))\n    $.fn.autoCompleteTrainCache = new Array;\n\n  // Если в кеше есть запись\n  if (!$.isArray($.fn.autoCompleteTrainCache[$field.val()]))\n  {\n    // Делаем запрос\n    $.post(\"/autocomplete/train.php\", {\n      \"name\": $field.val()\n    }, function (json) {\n      // Заносим ответ в кеш\n      $.fn.autoCompleteTrainCache[$field.val()] = json;\n\n      response(prepareAutoCompleteJson(json));\n    }, \"json\");\n  }\n  else\n    // Берём значение из кеша\n    response(prepareAutoCompleteJson($.fn.autoCompleteTrainCache[$field.val()]));\n}});\n\n$(\"#id_error_SearchTrain_trainForm #search_tickets\").click(function () {\n  SetDisabledStep();\n});\n\njQuery('#id_error_SearchTrain_trainForm').yiiactiveform({'validationUrl':'/r=autoarticles/autoarticleTrain/validateSearchTrainForm','validateOnSubmit':true,'validateOnChange':false,'beforeValidate':function (form) {\n    // Указатель на поле\n  var $field = $(\"#SearchTrainForm_trainNumberOrName\", $(form));\n  var hiddenFieldValue = null;\n\n  // Перебираем список кешей\n  for (var keyCache in $.fn.autoCompleteTrainCache)\n  {\n    var valCache = $.fn.autoCompleteTrainCache[keyCache];\n\n    // Перебираем список значения в кеше\n    for (var keyItems in valCache)\n    {\n      var valItems = valCache[keyItems];\n\n      if (valItems.name == $field.val())\n        hiddenFieldValue = valItems.value;\n    }// for\n  }// for\n\n  if (!hiddenFieldValue)\n    hiddenFieldValue = $field.val();\n\n  // Подставляем значение в скрытое поле\n  $(\"#id_error_SearchTrain_trainForm_SearchTrainForm_trainNumberOrName\", $(form)).val(hiddenFieldValue);\n\n  return true;\n},'afterValidate':function (form, data, hasError) {\n  // Снимаем со всех полей формы пометку ошибки\n  $(\"*\", form).removeClass(\"error\");\n\n  // Если есть ошибки\n  if (hasError || ($.isPlainObject(data) && !$.isEmptyObject(data)))\n  {\n    // HTML-код для окна\n    var html = \"<ul>\";\n\n    // Перебираем список полей с ошибками\n    for (var k in data)\n    {\n      var v = data[k];\n\n      // Ставим метку ошибки\n      $(\"#\" + k, form).addClass(\"error\");\n\n      // Перебираем список ошибок поля\n      if (v.length)\n        for (var i = 0; i < v.length; i++)\n          html += \"<li>\" + v[i] + \"</li>\";\n      else\n        html += \"<li>\" + v + \"</li>\";\n    }// for\n\n    html += \"<ul>\";\n\n    HideProgress();\n\n    // Показываем окно с ошибками\n    $(\"#id_error_SearchTrain_dialogErrors\").html(html).dialog(\"open\");\n\n    return false;\n  }\n  else\n  {\n    $(\"#dialogloadHtml\").arcticmodal({openEffect: { type: \"none\" }, closeEffect: { type: \"none\" }});\n  }\n\n  return true;\n},'attributes':[{'id':'SearchTrainForm_trainNumberOrName','inputID':'SearchTrainForm_trainNumberOrName','errorID':'SearchTrainForm_trainNumberOrName_em_','model':'SearchTrainForm','name':'trainNumberOrName','enableAjaxValidation':true}],'errorCss':'error'});\njQuery('#id_error_SearchTrain_dialogErrors').dialog({'autoOpen':false,'title':'Уведомление','position':'center','modal':true,'width':'auto','buttons':{'Ок':function () {\n        $(\"#id_error_SearchTrain_dialogErrors\").dialog(\"close\"); // Закрываем и уничтожаем окно\n        pDialogProgress.dialog(\"close\");\n      }}});\njQuery('#SearchStationForm_stationName').autocomplete({'minLength':1,'delay':0,'select':function( event, ui ) {\n      setTimeout( function() {\n        $(\".search-train\").find(\"form\").submit();\n      } , 300);\n    },'source':function (request, response) {\n  var prepareAutoCompleteJson = function (json)\n  {\n    var resultJson = new Array;\n\n    // Перебираем список\n    for (var k in json)\n    {\n      var v = json[k];\n\n      resultJson.push(v.name);\n    }// if\n\n    return resultJson;\n  };\n  \n  // Указатель на поле\n  var $field = $(\"#id_error_SearchStation_trainForm #SearchStationForm_stationName\");\n\n  // Отключаем прогресс\n  SetDisabledStep();\n\n  // Если есть кеш-массив\n  if (!$.isArray($.fn.autoCompleteTrainCache))\n    $.fn.autoCompleteTrainCache = new Array;\n\n  // Если в кеше есть запись\n  if (!$.isArray($.fn.autoCompleteTrainCache[$field.val()]))\n  {\n    // Делаем запрос\n    $.post(\"/autocomplete/station.php\", {\n      \"name\": $field.val()\n    }, function (json) {\n      // Заносим ответ в кеш\n      $.fn.autoCompleteTrainCache[$field.val()] = json;\n\n      response(prepareAutoCompleteJson(json));\n    }, \"json\");\n  }\n  else\n    // Берём значение из кеша\n    response(prepareAutoCompleteJson($.fn.autoCompleteTrainCache[$field.val()]));\n}});\n\n$(\"#id_error_SearchStation_trainForm #search_tickets\").click(function () {\n  SetDisabledStep();\n});\n\njQuery('#id_error_SearchStation_trainForm').yiiactiveform({'validationUrl':'/r=autoarticles/autoarticleStation/validateSearchStationForm','validateOnSubmit':true,'validateOnChange':false,'beforeValidate':function (form) {\n    // Указатель на поле\n  var $field = $(\"#SearchStationForm_stationName\", $(form));\n  var hiddenFieldValue = null;\n\n  // Перебираем список кешей\n  for (var keyCache in $.fn.autoCompleteTrainCache)\n  {\n    var valCache = $.fn.autoCompleteTrainCache[keyCache];\n\n    // Перебираем список значения в кеше\n    for (var keyItems in valCache)\n    {\n      var valItems = valCache[keyItems];\n\n      if (valItems.name == $field.val())\n        hiddenFieldValue = valItems.value;\n    }// for\n  }// for\n\n  if (!hiddenFieldValue)\n    hiddenFieldValue = $field.val();\n\n  // Подставляем значение в скрытое поле\n  $(\"#id_error_SearchStation_trainForm_SearchStationForm_stationName\", $(form)).val(hiddenFieldValue);\n\n  return true;\n},'afterValidate':function (form, data, hasError) {\n  // Снимаем со всех полей формы пометку ошибки\n  $(\"*\", form).removeClass(\"error\");\n\n  // Если есть ошибки\n  if (hasError || ($.isPlainObject(data) && !$.isEmptyObject(data)))\n  {\n    // HTML-код для окна\n    var html = \"<ul>\";\n\n    // Перебираем список полей с ошибками\n    for (var k in data)\n    {\n      var v = data[k];\n\n      // Ставим метку ошибки\n      $(\"#\" + k, form).addClass(\"error\");\n\n      // Перебираем список ошибок поля\n      if (v.length)\n        for (var i = 0; i < v.length; i++)\n          html += \"<li>\" + v[i] + \"</li>\";\n      else\n        html += \"<li>\" + v + \"</li>\";\n    }// for\n\n    html += \"<ul>\";\n\n    HideProgress();\n\n    // Показываем окно с ошибками\n    $(\"#id_error_SearchStation_dialogErrors\").html(html).dialog(\"open\");\n\n    return false;\n  }\n  else\n  {\n    $(\"#dialogloadHtml\").arcticmodal({openEffect: { type: \"none\" }, closeEffect: { type: \"none\" }});\n  }\n\n  return true;\n},'attributes':[{'id':'SearchStationForm_stationName','inputID':'SearchStationForm_stationName','errorID':'SearchStationForm_stationName_em_','model':'SearchStationForm','name':'stationName','enableAjaxValidation':true}],'errorCss':'error'});\njQuery('#id_error_SearchStation_dialogErrors').dialog({'autoOpen':false,'title':'Уведомление','position':'center','modal':true,'width':'auto','buttons':{'Ок':function () {\n        $(\"#id_error_SearchStation_dialogErrors\").dialog(\"close\"); // Закрываем и уничтожаем окно\n        pDialogProgress.dialog(\"close\");\n      }}});\n\n// Вешаем событие на Ajax ошибки\n$(document).ajaxError(function (event, jqXHR, ajaxSettings, thrownError) {\n\tif (jqXHR.status == 504 || jqXHR.statusText == \"Gateway Time-out\")\n\t\treturn;\n\n\tif (jqXHR.status == 0 || jqXHR.statusText == \"error\")\n\t\treturn;\n\n\tvar param = null;\n\n\tif (ajaxSettings.data)\n\t\tparam = ajaxSettings.data.replace(/&/g, \"@@@\");\n\telse if (ajaxSettings.url)\n\t\tparam = ajaxSettings.url.replace(/&/g, \"@@@\");\n\n\t// Кодируем параметры\n\tvar strParam = $.param({\n\t\t\"url\": ajaxSettings.url,\n\t\t\"param\": param\n\t});\n\tstrParam = strParam.replace(/&/g, \"|||\");\n\tstopNewOverlay();\n\n\t// HTML-код для окна\n\tvar html = \"<div id=\\\"id_default_ErrorWidget58fb59b3064f3_dialogErrors\\\" class=\\\"message-error-steps\\\"><div class=\\\"box-modal_close arcticmodal-close close\\\"></div>\" +\n\t\t\"<p>К сожалению при обработке запроса произошла ошибка, попробуйте перезагрузить страницу.</p>\" + \n\t\t\"<p>Если перезагрузка страницы не помогла мы будем очень признательны, если вы нам отправите сообщение о ней.</p>\" + \n\t\t\"<div><b><a class=\\\"bugReportLink\\\" href=\\\"/?r=site/sendErrorNotify&code=ERROR_AJAX&data=\" + strParam + \" \\\" \" + \n\t\t\"style=\\\"color:#0077bb;\\\">Отправить сообщение об ошибке »»</a></b></div>\" + \n\t\t\"<p>После нажатия на ссылку нам будет отправлена<br />информация о вашем сеансе работы с сайтом.</p></div>\";\n\n\t// Показываем окно с ошибками\n\t$(\"#id_default_ErrorWidget58fb59b3064f3_dialogErrors.message-error-steps\").find(\".text\").html(html).arcticmodal({\n\t\topenEffect: {type: \"none\"},\n\t\tcloseEffect: {type: \"none\"},\n\t\tafterClose: function(data, el) {\n\t\t\t$(\"body\").css(\"overflow-y\", \"visible\");\n\t\t},\n\t});\n});\n\n$(document).ajaxComplete(function (event, xhr, settings) {\n\tif (xhr.status == 504 || xhr.statusText == \"Gateway Time-out\")\n\t{\n\t\t// HTML-код для окна\n\t\tvar html = \"<div id=\\\"id_default_ErrorWidget58fb59b3064f3_dialogErrors\\\" class=\\\"message-error-steps\\\"><div class=\\\"box-modal_close arcticmodal-close close\\\"></div>\" +\n\t\t\t\"<p>К сожалению при обработке запроса произошла ошибка, попробуйте перезагрузить страницу.</p></div>\";\n\n\t\t// Показываем окно с ошибками\n\t\t$(\"#id_default_ErrorWidget58fb59b3064f3_dialogErrors.message-error-steps\").find(\".text\").html(html).arcticmodal({\n\t\t\topenEffect: {type: \"none\"},\n\t\t\tcloseEffect: {type: \"none\"},\n\t\t\tafterClose: function(data, el) {\n\t\t\t\t$(\"body\").css(\"overflow-y\", \"visible\");\n\t\t\t},\n\t\t});\n\t}\n});\n\njQuery('#idDialogSearch').dialog({'autoOpen':false,'position':'center','modal':true,'resizable':false,'dialogClass':'dlgNoTitleSearch','minHeight':'0','width':'auto','disabled':false});\n\nfunction featurePayError (s_txtd, s_dateTo, s_nameFrom, s_nameTo)\n{\n\tvar today = new Date(\"22 Apr 2017 16:25:07\");\n\tvar dateToVal = s_dateTo.split(\".\");\n\tdateTo = new Date(dateToVal[2], dateToVal[1], dateToVal[0]);\n\n\t// модальное окно \"Продажа еще не открыта\"\n\t$.arcticmodal(\"close\");\n\t$.arcticmodal({\n\t\ttype: \"ajax\",\n\t\turl: \"/?r=Ticketnotice/index\",\n\t\tajax: {\n\t\t\tcache: false,\n\t\t\tdata : {\n\t\t\t\ttxtd : s_txtd,\n\t\t\t\tdateTo : s_dateTo,\n\t\t\t\tNameFrom : s_nameFrom,\n\t\t\t\tNameTo : s_nameTo\n\t\t\t},\n\t\t\tsuccess: function(data, el, responce) {\n\t\t\t\tdata.body.html(responce);\n\t\t\t}\n\t\t}\n\t});\n}\n\njQuery('#CloneSearchForm_stationNameFrom').autocomplete({'minLength':2,'delay':0,'select':function (event, ui) {\n\t$(\"#id_dialog_RouteForm_routeForm #CloneSearchForm_stationCodeFrom\").val(ui.item.id);\n\t$(\"#id_dialog_RouteForm_routeForm #CloneSearchForm_stationCodeFrom\").attr(\"value\", ui.item.id);\n},'source':function (request, response) {\n\tSetDisabledStep();\n\n\t// Указатель на поле\n\tvar $field = $(\"#id_dialog_RouteForm_routeForm #CloneSearchForm_stationNameFrom\");\n\tvar $fieldCode = $(\"#id_dialog_RouteForm_routeForm #CloneSearchForm_stationCodeFrom\");\n\n\t$($fieldCode).val(\"\");\t\n/*\n\tкостылек по задаче POE-1710. Суть в том, что в ИЕ старше 10-го после инициализации виджета сразу показываются значения автокомплита, несмотря на то,\n\tчто пользователем событие изменения поля автокомплита не производится, но значение в нем присутствует. В других браузеразх не наблюдается.\n\tРешение в том, что если модалька/форма поиска не видна, то не респонсим пришедшие данные. Ну а если видна, то респонсим.\n*/\n\t var is_visible = $($field).parents(\".modalSearchBlue\").is(\":visible\");\n\n\t// Если есть кеш-массив\n\tif (!$.isArray($.fn.autoCompleteStationStationnameCache))\n\t\t$.fn.autoCompleteStationStationnameCache = new Array;\n\n\t// Если в кеше есть запись\n\tif (!$.isArray($.fn.autoCompleteStationStationnameCache[$field.val()]))\n\t{\n\t\t// Делаем запрос\n\t\t$.post(\"/autocomplete/stationStationname.php\", {\n\t\t\t\"term\": $field.val(),\n\t\t\t\"mode\": 2\n\t\t}, function (json) {\n\t\t\t// Заносим ответ в кеш\n\t\t\t$.fn.autoCompleteStationStationnameCache[$field.val()] = json;\n\t\t\t  if (is_visible) {response(json); }\n\t\t}, \"json\");\n\t}\n\telse\n\t{\n\t\t// Берём значение из кеша\n\t\tvar json_cache = $.fn.autoCompleteStationStationnameCache[$field.val()];\n\t\tif (is_visible) {response($.fn.autoCompleteStationStationnameCache[$field.val()]);}\n\t}\t\t\t\t\t\n\n\t$(this).focus();\n\tHideProgress();\n}});\njQuery('#CloneSearchForm_stationNameTo').autocomplete({'minLength':2,'delay':0,'select':function (event, ui) {\n\t$(\"#id_dialog_RouteForm_routeForm #CloneSearchForm_stationCodeTo\").val(ui.item.id);\n\t$(\"#id_dialog_RouteForm_routeForm #CloneSearchForm_stationCodeTo\").attr(\"value\", ui.item.id);\n},'source':function (request, response) {\n\tSetDisabledStep();\n\n\t// Указатель на поле\n\tvar $field = $(\"#id_dialog_RouteForm_routeForm #CloneSearchForm_stationNameTo\");\n\tvar $fieldCode = $(\"#id_dialog_RouteForm_routeForm #CloneSearchForm_stationCodeTo\");\n\n\t$($fieldCode).val(\"\");\t\n/*\n\tкостылек по задаче POE-1710. Суть в том, что в ИЕ старше 10-го после инициализации виджета сразу показываются значения автокомплита, несмотря на то,\n\tчто пользователем событие изменения поля автокомплита не производится, но значение в нем присутствует. В других браузеразх не наблюдается.\n\tРешение в том, что если модалька/форма поиска не видна, то не респонсим пришедшие данные. Ну а если видна, то респонсим.\n*/\n\t var is_visible = $($field).parents(\".modalSearchBlue\").is(\":visible\");\n\n\t// Если есть кеш-массив\n\tif (!$.isArray($.fn.autoCompleteStationStationnameCache))\n\t\t$.fn.autoCompleteStationStationnameCache = new Array;\n\n\t// Если в кеше есть запись\n\tif (!$.isArray($.fn.autoCompleteStationStationnameCache[$field.val()]))\n\t{\n\t\t// Делаем запрос\n\t\t$.post(\"/autocomplete/stationStationname.php\", {\n\t\t\t\"term\": $field.val(),\n\t\t\t\"mode\": 2\n\t\t}, function (json) {\n\t\t\t// Заносим ответ в кеш\n\t\t\t$.fn.autoCompleteStationStationnameCache[$field.val()] = json;\n\t\t\t  if (is_visible) {response(json); }\n\t\t}, \"json\");\n\t}\n\telse\n\t{\n\t\t// Берём значение из кеша\n\t\tvar json_cache = $.fn.autoCompleteStationStationnameCache[$field.val()];\n\t\tif (is_visible) {response($.fn.autoCompleteStationStationnameCache[$field.val()]);}\n\t}\t\t\t\t\t\n\n\t$(this).focus();\n\tHideProgress();\n}});\njQuery('#CloneSearchForm_dateTo').datepicker(jQuery.extend({showMonthAfterYear:false},jQuery.datepicker.regional['ru'],{'serverDate':'22.04.2017','dateFormat':'dd.mm.yy','minDate':0,'numberOfMonths':3,'stepMonths':3,'howAnim':'','howOn':'focus','onSelect':function(data,txt) {\n\tvar _data = data;\n\tvar $fieldFrom = $(\"#id_dialog_RouteForm_routeForm #CloneSearchForm_stationNameFrom\");\n\tvar $fieldTo = $(\"#id_dialog_RouteForm_routeForm #CloneSearchForm_stationNameTo\");\n\tvar d1 = \"05.06.2017\";\n\tvar closedate = d1.split(\".\");\n\tvar parts = data.split(\".\");\n\tvar closedate = new Date(closedate[2]+\"/\"+closedate[1]+\"/\"+closedate[0]);\n\tvar dat = new Date(parts[2]+\"/\"+parts[1]+\"/\"+parts[0]);\n\n\t$.ajax({\n\t\turl: \"/routes/validate.php\",\n\t\ttype: \"POST\",\n\t\tdata: {\n\t\t\t\"SearchForm[dateTo]\" : _data,\n\t\t\t\"SearchForm[stationNameFrom]\" : $($fieldFrom).val(),\n\t\t\t\"SearchForm[stationNameTo]\" : $($fieldTo).val(),\n\t\t\t\"ajax\" : \"id_default_RouteForm_routeForm\",\n\t\t\t\"undefined\" : \"\"\n\t\t},\n\t\tsuccess: function (data)\n\t\t{\n\t\t\tjson = jQuery.parseJSON(data);\n\n\t\t\tif (json.SearchForm_dateTo)\n\t\t\t{\n\t\t\t\t// продажа еще не открыта\n\t\t\t\tfeaturePayError(json.SearchForm_dateTo, _data, $(\".stationFromInput\").val(), $(\".stationToInput\").val());\n\t\t\t}\n\t\t}\n\t});\n}}));\njQuery('#id_dialog_RouteForm_routeForm').yiiactiveform({'validationUrl':'/routes/validate.php','validateOnSubmit':true,'validateOnChange':false,'afterValidate':function (form, data, hasError) {\n\t// Если есть ошибки\n\tif (hasError || ($.isPlainObject(data) && !$.isEmptyObject(data)))\n\t{\n\t\tvar f = true;\n\t\tvar txtfdate;\n\t\tvar html = \"\";\n\n\t\tfor (var k in data)\n\t\t{\n\t\t\tvar v = data[k];\n\n\t\t\tif (k.indexOf(\"stationNameTo\") != -1 || k.indexOf(\"stationNameFrom\") != -1)\n\t\t\t\tf = false;\n\n\t\t\tif (k.indexOf(\"dateTo\") != -1)\n\t\t\t\ttxtfdate = v;\n\n\t\t\tif (v.length)\n\t\t\t{\n\t\t\t\tfor (var i = 0; i < v.length; i++)\n\t\t\t\t{\n\t\t\t\t\thtml += \"<div class=\\\"errorMessage\\\">\" + v[i] + \"</div>\";\n\t\t\t\t}\n\t\t\t}\n\t\t}// for\n\n\t\tif (f)\n\t\t{\n\t\t\t// продажа еще не открыта\n\t\t\t$.arcticmodal(\"close\");\n\t\t\tfeaturePayError(txtfdate, $(\"#CloneSearchForm_dateTo\").val(), $(\".stationFromInput\").val(), $(\".stationToInput\").val());\n\t\t}\n\t\telse\n\t\t{\n\t\t\t$(\".modalSearchBlue.main\").find(\".errorBlock\").arcticmodal();\n\t\t}\n\n\t\treturn false;\n\t}\n\telse\n\t{\n\t\t$.arcticmodal(\"close\");\n\t\t$(\"#dialogloadHtml\").arcticmodal();\n\n\t\treturn true;\n\t}\n},'attributes':[{'id':'CloneSearchForm_stationNameFrom','inputID':'CloneSearchForm_stationNameFrom','errorID':'CloneSearchForm_stationNameFrom_em_','model':'CloneSearchForm','name':'stationNameFrom','enableAjaxValidation':true},{'id':'CloneSearchForm_stationNameTo','inputID':'CloneSearchForm_stationNameTo','errorID':'CloneSearchForm_stationNameTo_em_','model':'CloneSearchForm','name':'stationNameTo','enableAjaxValidation':true},{'id':'CloneSearchForm_dateTo','inputID':'CloneSearchForm_dateTo','errorID':'CloneSearchForm_dateTo_em_','model':'CloneSearchForm','name':'dateTo','enableAjaxValidation':true}],'errorCss':'error'});\njQuery('#dialogloadHtml').dialog({'autoOpen':false,'dialogClass':'dlgNoTitle','resizable':false,'position':'center','width':'100%','height':'100%','modal':false});\n\n$.fn.showDialogByAjax = function (url)\n{\n\tHideProgress();\n\n$.arcticmodal({\n  type: \"ajax\",\n  url: url,\n  ajax: {\n    type: \"GET\",\n    cache: false,\n    dataType: \"json\",\n    success: function(data, el, responce) {\n\n\t\t\tHideProgress();\n\n  \t\tvar h = $(\"<div class=\\\"box-modal\\\"><div class=\\\"main sapsan-dialog-modal\\\"><span class=\\\"close closeDialog box-modal_close arcticmodal-close\\\"></span><div class=\\\"content\\\"></div></div></div>\");\n\n  \t\tif (responce.status === \"ok\") {\n  \t\t\t$(\".content\", h).html(responce.html);\n  \t\t} else if (responce.status === \"error\") {\n  \t\t\t$(\".content\", h).html(\"<p>Не удалось получить информацию по данному поезду. Попробуйте перезагрузить страницу.</p>\");\n  \t\t}\n\n  \t\tdata.body.html(h);\n\n\t\t\t$.fn.TrainTimeTableUpdateView($(\".trainTable.forward.\" + h.find(\".trainTable\").data(\"id\")), url);\n\n  \t}\n  }\n});\n\n/*\n\t$.ajax({\n\t\t\"url\": url,\n\t\t\"cache\": false,\n\t\t\"global\": false,\n\t\t\"dataType\": \"json\",\n\t\t\"success\": function (data) {\n\t\t\tHideProgress();\n\n\t\t\tif (data.status == \"ok\")\n\t\t\t\t$(\".modalSearchBlue.main .content, .sapsan-dialog-modal.main .content\", $(\"#idDialogShowDialogByAjax\")).html(data.html);\n\n\t\t\tif (data.status == \"error\")\n\t\t\t\t$(\".modalSearchBlue.main .content, .sapsan-dialog-modal.main .content\", $(\"#idDialogShowDialogByAjax\"))\n\t\t\t\t\t.html(\"<p>Не удалось получить информацию по данному поезду. Попробуйте перезагрузить страницу.</p>\");\n\n\t\t\t// Открываем диалоговое окно\n\t\t\t$(\"#idDialogShowDialogByAjax\").find(\".modalSearchBlue\").removeClass(\"modalSearchBlue\").addClass(\"sapsan-dialog-modal\");\n\t\t\t$(\"#idDialogShowDialogByAjax\").dialog(\"open\");\n\t\t},\n\t\t\"error\": function () {\n\t\t\tHideProgress();\n\n\t\t\t$(\"#id_autogen_RouteForm_dialogErrors\").html(\"На данное направление невозможно прибрести билеты.\").dialog(\"open\");\n\t\t}\n\t});\n*/\n\n};\n\n$(\"#CloneAutoGenSearchForm_stationCodeFrom\").change(function () {\n\n \t// Делаем выбор станции\n \tvar data = $.fn.autoarticleDialogMarchrutJsonData; //jQuery.parseJSON(jsDara);\n \tvar selectFrom = $(\"#CloneAutoGenSearchForm_stationCodeFrom\");\n \tvar selectTo = $(\"#CloneAutoGenSearchForm_stationCodeTo\");\n \tvalFrom = selectFrom.val();\n\n \tif (data)\n \t{\n\t \t$.each(data, function(i, v){\n\t\t\t$(\"select#CloneAutoGenSearchForm_stationCodeTo option[value=\"+v.code+\"]\").remove();\n\t\t});\n\n\t\tb=false;\n\t\t$.each(data, function(i, v){\n\t\t\tif (valFrom == v.code ){b=true;\n\t\t\t\t$(\"#CloneAutoGenSearchForm_stationNameFrom\").val(v.stationname);\n\t\t\t}\n\t\t\tif (b){\n\t\t\t\tif (valFrom != v.code ){\n\t\t\t\t\tselectTo.append(\"<option value=\"+v.code+\">\"+v.stationname+\"</option>\");\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}// if\n\n\t$(\"#CloneAutoGenSearchForm_stationCodeTo\").val(data[data.length-1].code);\n\t$(\"#CloneAutoGenSearchForm_stationNameTo\").val(data[data.length-1].stationname);\n});\n\n$(\"#CloneAutoGenSearchForm_stationCodeTo\").change(function () {\n \t// Делаем выбор станции\n \tvar data = $.fn.autoarticleDialogMarchrutJsonData; //jQuery.parseJSON(jsDara);\n \tvar selectFrom = $(\"#CloneAutoGenSearchForm_stationCodeFrom\");\n \tvar selectTo = $(\"#CloneAutoGenSearchForm_stationCodeTo\");\n\n \tvalTo = selectTo.val();\n\n \tif (data)\n \t{\n\t\tb=false;\n\t\t$.each(data, function(i, v){\n\t\t\tif (!b){\n\t\t\t\tif (valTo == v.code ){\n\t\t\t\t\tb=true;\n\t\t\t\t\t$(\"#CloneAutoGenSearchForm_stationCodeTo\").val(v.code);\n\t\t\t\t\t$(\"#CloneAutoGenSearchForm_stationNameTo\").val(v.stationname);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t// Формируем\n});\n\n$(\"#DialogSearchAutoGen\").click(function () {\n\t// Список параметров\n\tvar train = $(\"#DialogSearchAutoGen_train\").val();\n\tvar StationFrom = $(\"#DialogSearchAutoGen_StationFrom\").val();\n\tvar StationTo = $(\"#DialogSearchAutoGen_StationTo\").val();\n\n\t// Делаем ajax запрос\n\tif (StationFrom && StationTo && train)\n\t{\n\t\t$(\"#CloneAutoGenSearchForm_train\").val(train);\n\n\t\tShowProgress();\n\n\t\t$.ajax({\n\t\t\t\"url\": \"/?r=Routes/DialogMarchrut\",\n\t\t\t\"cache\": false,\n\t\t\t\"data\": {\n\t\t\t\t\"numtrain\": train,\n\t\t\t\t\"ajaxJson\": 1\n\t\t\t},\n\t\t\t\"global\": false,\n\t\t\t\"dataType\": \"json\",\n\t\t\t\"success\": function (data) {\n\t\t\t\tHideProgress();\n\n\t\t\t\t$.fn.autoarticleDialogMarchrutJsonData = data;\n\n\t\t\t\tvar select = $(\"#CloneAutoGenSearchForm_stationCodeFrom\");\n\t\t\t\tvar select2 = $(\"#CloneAutoGenSearchForm_stationCodeTo\");\n\n\t\t\t\t// Обнуляем полностью селект\n\t\t\t\tselect.find(\"option\").remove();\n\t\t\t\tselect2.find(\"option\").remove();\n\n\t\t\t\t$.each(data, function(i, v) {\n\t\t\t\t\tif (!(v.stationname == \"\" || v.code == \"\"))\n\t\t\t\t\t{\n\t\t\t\t\t $(\"select#CloneAutoGenSearchForm_stationCodeFrom option[value=\" + v.code + \"]\").remove();\n\t\t\t\t\t $(\"select#CloneAutoGenSearchForm_stationCodeTo option[value=\" + v.code + \"]\").remove();\n\t\t\t\t\t \tselect.append(\"<option value=\" + v.code + \">\" + v.stationname + \"</option>\");\n\t\t\t\t\t \tselect2.append(\"<option value=\" + v.code + \">\" + v.stationname + \"</option>\");\n\t\t\t\t \t}\n\t\t\t\t});\n\n\t\t\t\t// Устанвливаем начальные значения\n\t\t\t\t$(\"#CloneAutoGenSearchForm_stationCodeFrom\").val(data[0].code);\n\t\t\t\t$(\"#CloneAutoGenSearchForm_stationNameFrom\").val(data[0].stationname);\n\t\t\t\t$(\"#CloneAutoGenSearchForm_stationCodeTo\").val(data[data.length - 1].code);\n\t\t\t\t$(\"#CloneAutoGenSearchForm_stationNameTo\").val(data[data.length - 1].stationname);\n\n\t\t\t\t// Открываем диалоговое окно\n\t\t\t\t$(\"#idDialogSearchAutoGen\").dialog(\"open\");\n\t\t\t},\n\t\t\t\"error\": function () {\n\t\t\t\tHideProgress();\n\n\t\t\t\t$(\"#id_autogen_RouteForm_dialogErrors\").html(\"На данное направление невозможно прибрести билеты.\").dialog(\"open\");\n\t\t\t}\n\t\t});\n\t}\n})\n\njQuery('#idDialogSearchAutoGen').dialog({'autoOpen':false,'position':'center','modal':true,'resizable':false,'dialogClass':'dlgNoTitleSearch','minHeight':'0','width':'auto','disabled':false});\njQuery('#CloneAutoGenSearchForm_dateTo').datepicker(jQuery.extend({showMonthAfterYear:false},jQuery.datepicker.regional['ru'],{'serverDate':'22.04.2017','dateFormat':'dd.mm.yy','minDate':0,'numberOfMonths':3,'stepMonths':3,'howAnim':'','onSelect':function(data,txt) {\n\tvar _data = data;\n\tvar d1 = \"05.06.2017\";\n\tvar closedate = d1.split(\".\");\n\tvar parts = data.split(\".\");\n\tvar closedate = new Date(closedate[2]+\"/\"+closedate[1]+\"/\"+closedate[0]);\n\tvar dat = new Date(parts[2]+\"/\"+parts[1]+\"/\"+parts[0]);\n\n\tif (dat.getTime()>closedate.getTime())\n\t{\n\t\t$.ajax({\n\t\t\turl:\"/routes/validate.php\",\n\t\t\ttype:\"POST\",\n\t\t\tdata: {\n\t\t\t\t\"SearchForm[dateTo]\":_data,\n\t\t\t\t\"SearchForm[stationNameFrom]\":$(\"#CloneAutoGenSearchForm_stationNameFrom\").val(),\n\t\t\t\t\"SearchForm[stationNameTo]\":$(\"#CloneAutoGenSearchForm_stationNameTo\").val(),\n\t\t\t\t\"ajax\":\"id_default_RouteForm_routeForm\",\n\t\t\t\t\"undefined\":\"\"\n\t\t\t},\n\t\t\tsuccess: function (data) {\n\t\t\t\tjson = jQuery.parseJSON(data);\n\n\t\t\t\tif (json.SearchForm_dateTo)\n\t\t\t\t{\n\t\t\t\t\t$.ajax({\n\t\t\t\t\t\turl:\"/?r=Ticketnotice/index\",\n\t\t\t\t\t\tcache:false,\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\ttxtd:json.CloneAutoGenSearchForm_dateTo,\n\t\t\t\t\t\t\tdateTo:_data,\n\t\t\t\t\t\t\tNameFrom:$(\"#CloneAutoGenSearchForm_stationNameFrom\").val(),\n\t\t\t\t\t\t\tNameTo:$(\"#CloneAutoGenSearchForm_stationNameTo\").val()\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess: function (data)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\thtml = \"<p>\"+data+\"</p>\";\n\t\t\t\t\t\t\t$(\"#dialogloadHtml\").dialog(\"close\");\n\t\t\t\t\t\t\t$.arcticmodal(\"close\");\n\t\t\t\t\t\t\t$(\".modal-text\").html(html).arcticmodal({\n\t\t\t\t\t\t\t\topenEffect: {type: \"none\"},\n\t\t\t\t\t\t\t\tcloseEffect: {type: \"none\"},\n\t\t\t\t\t\t\t\tafterClose: function(data, el) {\n\t\t\t\t\t\t\t\t\t$(\"body\").css(\"overflow-y\", \"visible\");\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tvar today = new Date(\"22 Apr 2017 16:25:07\");\n\t\t\t\t\t\t\tvar dateToVal = $(\"#CloneAutoGenSearchForm_dateTo\").val().split(\".\");\n\t\t\t\t\t\t\tdateTo = new Date(dateToVal[2], dateToVal[1], dateToVal[0]);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\twindow.location =url+selectedDate;\n\n\t\t\t\t$(\"#dialogloadHtml\").dialog(\"open\");\n\t\t\t}\n\t\t});\n\t}\n},'howOn':'focus'}));\n\n// Вешаем на ссылку событие открытия календарика\n$(\"#id_autogen_RouteForm_routeForm #search_tickets\").click(function () {\n\t$(\"#dialogloadHtml\").dialog(\"open\");\n\tSetDisabledStep();\n});\n\njQuery('#id_autogen_RouteForm_routeForm').yiiactiveform({'validationUrl':'/routes/validate.php','validateOnSubmit':true,'validateOnChange':false,'afterValidate':function (form, data, hasError) {\n\t// Если есть ошибки\n\tif (hasError || ($.isPlainObject(data) && !$.isEmptyObject(data)))\n\t{\n\t\t// HTML-код для окна\n\t\tvar html = \"\";\n\t\tvar f = true;\n\n\t\t// Перебираем список полей с ошибками\n\t\tfor (var k in data)\n\t\t{\n\t\t\tvar v = data[k];\n\t\t\tvar txtfdate;\n\n\t\t\t// Перебираем список ошибок поля\n\t\t\tif (k.indexOf(\"stationNameTo\") != -1){f = false;}\n\t\t\tif (k.indexOf(\"stationNameFrom\") != -1){f = false;}\n\t\t\tif (k.indexOf(\"dateTo\") != -1){txtfdate = v;}\n\t\t\tif (v.length)\n\t\t\t\tfor (var i = 0; i < v.length; i++)\n\t\t\t\t\thtml += \"<div class=\\\"errorMessage\\\">\" + v[i] + \"</div>\";\n\t\t\telse\n\t\t\t\thtml += \"<div class=\\\"errorMessage\\\">\" + v + \"</div>\";\n\t\t}\n\n\t\t// Показываем окно с ошибками\n\t\tif (f)\n\t\t{\n\t\t\t// загружаем диалоговое окно с формой\n\t\t\t$.ajax({\n\t\t\t\turl:\"/?r=Ticketnotice/index\",\n\t\t\t\tcache:false,\n\t\t\t\tdata: {\n\t\t\t\t\ttxtd:txtfdate,\n\t\t\t\t\tdateTo:$(\"#CloneAutoGenSearchForm_dateTo\").val(),\n\t\t\t\t\tNameFrom:$(\"#CloneAutoGenSearchForm_stationNameFrom\").val(),\n\t\t\t\t\tNameTo:$(\"#CloneAutoGenSearchForm_stationNameTo\").val()\n\t\t\t\t},\n\t\t\t\tsuccess: function(data){\n\t\t\t\t\t$(\"#dialogloadHtml\").dialog(\"close\");\n\t\t\t\t\t$.arcticmodal(\"close\");\n\t\t\t\t\t$(\".message-error-steps\").find(\".text\").html(html).end().arcticmodal({\n\t\t\t\t\t\topenEffect: {type: \"none\"},\n\t\t\t\t\t\tcloseEffect: {type: \"none\"},\n\t\t\t\t\t\tafterClose: function(data, el) {\n\t\t\t\t\t\t\t$(\"body\").css(\"overflow-y\", \"visible\");\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\n\t\t\t\t\tvar today = new Date(\"22 Apr 2017 16:25:07\");\n\t\t\t\t\tvar dateToVal = $(\"#CloneAutoGenSearchForm_dateTo\").val().split(\".\");\n\t\t\t\t\tdateTo = new Date(dateToVal[2], dateToVal[1], dateToVal[0]);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\t$(\"#dialogloadHtml\").dialog(\"close\");\n\t\t\t$.arcticmodal(\"close\");\n\t\t\t$(\".message-error-steps\").find(\".text\").html(html).end().arcticmodal({\n\t\t\t\topenEffect: {type: \"none\"},\n\t\t\t\tcloseEffect: {type: \"none\"},\n\t\t\t\tafterClose: function(data, el) {\n\t\t\t\t\t$(\"body\").css(\"overflow-y\", \"visible\");\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\treturn false;\n\t}\n\n\treturn true;\n},'attributes':[{'id':'CloneAutoGenSearchForm_dateTo','inputID':'CloneAutoGenSearchForm_dateTo','errorID':'CloneAutoGenSearchForm_dateTo_em_','model':'CloneAutoGenSearchForm','name':'dateTo','enableAjaxValidation':true}],'errorCss':'error'});\njQuery('#idDialogShowDialogByAjax').dialog({'autoOpen':false,'position':'center','modal':true,'resizable':false,'dialogClass':'dlgNoTitleSearch','minHeight':'0','width':'auto','disabled':false});\n\n$(document).ready(function(){\n\t$(\".closeDialog\").live(\"click\", function () {\n\t\t$(\"#idDialogSearchAutoGen\").dialog(\"close\");\n\t\t$(\"#idDialogShowDialogByAjax\").dialog(\"close\");\n\t});\n});\n\n\n\tpDialogProgress = $(\"#idDialogProgress\");\n\n\t$.ajaxSetup({\n\t\t\"cache\": false\n\t});\n\n\t$(document.body).ajaxStart(function () {\n\t\t//ShowProgress(); // Показываем прогресс\n\t}).ajaxStop(function () {\n\t\tHideProgress(); // Скрываем прогресс\n\t});\n\n\t$(document).ready(function(){\n\n\t\tsetInterval( function() {\n\n\t\t\t$(\"#ui-id-1\").width(($(\"#SearchForm_stationNameFrom\").innerWidth() - 5));\n\t\t\t$(\"#ui-id-2\").width(($(\"#SearchForm_stationNameTo\").innerWidth() - 5));\n\n\t\t} , 50);\n\n\t});\n\n\n\n$(\".overlay-process\").delegate(\".overlay-process__close\", \"click\", function(e) {\n\tstopNewOverlay();\n\te.preventDefault();\n});\n\n});\n/*]]>*/\n</script></noindex>\n\n<ul class=\"ui-autocomplete ui-menu ui-widget ui-widget-content ui-corner-all\" id=\"ui-id-1\" tabindex=\"0\" style=\"z-index: 1; display: none; width: 214px;\"></ul><ul class=\"ui-autocomplete ui-menu ui-widget ui-widget-content ui-corner-all\" id=\"ui-id-2\" tabindex=\"0\" style=\"z-index: 1; display: none; width: 214px;\"></ul><div id=\"ui-datepicker-div\" class=\"ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\"></div><div class=\"ui-dialog ui-widget ui-widget-content ui-corner-all ui-draggable ui-resizable\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"ui-id-3\" style=\"display: none; outline: 0px; z-index: 1000; position: absolute;\"><div class=\"ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix\"><span id=\"ui-id-3\" class=\"ui-dialog-title\">Сообщение</span><a href=\"#\" class=\"ui-dialog-titlebar-close ui-corner-all\" role=\"button\"><span class=\"ui-icon ui-icon-closethick\">close</span></a></div><div id=\"id_error_RouteForm_dialogErrors\" class=\"ui-dialog-content ui-widget-content\">\n</div><div class=\"ui-resizable-handle ui-resizable-n\" style=\"z-index: 1000;\"></div><div class=\"ui-resizable-handle ui-resizable-e\" style=\"z-index: 1000;\"></div><div class=\"ui-resizable-handle ui-resizable-s\" style=\"z-index: 1000;\"></div><div class=\"ui-resizable-handle ui-resizable-w\" style=\"z-index: 1000;\"></div><div class=\"ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se ui-icon-grip-diagonal-se\" style=\"z-index: 1000;\"></div><div class=\"ui-resizable-handle ui-resizable-sw\" style=\"z-index: 1000;\"></div><div class=\"ui-resizable-handle ui-resizable-ne\" style=\"z-index: 1000;\"></div><div class=\"ui-resizable-handle ui-resizable-nw\" style=\"z-index: 1000;\"></div></div><ul class=\"ui-autocomplete ui-menu ui-widget ui-widget-content ui-corner-all\" id=\"ui-id-4\" tabindex=\"0\" style=\"z-index: 1; display: none;\"></ul><div class=\"ui-dialog ui-widget ui-widget-content ui-corner-all ui-draggable ui-resizable ui-dialog-buttons\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"ui-id-5\" style=\"display: none; outline: 0px; z-index: 1000; position: absolute;\"><div class=\"ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix\"><span id=\"ui-id-5\" class=\"ui-dialog-title\">Уведомление</span><a href=\"#\" class=\"ui-dialog-titlebar-close ui-corner-all\" role=\"button\"><span class=\"ui-icon ui-icon-closethick\">close</span></a></div><div id=\"id_error_SearchTrain_dialogErrors\" class=\"ui-dialog-content ui-widget-content\">\n</div><div class=\"ui-resizable-handle ui-resizable-n\" style=\"z-index: 1000;\"></div><div class=\"ui-resizable-handle ui-resizable-e\" style=\"z-index: 1000;\"></div><div class=\"ui-resizable-handle ui-resizable-s\" style=\"z-index: 1000;\"></div><div class=\"ui-resizable-handle ui-resizable-w\" style=\"z-index: 1000;\"></div><div class=\"ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se ui-icon-grip-diagonal-se\" style=\"z-index: 1000;\"></div><div class=\"ui-resizable-handle ui-resizable-sw\" style=\"z-index: 1000;\"></div><div class=\"ui-resizable-handle ui-resizable-ne\" style=\"z-index: 1000;\"></div><div class=\"ui-resizable-handle ui-resizable-nw\" style=\"z-index: 1000;\"></div><div class=\"ui-dialog-buttonpane ui-widget-content ui-helper-clearfix\"><div class=\"ui-dialog-buttonset\"><button type=\"button\" class=\"ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only\" role=\"button\" aria-disabled=\"false\"><span class=\"ui-button-text\">Ок</span></button></div></div></div><ul class=\"ui-autocomplete ui-menu ui-widget ui-widget-content ui-corner-all\" id=\"ui-id-6\" tabindex=\"0\" style=\"z-index: 1; display: none;\"></ul><div class=\"ui-dialog ui-widget ui-widget-content ui-corner-all ui-draggable ui-resizable ui-dialog-buttons\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"ui-id-7\" style=\"display: none; outline: 0px; z-index: 1000; position: absolute;\"><div class=\"ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix\"><span id=\"ui-id-7\" class=\"ui-dialog-title\">Уведомление</span><a href=\"#\" class=\"ui-dialog-titlebar-close ui-corner-all\" role=\"button\"><span class=\"ui-icon ui-icon-closethick\">close</span></a></div><div id=\"id_error_SearchStation_dialogErrors\" class=\"ui-dialog-content ui-widget-content\">\n</div><div class=\"ui-resizable-handle ui-resizable-n\" style=\"z-index: 1000;\"></div><div class=\"ui-resizable-handle ui-resizable-e\" style=\"z-index: 1000;\"></div><div class=\"ui-resizable-handle ui-resizable-s\" style=\"z-index: 1000;\"></div><div class=\"ui-resizable-handle ui-resizable-w\" style=\"z-index: 1000;\"></div><div class=\"ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se ui-icon-grip-diagonal-se\" style=\"z-index: 1000;\"></div><div class=\"ui-resizable-handle ui-resizable-sw\" style=\"z-index: 1000;\"></div><div class=\"ui-resizable-handle ui-resizable-ne\" style=\"z-index: 1000;\"></div><div class=\"ui-resizable-handle ui-resizable-nw\" style=\"z-index: 1000;\"></div><div class=\"ui-dialog-buttonpane ui-widget-content ui-helper-clearfix\"><div class=\"ui-dialog-buttonset\"><button type=\"button\" class=\"ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only\" role=\"button\" aria-disabled=\"false\"><span class=\"ui-button-text\">Ок</span></button></div></div></div><div class=\"ui-dialog ui-widget ui-widget-content ui-corner-all dlgNoTitleSearch ui-draggable\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"ui-id-8\" style=\"display: none; outline: 0px; z-index: 1000;\"><div class=\"ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix\"><span id=\"ui-id-8\" class=\"ui-dialog-title\">&nbsp;</span><a href=\"#\" class=\"ui-dialog-titlebar-close ui-corner-all\" role=\"button\"><span class=\"ui-icon ui-icon-closethick\">close</span></a></div><div class=\"SearchFormDialog ui-dialog-content ui-widget-content\" id=\"idDialogSearch\">\n\t<table width=\"450\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\">\n\t\t<tbody><tr>\n\t\t\t<td>\n\t\t\t\t<div class=\"main_block\" id=\"form_popup\">\n\t\t\t\t\t<form id=\"id_dialog_RouteForm_routeForm\" action=\"https://poezd.ru/\" method=\"post\"><div class=\"modalSearchBlue main\">\n\t<span class=\"close box-modal_close arcticmodal-close\"></span>\n\t<div class=\"item\">\n\t\t<label for=\"\">Откуда:</label>\n<input id=\"CloneSearchForm_stationCodeFrom\" class=\"stationCodeFromInput\" name=\"CloneSearchForm[stationCodeFrom]\" type=\"hidden\"><input maxlength=\"100\" value=\"Москва\" autocomplete=\"off\" tabindex=\"10\" onclick=\"this.select()\" class=\"stationFromInput ui-autocomplete-input\" id=\"CloneSearchForm_stationNameFrom\" name=\"CloneSearchForm[stationNameFrom]\" type=\"text\"><span role=\"status\" aria-live=\"polite\" class=\"ui-helper-hidden-accessible\"></span>\t</div>\n\t<div class=\"item\">\n\t\t<label for=\"\">Куда:</label>\n<input id=\"CloneSearchForm_stationCodeTo\" class=\"stationCodeToInput\" name=\"CloneSearchForm[stationCodeTo]\" type=\"hidden\"><input maxlength=\"100\" value=\"Санкт-Петербург\" autocomplete=\"off\" tabindex=\"11\" onclick=\"this.select()\" class=\"stationToInput ui-autocomplete-input\" id=\"CloneSearchForm_stationNameTo\" name=\"CloneSearchForm[stationNameTo]\" type=\"text\"><span role=\"status\" aria-live=\"polite\" class=\"ui-helper-hidden-accessible\"></span>\t</div>\n\t<div class=\"item\">\n\t\t<label for=\"\">Когда:</label>\n\t\t<div class=\"date\">\n<input class=\"date hasDatepicker\" tabindex=\"12\" autocomplete=\"off\" id=\"CloneSearchForm_dateTo\" name=\"CloneSearchForm[dateTo]\" type=\"text\" value=\"23.04.2017\">\t\t\t<span class=\"icon\" onclick=\"$(this).parent().find('input.date').datepicker().datepicker('show')\"></span>\n\t\t</div>\n\t</div>\n\t<div class=\"buttons\">\n\t\t<span class=\"p_routes\" onclick=\"refresh_CloneSearchForm();return false;\" title=\"Поменять направление\"></span>\n<input id=\"search_tickets\" tabindex=\"4\" value=\"Искать билеты\" name=\"\" class=\"btn\" type=\"submit\">\t</div>\n\t<div style=\"display: none\">\n\t\t<div class=\"errorBlock\">\n\t\t\t<span class=\"close box-modal_close arcticmodal-close\"></span>\n<div class=\"errorMessage\" id=\"CloneSearchForm_stationNameFrom_em_\" style=\"display:none\"></div><div class=\"errorMessage\" id=\"CloneSearchForm_stationNameTo_em_\" style=\"display:none\"></div><div class=\"errorMessage\" id=\"CloneSearchForm_dateTo_em_\" style=\"display:none\"></div>\t\t</div>\n\t</div>\n</div>\n</form><noindex>\n\t\n</noindex>\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n</div></div><ul class=\"ui-autocomplete ui-menu ui-widget ui-widget-content ui-corner-all\" id=\"ui-id-9\" tabindex=\"0\" style=\"z-index: 1001; display: none;\"></ul><ul class=\"ui-autocomplete ui-menu ui-widget ui-widget-content ui-corner-all\" id=\"ui-id-10\" tabindex=\"0\" style=\"z-index: 1001; display: none;\"></ul><div class=\"ui-dialog ui-widget ui-widget-content ui-corner-all dlgNoTitle ui-draggable\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"ui-id-11\" style=\"display: none; outline: 0px; z-index: 1000;\"><div class=\"ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix\"><span id=\"ui-id-11\" class=\"ui-dialog-title\">&nbsp;</span><a href=\"#\" class=\"ui-dialog-titlebar-close ui-corner-all\" role=\"button\"><span class=\"ui-icon ui-icon-closethick\">close</span></a></div><div id=\"dialogloadHtml\" class=\"ui-dialog-content ui-widget-content\">\n\n<table width=\"70\" cellpadding=\"5\">\n    <tbody><tr>\n        <td align=\"center\" style=\"color: #00286f; font-size: 120%; padding-bottom: 5px;\">Идет загрузка...</td>\n    </tr>\n    <tr>\n        <td><img src=\"/img/loader.gif\"></td>\n    </tr>\n</tbody></table>\n</div></div><div class=\"ui-dialog ui-widget ui-widget-content ui-corner-all dlgNoTitleSearch ui-draggable\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"ui-id-12\" style=\"display: none; outline: 0px; z-index: 1000;\"><div class=\"ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix\"><span id=\"ui-id-12\" class=\"ui-dialog-title\">&nbsp;</span><a href=\"#\" class=\"ui-dialog-titlebar-close ui-corner-all\" role=\"button\"><span class=\"ui-icon ui-icon-closethick\">close</span></a></div><div class=\"SearchFormDialog null ui-dialog-content ui-widget-content\" id=\"idDialogSearchAutoGen\">\n<form id=\"id_autogen_RouteForm_routeForm\" action=\"https://poezd.ru/\" method=\"post\"><input name=\"CloneAutoGenSearchForm[train]\" id=\"CloneAutoGenSearchForm_train\" type=\"hidden\"><input name=\"CloneAutoGenSearchForm[stationNameFrom]\" id=\"CloneAutoGenSearchForm_stationNameFrom\" type=\"hidden\" value=\"Москва\"><input name=\"CloneAutoGenSearchForm[stationNameTo]\" id=\"CloneAutoGenSearchForm_stationNameTo\" type=\"hidden\" value=\"Санкт-Петербург\"><div class=\"modalSearchBlue main\">\n\t<span class=\"close closeDialog\"></span>\n\t<table border=\"0\" style=\"width: 94%;margin: 0;\"><tbody><tr><td class=\"label\">Откуда:</td><td>\n\t\t\t\t<span style=\"display:none;\"><label for=\"CloneAutoGenSearchForm_stationNameFrom\" class=\"required\">Откуда <span class=\"required\">*</span></label></span>\n<select size=\"1\" class=\"autogen_form_select\" style=\"width: 153px;\" name=\"CloneAutoGenSearchForm[stationCodeFrom]\" id=\"CloneAutoGenSearchForm_stationCodeFrom\">\n</select>\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td class=\"form_vertical_magrin\" colspan=\"2\"></td>\n\t\t</tr>\n\t\t<tr><td class=\"label\">Куда:</td><td>\n\t\t\t\t<span style=\"display:none;\"><label for=\"CloneAutoGenSearchForm_stationNameTo\" class=\"required\">Куда <span class=\"required\">*</span></label></span>\n<select size=\"1\" class=\"autogen_form_select\" style=\"width: 153px;\" onchange=\"\n\t\tvar CodeTo = $(&quot;#CloneAutoGenSearchForm_stationCodeTo&quot;).val();\n\n\t\t$(&quot;#CloneAutoGenSearchForm_stationNameTo&quot;).val(CodeTo);\n\n\t\tvar objJson = $.fn.autoarticleDialogMarchrutJsonData; //jQuery.parseJSON(jsDara);\n\n\t\tif (objJson)\n\t\t{\n\t\t\t$.each(objJson, function() {\n\t\t\t\tif (this[&quot;code&quot;]==CodeTo)\n\t\t\t\t{\n\t\t\t\t\tnameSF = this[&quot;stationname&quot;];\n\t\t\t\t\t$(&quot;#CloneAutoGenSearchForm_stationNameTo&quot;).val(nameSF);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\" name=\"CloneAutoGenSearchForm[stationCodeTo]\" id=\"CloneAutoGenSearchForm_stationCodeTo\">\n</select>\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td class=\"form_vertical_magrin\" colspan=\"2\"></td>\n\t\t</tr>\n\t\t<tr><td class=\"label\">Когда:</td><td class=\"item\">\n<input class=\"date hasDatepicker\" tabindex=\"30\" autocomplete=\"off\" style=\"width: 136px;\" id=\"CloneAutoGenSearchForm_dateTo\" name=\"CloneAutoGenSearchForm[dateTo]\" type=\"text\" value=\"23.04.2017\">\t\t\t\t<span style=\"display:none;\"><div class=\"errorMessage\" id=\"CloneAutoGenSearchForm_dateTo_em_\" style=\"display:none\"></div></span>\n\t\t\t\t<img onclick=\"$(this).datepicker().datepicker('show')\" src=\"/img/new/calendar_blue.gif\" id=\"SearchForm_dateTo\" style=\"position: relative; left: -29px; top: 3px; cursor: pointer;\">\n\t\t\t</td></tr>\n\t\t<tr>\n\t\t\t<td colspan=\"2\" style=\"font-size: 13px; padding: 10px 0; text-align: center;\">Открыта продажа билетов на <b>5 июня</b></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td class=\"form_vertical_magrin\" colspan=\"2\"></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td colspan=\"2\" style=\"padding: 0 85px 0 116px;\">\n\t\t\t\t<div style=\"position: relative; z-index: 100000;\">\n<input id=\"search_tickets\" tabindex=\"40\" value=\"Искать билеты\" class=\"btn\" type=\"submit\">\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody></table>\n\t<div style=\"clear: both; width: 100%; font-size: 1px; margin: 0;\"></div>\n</div>\n</form><div style=\"display: none;\">\n\t<div id=\"id_autogen_RouteForm_dialogErrors\" class=\"box-modal message-error-steps\">\n\t\t<div class=\"box-modal_close arcticmodal-close close\"></div>\n\t\t<div class=\"text\"></div>\n\t</div>\n\t<div class=\"modal-text\"></div>\n</div>\n<style>\n\t.ui-state-active-d, .ui-widget-content .ui-state-active-d, .ui-widget-header .ui-state-active-d {\n\t\tborder: 1px solid #eeeeee; background: #ffffff url(/img/ui-bg_flat_65_ffffff_40x100.png) 50% 50% repeat-x; font-weight: bold; color: #FF0000; }\n\t.ui-state-active-d a, .ui-state-active-d a:link, .ui-state-active-d a:visited { color: #FF0000; text-decoration: none; }\n\t.ui-state-active-silver, .ui-widget-content .ui-state-active-silver, .ui-widget-header .ui-state-active-silver {\n\t\tborder: 1px solid #eeeeee; background: #ffffff url(/img/ui-bg_flat_65_ffffff_40x100.png) 50% 50% repeat-x; font-weight: bold; color: #A2A2A2; }\n\t.ui-state-active-silver a, .ui-state-active-silver a:link, .ui-state-active-silver a:visited { color: #A2A2A2; text-decoration: none; }\n</style>\n<noindex>\n\t\n</noindex></div></div><div class=\"ui-dialog ui-widget ui-widget-content ui-corner-all dlgNoTitleSearch ui-draggable\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"ui-id-13\" style=\"display: none; outline: 0px; z-index: 1000;\"><div class=\"ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix\"><span id=\"ui-id-13\" class=\"ui-dialog-title\">&nbsp;</span><a href=\"#\" class=\"ui-dialog-titlebar-close ui-corner-all\" role=\"button\"><span class=\"ui-icon ui-icon-closethick\">close</span></a></div><div class=\"SearchFormDialog null ui-dialog-content ui-widget-content\" id=\"idDialogShowDialogByAjax\">\n<div class=\"modalSearchBlue main\">\n\t<span class=\"close closeDialog\"></span>\n\t<div class=\"content\">\n\t</div>\n</div>\n</div></div><div style=\"display: none; visibility: hidden;\"><meta name=\"google-site-verification\" content=\"Xmy5PHy--9WezMe8XXxt__Xqui2WeyvLOioalmIKFI8\"></div></body>"}
