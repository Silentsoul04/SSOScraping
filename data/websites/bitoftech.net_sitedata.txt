{"link":"bitoftech.net","html":"<head><script src=\"https://apis.google.com/_/scs/apps-static/_/js/k=oz.gapi.en_US.SLCABaeCDbc.O/m=auth/exm=plusone/rt=j/sv=1/d=1/ed=1/am=AQ/rs=AGLTcCMLkwjFKjbbQHEAkWYM0gtD9xKJJA/cb=gapi.loaded_1\" async=\"\"></script><script src=\"https://apis.google.com/_/scs/apps-static/_/js/k=oz.gapi.en_US.SLCABaeCDbc.O/m=plusone/rt=j/sv=1/d=1/ed=1/am=AQ/rs=AGLTcCMLkwjFKjbbQHEAkWYM0gtD9xKJJA/cb=gapi.loaded_0\" async=\"\"></script>\n<meta charset=\"UTF-8\">\n<title>Bit of Technology - .NET, Web API, AngularJS, Azure, and more…</title><meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n\n<!-- This site is optimized with the Yoast SEO plugin v4.6 - https://yoast.com/wordpress/plugins/seo/ -->\n<meta name=\"description\" content=\"Bit of Technology - Taiseer Joudeh blog where he posts tutorials about software development covering ASP.NET Stack, RESTful API, AngularJS, and Microsoft Azure\">\n<meta name=\"robots\" content=\"noodp\">\n<link rel=\"canonical\" href=\"https://bitoftech.net/\">\n<meta property=\"og:locale\" content=\"en_US\">\n<meta property=\"og:type\" content=\"website\">\n<meta property=\"og:title\" content=\"Bit of Technology - .NET, Web API, AngularJS, Azure, and more…\">\n<meta property=\"og:description\" content=\"Bit of Technology - Taiseer Joudeh blog where he posts tutorials about software development covering ASP.NET Stack, RESTful API, AngularJS, and Microsoft Azure\">\n<meta property=\"og:url\" content=\"https://bitoftech.net/\">\n<meta property=\"og:site_name\" content=\"Bit of Technology\">\n<meta name=\"twitter:card\" content=\"summary\">\n<meta name=\"twitter:description\" content=\"Bit of Technology - Taiseer Joudeh blog where he posts tutorials about software development covering ASP.NET Stack, RESTful API, AngularJS, and Microsoft Azure\">\n<meta name=\"twitter:title\" content=\"Bit of Technology - .NET, Web API, AngularJS, Azure, and more…\">\n<meta name=\"twitter:site\" content=\"@tjoudeh\">\n<script type=\"text/javascript\" async=\"\" src=\"https://apis.google.com/js/plusone.js\" gapi_processed=\"true\">{\"parsetags\": \"explicit\"}</script><script id=\"twitter-wjs\" src=\"https://platform.twitter.com/widgets.js\"></script><script id=\"facebook-jssdk\" src=\"https://connect.facebook.net/en_US/sdk.js#xfbml=1&amp;appId=249643311490&amp;version=v2.3\"></script><script src=\"https://pagead2.googlesyndication.com/pub-config/r20160913/ca-pub-9008761019081236.js\"></script><script async=\"\" src=\"//www.google-analytics.com/analytics.js\"></script><script type=\"application/ld+json\">{\"@context\":\"http:\\/\\/schema.org\",\"@type\":\"WebSite\",\"@id\":\"#website\",\"url\":\"https:\\/\\/bitoftech.net\\/\",\"name\":\"Bit of Technology\",\"potentialAction\":{\"@type\":\"SearchAction\",\"target\":\"https:\\/\\/bitoftech.net\\/?s={search_term_string}\",\"query-input\":\"required name=search_term_string\"}}</script>\n<script type=\"application/ld+json\">{\"@context\":\"http:\\/\\/schema.org\",\"@type\":\"Person\",\"url\":\"https:\\/\\/bitoftech.net\\/\",\"sameAs\":[\"https:\\/\\/twitter.com\\/tjoudeh\"],\"@id\":\"#person\",\"name\":\"Taiseer Joudeh\"}</script>\n<meta name=\"msvalidate.01\" content=\"290726A9B5E4E8BEB4328B06EDDD5A4C\">\n<meta name=\"google-site-verification\" content=\"cwktJKUFaUmwbxnzCszARDpmI8jBDgUOWs2EF3a8p_Q\">\n<!-- / Yoast SEO plugin. -->\n\n<link rel=\"dns-prefetch\" href=\"//s0.wp.com\">\n<link rel=\"dns-prefetch\" href=\"//fonts.googleapis.com\">\n<link rel=\"dns-prefetch\" href=\"//s.w.org\">\n<link rel=\"alternate\" type=\"application/rss+xml\" title=\"Bit of Technology » Feed\" href=\"https://bitoftech.net/feed/\">\n<link rel=\"alternate\" type=\"application/rss+xml\" title=\"Bit of Technology » Comments Feed\" href=\"https://bitoftech.net/comments/feed/\">\n\t\t<script type=\"text/javascript\">\n\t\t\twindow._wpemojiSettings = {\"baseUrl\":\"https:\\/\\/s.w.org\\/images\\/core\\/emoji\\/2.2.1\\/72x72\\/\",\"ext\":\".png\",\"svgUrl\":\"https:\\/\\/s.w.org\\/images\\/core\\/emoji\\/2.2.1\\/svg\\/\",\"svgExt\":\".svg\",\"source\":{\"concatemoji\":\"https:\\/\\/bitoftech.net\\/wp-includes\\/js\\/wp-emoji-release.min.js?ver=4.7.4\"}};\n\t\t\t!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline=\"top\",k.font=\"600 32px Arial\",a){case\"flag\":return k.fillText(f(55356,56826,55356,56819),0,0),!(j.toDataURL().length<3e3)&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,65039,8205,55356,57096),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,55356,57096),0,0),c=j.toDataURL(),b!==c);case\"emoji4\":return k.fillText(f(55357,56425,55356,57341,8205,55357,56507),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55357,56425,55356,57341,55357,56507),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement(\"script\");c.src=a,c.defer=c.type=\"text/javascript\",b.getElementsByTagName(\"head\")[0].appendChild(c)}var f,g,h,i,j=b.createElement(\"canvas\"),k=j.getContext&&j.getContext(\"2d\");for(i=Array(\"flag\",\"emoji4\"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],\"flag\"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener(\"DOMContentLoaded\",g,!1),a.addEventListener(\"load\",g,!1)):(a.attachEvent(\"onload\",g),b.attachEvent(\"onreadystatechange\",function(){\"complete\"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);\n\t\t</script><script src=\"https://bitoftech.net/wp-includes/js/wp-emoji-release.min.js?ver=4.7.4\" type=\"text/javascript\" defer=\"\"></script>\n\t\t<style type=\"text/css\">\nimg.wp-smiley,\nimg.emoji {\n\tdisplay: inline !important;\n\tborder: none !important;\n\tbox-shadow: none !important;\n\theight: 1em !important;\n\twidth: 1em !important;\n\tmargin: 0 .07em !important;\n\tvertical-align: -0.1em !important;\n\tbackground: none !important;\n\tpadding: 0 !important;\n}\n</style>\n<link rel=\"stylesheet\" id=\"crayon-css\" href=\"https://bitoftech.net/wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css?ver=_2.7.2_beta\" type=\"text/css\" media=\"all\">\n<link rel=\"stylesheet\" id=\"crayon-theme-vs2012-black-css\" href=\"https://bitoftech.net/wp-content/plugins/crayon-syntax-highlighter/themes/vs2012-black/vs2012-black.css?ver=_2.7.2_beta\" type=\"text/css\" media=\"all\">\n<link rel=\"stylesheet\" id=\"crayon-font-consolas-css\" href=\"https://bitoftech.net/wp-content/plugins/crayon-syntax-highlighter/fonts/consolas.css?ver=_2.7.2_beta\" type=\"text/css\" media=\"all\">\n<link rel=\"stylesheet\" id=\"eleven40-pro-theme-css\" href=\"https://bitoftech.net/wp-content/themes/eleven40-pro/style.css?ver=2.0\" type=\"text/css\" media=\"all\">\n<link rel=\"stylesheet\" id=\"contact-form-7-css\" href=\"https://bitoftech.net/wp-content/plugins/contact-form-7/includes/css/styles.css?ver=4.7\" type=\"text/css\" media=\"all\">\n<link rel=\"stylesheet\" id=\"google-font-css\" href=\"//fonts.googleapis.com/css?family=Lora%3A400%2C700%7COswald%3A400&amp;ver=2.4.2\" type=\"text/css\" media=\"all\">\n<link rel=\"stylesheet\" id=\"tablepress-default-css\" href=\"https://bitoftech.net/wp-content/plugins/tablepress/css/default.min.css?ver=1.8\" type=\"text/css\" media=\"all\">\n<!-- `sharedaddy` is included in the concatenated jetpack.css -->\n<link rel=\"stylesheet\" id=\"social-logos-css\" href=\"https://bitoftech.net/wp-content/plugins/jetpack/_inc/social-logos/social-logos.min.css?ver=1\" type=\"text/css\" media=\"all\">\n<link rel=\"stylesheet\" id=\"jetpack_css-css\" href=\"https://bitoftech.net/wp-content/plugins/jetpack/css/jetpack.css?ver=4.8.2\" type=\"text/css\" media=\"all\">\n<script type=\"text/javascript\" src=\"https://bitoftech.net/wp-includes/js/jquery/jquery.js?ver=1.12.4\"></script>\n<script type=\"text/javascript\" src=\"https://bitoftech.net/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1\"></script>\n<script type=\"text/javascript\">\n/* <![CDATA[ */\nvar CrayonSyntaxSettings = {\"version\":\"_2.7.2_beta\",\"is_admin\":\"0\",\"ajaxurl\":\"https:\\/\\/bitoftech.net\\/wp-admin\\/admin-ajax.php\",\"prefix\":\"crayon-\",\"setting\":\"crayon-setting\",\"selected\":\"crayon-setting-selected\",\"changed\":\"crayon-setting-changed\",\"special\":\"crayon-setting-special\",\"orig_value\":\"data-orig-value\",\"debug\":\"\"};\nvar CrayonSyntaxStrings = {\"copy\":\"Press %s to Copy, %s to Paste\",\"minimize\":\"Click To Expand Code\"};\n/* ]]> */\n</script>\n<script type=\"text/javascript\" src=\"https://bitoftech.net/wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js?ver=_2.7.2_beta\"></script>\n<!--[if lt IE 9]>\n<script type='text/javascript' src='https://bitoftech.net/wp-content/themes/genesis/lib/js/html5shiv.min.js?ver=3.7.3'></script>\n<![endif]-->\n<link rel=\"https://api.w.org/\" href=\"https://bitoftech.net/wp-json/\">\n<link rel=\"EditURI\" type=\"application/rsd+xml\" title=\"RSD\" href=\"https://bitoftech.net/xmlrpc.php?rsd\">\n<link rel=\"wlwmanifest\" type=\"application/wlwmanifest+xml\" href=\"https://bitoftech.net/wp-includes/wlwmanifest.xml\"> \n<meta name=\"generator\" content=\"WordPress 4.7.4\">\n<style type=\"text/css\">\n.ai-viewport-3                { display: none !important;}\n.ai-viewport-2                { display: none !important;}\n.ai-viewport-1                { display: inherit !important;}\n.ai-viewport-0                { display: none !important;}\n@media (min-width: 768px) and (max-width: 979px) {\n.ai-viewport-1                { display: none !important;}\n.ai-viewport-2                { display: inherit !important;}\n}\n@media (max-width: 767px) {\n.ai-viewport-1                { display: none !important;}\n.ai-viewport-3                { display: inherit !important;}\n}\n</style>\n<link rel=\"icon\" href=\"https://bitoftech.net/wp-content/themes/eleven40-pro/images/favicon.ico\">\n<link rel=\"pingback\" href=\"https://bitoftech.net/xmlrpc.php\">\n<script type=\"text/javascript\">\n  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');\n  ga('create', 'UA-39917411-1', 'bitoftech.net');\n  ga('require', 'displayfeatures');\n  ga('send', 'pageview');\n</script><script type=\"text/javascript\" async=\"\" src=\"http://s3.buysellads.com/ac/bsa.js\"></script><script type=\"text/javascript\" charset=\"utf-8\" async=\"\" src=\"https://platform.twitter.com/js/button.c3b1210de6dcfc66af312e0fed7fdcd2.js\"></script><script src=\"https://platform.linkedin.com/js/secureAnonymousFramework?v=0.0.2000-RC8.60487-1429&amp;\"></script><style type=\"text/css\">* html #li_ui_li_gen_1492964248459_0 a#li_ui_li_gen_1492964248459_0-link{height:1% !important;}#li_ui_li_gen_1492964248459_0{position:relative !important;overflow:visible !important;display:block !important;}#li_ui_li_gen_1492964248459_0 span{-webkit-box-sizing:content-box !important;-moz-box-sizing:content-box !important;box-sizing:content-box !important;}#li_ui_li_gen_1492964248459_0 a#li_ui_li_gen_1492964248459_0-link{border:0 !important;height:20px !important;text-decoration:none !important;padding:0 !important;margin:0 !important;display:inline-block !important;}#li_ui_li_gen_1492964248459_0 a#li_ui_li_gen_1492964248459_0-link:link, #li_ui_li_gen_1492964248459_0 a#li_ui_li_gen_1492964248459_0-link:visited, #li_ui_li_gen_1492964248459_0 a#li_ui_li_gen_1492964248459_0-link:hover, #li_ui_li_gen_1492964248459_0 a#li_ui_li_gen_1492964248459_0-link:active{border:0 !important;text-decoration:none !important;}#li_ui_li_gen_1492964248459_0 a#li_ui_li_gen_1492964248459_0-link:after{content:\".\" !important;display:block !important;clear:both !important;visibility:hidden !important;line-height:0 !important;height:0 !important;}#li_ui_li_gen_1492964248459_0 #li_ui_li_gen_1492964248459_0-logo{background-image:url(https://static.licdn.com/scds/common/u/images/apps/connect/sprites/sprite_connect_v14.png) !important;background-position:0px -593px !important;background-repeat:no-repeat !important;background-color:#0077b5 !important;background-size:initial !important;cursor:pointer !important;border:0 !important;border-right:1px solid #066094 !important;text-indent:-9999em !important;overflow:hidden !important;padding:0 !important;margin:0 !important;position:absolute !important;left:0px !important;top:0px !important;display:block !important;width:20px !important;height:20px !important;float:right !important;border-radius:2px !important;-webkit-border-radius:2px !important;border-top-right-radius:2px !important;border-bottom-right-radius:2px !important;-webkit-border-top-right-radius:2px !important;-webkit-border-bottom-right-radius:2px !important;}#li_ui_li_gen_1492964248459_0 #li_ui_li_gen_1492964248459_0-title{color:#fff !important;cursor:pointer !important;display:block !important;white-space:nowrap !important;float:left !important;margin-left:1px !important;vertical-align:top !important;overflow:hidden !important;text-align:center !important;height:18px !important;padding:0 4px 0 23px !important;border:1px solid #000 !important;border-top-color:#0077b5 !important;border-right-color:#0077b5 !important;border-bottom-color:#0077b5 !important;border-left-color:#0077b5 !important;text-shadow:0 -1px #005887 !important;line-height:20px !important;border-radius:2px !important;-webkit-border-radius:2px !important;border-top-right-radius:2px !important;border-bottom-right-radius:2px !important;-webkit-border-top-right-radius:2px !important;-webkit-border-bottom-right-radius:2px !important;background-color:#0077b5 !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#0077b5), color-stop(100%,#0077b5)) !important; background-image: -webkit-linear-gradient(top, #0077b5 0%, #0077b5 100%) !important;}#li_ui_li_gen_1492964248459_0.hovered #li_ui_li_gen_1492964248459_0-title{border:1px solid #000 !important;border-top-color:#0369a0 !important;border-right-color:#0369a0 !important;border-bottom-color:#0369a0 !important;border-left-color:#0369a0 !important;background-color:#0369a0 !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#0369a0), color-stop(100%,#0369a0)) !important; background-image: -webkit-linear-gradient(top, #0369a0 0%, #0369a0 100%) !important;}#li_ui_li_gen_1492964248459_0.clicked #li_ui_li_gen_1492964248459_0-title, #li_ui_li_gen_1492964248459_0.down #li_ui_li_gen_1492964248459_0-title{color:#fff !important;border:1px solid #000 !important;border-top-color:#066094 !important;border-right-color:#066094 !important;border-bottom-color:#066094 !important;border-left-color:#066094 !important;background-color:#066094 !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#066094), color-stop(100%,#066094)) !important; background-image: -webkit-linear-gradient(top, #066094 0%, #066094 100%) !important;}.IN-shadowed #li_ui_li_gen_1492964248459_0 #li_ui_li_gen_1492964248459_0-title{}.IN-shadowed #li_ui_li_gen_1492964248459_0.hovered #li_ui_li_gen_1492964248459_0-title{}.IN-shadowed #li_ui_li_gen_1492964248459_0.clicked #li_ui_li_gen_1492964248459_0-title, .IN-shadowed #li_ui_li_gen_1492964248459_0.down #li_ui_li_gen_1492964248459_0-title{}#li_ui_li_gen_1492964248459_0 #li_ui_li_gen_1492964248459_0-title-text, #li_ui_li_gen_1492964248459_0 #li_ui_li_gen_1492964248459_0-title-text *{color:#fff !important;font-size:11px !important;font-family:Arial, sans-serif !important;font-weight:bold !important;font-style:normal !important;-webkit-font-smoothing:antialiased !important;display:inline-block !important;background:transparent none !important;vertical-align:top !important;height:18px !important;line-height:20px !important;float:none !important;}#li_ui_li_gen_1492964248459_0 #li_ui_li_gen_1492964248459_0-title-text strong{font-weight:bold !important;}#li_ui_li_gen_1492964248459_0 #li_ui_li_gen_1492964248459_0-title-text em{font-style:italic !important;}#li_ui_li_gen_1492964248459_0.hovered #li_ui_li_gen_1492964248459_0-title-text, #li_ui_li_gen_1492964248459_0.hovered #li_ui_li_gen_1492964248459_0-title-text *{color:#fff !important;}#li_ui_li_gen_1492964248459_0.clicked #li_ui_li_gen_1492964248459_0-title-text, #li_ui_li_gen_1492964248459_0.down #li_ui_li_gen_1492964248459_0-title-text, #li_ui_li_gen_1492964248459_0.clicked #li_ui_li_gen_1492964248459_0-title-text *, #li_ui_li_gen_1492964248459_0.down #li_ui_li_gen_1492964248459_0-title-text *{color:#fff !important;}#li_ui_li_gen_1492964248459_0 #li_ui_li_gen_1492964248459_0-title #li_ui_li_gen_1492964248459_0-mark{display:inline-block !important;width:0px !important;overflow:hidden !important;}.success #li_ui_li_gen_1492964248459_0 #li_ui_li_gen_1492964248459_0-title{color:#fff !important;border-top-color:#0077b5 !important;border-right-color:#0077b5 !important;border-bottom-color:#0077b5 !important;border-left-color:#0077b5 !important;background-color:#0077b5 !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#0077b5), color-stop(100%,#0077b5)) !important; background-image: -webkit-linear-gradient(top, #0077b5 0%, #0077b5 100%) !important;}.success #li_ui_li_gen_1492964248459_0 #li_ui_li_gen_1492964248459_0-title-text, .success #li_ui_li_gen_1492964248459_0 #li_ui_li_gen_1492964248459_0-title-text *{color:#fff !important;}.IN-shadowed .success #li_ui_li_gen_1492964248459_0 #li_ui_li_gen_1492964248459_0-title{}.success #li_ui_li_gen_1492964248459_0.hovered #li_ui_li_gen_1492964248459_0-title{color:#fff !important;border-top-color:#0369a0 !important;border-right-color:#0369a0 !important;border-bottom-color:#0369a0 !important;border-left-color:#0369a0 !important;background-color:#0369a0 !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#0369a0), color-stop(100%,#0369a0)) !important; background-image: -webkit-linear-gradient(top, #0369a0 0%, #0369a0 100%) !important;}.success #li_ui_li_gen_1492964248459_0.hovered #li_ui_li_gen_1492964248459_0-title-text, .success #li_ui_li_gen_1492964248459_0.hovered #li_ui_li_gen_1492964248459_0-title-text *{color:#fff !important;}.success #li_ui_li_gen_1492964248459_0.clicked #li_ui_li_gen_1492964248459_0-title, .success #li_ui_li_gen_1492964248459_0.down #li_ui_li_gen_1492964248459_0-title{color:#fff !important;border-top-color:#066094 !important;border-right-color:#066094 !important;border-bottom-color:#066094 !important;border-left-color:#066094 !important;background-color:#066094 !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#066094), color-stop(100%,#066094)) !important; background-image: -webkit-linear-gradient(top, #066094 0%, #066094 100%) !important;}.success #li_ui_li_gen_1492964248459_0.clicked #li_ui_li_gen_1492964248459_0-title-text, .success #li_ui_li_gen_1492964248459_0.down #li_ui_li_gen_1492964248459_0-title-text, .success #li_ui_li_gen_1492964248459_0.clicked #li_ui_li_gen_1492964248459_0-title-text *, .success #li_ui_li_gen_1492964248459_0.down #li_ui_li_gen_1492964248459_0-title-text *{color:#fff !important;}.IN-shadowed .success #li_ui_li_gen_1492964248459_0.clicked #li_ui_li_gen_1492964248459_0-title, .IN-shadowed .success #li_ui_li_gen_1492964248459_0.down #li_ui_li_gen_1492964248459_0-title{}#li_ui_li_gen_1492964248480_1-container.IN-right {display:inline-block !important;float:left !important;overflow:visible !important;position:relative !important;height:20px !important;padding-left:2px !important;line-height:1px !important;cursor:pointer !important;}#li_ui_li_gen_1492964248480_1.IN-right {display:block !important;float:left !important;height:20px !important;margin-right:4px !important;padding-right:4px !important;background-image:url(https://static.licdn.com/scds/common/u/images/apps/connect/sprites/sprite_connect_v14.png) !important;background-color:transparent !important;background-repeat:no-repeat !important;background-position:right -447px !important;}#li_ui_li_gen_1492964248480_1-inner.IN-right {display:block !important;float:left !important;padding-left:8px !important;text-align:center !important;background-image:url(https://static.licdn.com/scds/common/u/images/apps/connect/sprites/sprite_connect_v14.png) !important;background-color:transparent !important;background-repeat:no-repeat !important;background-position:0px -426px !important;}#li_ui_li_gen_1492964248480_1-content.IN-right {display:inline !important;font-size:11px !important;color:#4e4e4e !important;font-weight:bold !important;font-family:Arial, sans-serif !important;line-height:20px !important;padding:0 5px 0 5px !important;}#li_ui_li_gen_1492964248480_1-container.IN-empty {display:none !important;}#li_ui_li_gen_1492964248480_1-container.IN-hidden #li_ui_li_gen_1492964248480_1 {display:none !important;}* html #li_ui_li_gen_1492964248486_2 a#li_ui_li_gen_1492964248486_2-link{height:1% !important;}#li_ui_li_gen_1492964248486_2{position:relative !important;overflow:visible !important;display:block !important;}#li_ui_li_gen_1492964248486_2 span{-webkit-box-sizing:content-box !important;-moz-box-sizing:content-box !important;box-sizing:content-box !important;}#li_ui_li_gen_1492964248486_2 a#li_ui_li_gen_1492964248486_2-link{border:0 !important;height:20px !important;text-decoration:none !important;padding:0 !important;margin:0 !important;display:inline-block !important;}#li_ui_li_gen_1492964248486_2 a#li_ui_li_gen_1492964248486_2-link:link, #li_ui_li_gen_1492964248486_2 a#li_ui_li_gen_1492964248486_2-link:visited, #li_ui_li_gen_1492964248486_2 a#li_ui_li_gen_1492964248486_2-link:hover, #li_ui_li_gen_1492964248486_2 a#li_ui_li_gen_1492964248486_2-link:active{border:0 !important;text-decoration:none !important;}#li_ui_li_gen_1492964248486_2 a#li_ui_li_gen_1492964248486_2-link:after{content:\".\" !important;display:block !important;clear:both !important;visibility:hidden !important;line-height:0 !important;height:0 !important;}#li_ui_li_gen_1492964248486_2 #li_ui_li_gen_1492964248486_2-logo{background-image:url(https://static.licdn.com/scds/common/u/images/apps/connect/sprites/sprite_connect_v14.png) !important;background-position:0px -593px !important;background-repeat:no-repeat !important;background-color:#0077b5 !important;background-size:initial !important;cursor:pointer !important;border:0 !important;border-right:1px solid #066094 !important;text-indent:-9999em !important;overflow:hidden !important;padding:0 !important;margin:0 !important;position:absolute !important;left:0px !important;top:0px !important;display:block !important;width:20px !important;height:20px !important;float:right !important;border-radius:2px !important;-webkit-border-radius:2px !important;border-top-right-radius:2px !important;border-bottom-right-radius:2px !important;-webkit-border-top-right-radius:2px !important;-webkit-border-bottom-right-radius:2px !important;}#li_ui_li_gen_1492964248486_2 #li_ui_li_gen_1492964248486_2-title{color:#fff !important;cursor:pointer !important;display:block !important;white-space:nowrap !important;float:left !important;margin-left:1px !important;vertical-align:top !important;overflow:hidden !important;text-align:center !important;height:18px !important;padding:0 4px 0 23px !important;border:1px solid #000 !important;border-top-color:#0077b5 !important;border-right-color:#0077b5 !important;border-bottom-color:#0077b5 !important;border-left-color:#0077b5 !important;text-shadow:0 -1px #005887 !important;line-height:20px !important;border-radius:2px !important;-webkit-border-radius:2px !important;border-top-right-radius:2px !important;border-bottom-right-radius:2px !important;-webkit-border-top-right-radius:2px !important;-webkit-border-bottom-right-radius:2px !important;background-color:#0077b5 !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#0077b5), color-stop(100%,#0077b5)) !important; background-image: -webkit-linear-gradient(top, #0077b5 0%, #0077b5 100%) !important;}#li_ui_li_gen_1492964248486_2.hovered #li_ui_li_gen_1492964248486_2-title{border:1px solid #000 !important;border-top-color:#0369a0 !important;border-right-color:#0369a0 !important;border-bottom-color:#0369a0 !important;border-left-color:#0369a0 !important;background-color:#0369a0 !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#0369a0), color-stop(100%,#0369a0)) !important; background-image: -webkit-linear-gradient(top, #0369a0 0%, #0369a0 100%) !important;}#li_ui_li_gen_1492964248486_2.clicked #li_ui_li_gen_1492964248486_2-title, #li_ui_li_gen_1492964248486_2.down #li_ui_li_gen_1492964248486_2-title{color:#fff !important;border:1px solid #000 !important;border-top-color:#066094 !important;border-right-color:#066094 !important;border-bottom-color:#066094 !important;border-left-color:#066094 !important;background-color:#066094 !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#066094), color-stop(100%,#066094)) !important; background-image: -webkit-linear-gradient(top, #066094 0%, #066094 100%) !important;}.IN-shadowed #li_ui_li_gen_1492964248486_2 #li_ui_li_gen_1492964248486_2-title{}.IN-shadowed #li_ui_li_gen_1492964248486_2.hovered #li_ui_li_gen_1492964248486_2-title{}.IN-shadowed #li_ui_li_gen_1492964248486_2.clicked #li_ui_li_gen_1492964248486_2-title, .IN-shadowed #li_ui_li_gen_1492964248486_2.down #li_ui_li_gen_1492964248486_2-title{}#li_ui_li_gen_1492964248486_2 #li_ui_li_gen_1492964248486_2-title-text, #li_ui_li_gen_1492964248486_2 #li_ui_li_gen_1492964248486_2-title-text *{color:#fff !important;font-size:11px !important;font-family:Arial, sans-serif !important;font-weight:bold !important;font-style:normal !important;-webkit-font-smoothing:antialiased !important;display:inline-block !important;background:transparent none !important;vertical-align:top !important;height:18px !important;line-height:20px !important;float:none !important;}#li_ui_li_gen_1492964248486_2 #li_ui_li_gen_1492964248486_2-title-text strong{font-weight:bold !important;}#li_ui_li_gen_1492964248486_2 #li_ui_li_gen_1492964248486_2-title-text em{font-style:italic !important;}#li_ui_li_gen_1492964248486_2.hovered #li_ui_li_gen_1492964248486_2-title-text, #li_ui_li_gen_1492964248486_2.hovered #li_ui_li_gen_1492964248486_2-title-text *{color:#fff !important;}#li_ui_li_gen_1492964248486_2.clicked #li_ui_li_gen_1492964248486_2-title-text, #li_ui_li_gen_1492964248486_2.down #li_ui_li_gen_1492964248486_2-title-text, #li_ui_li_gen_1492964248486_2.clicked #li_ui_li_gen_1492964248486_2-title-text *, #li_ui_li_gen_1492964248486_2.down #li_ui_li_gen_1492964248486_2-title-text *{color:#fff !important;}#li_ui_li_gen_1492964248486_2 #li_ui_li_gen_1492964248486_2-title #li_ui_li_gen_1492964248486_2-mark{display:inline-block !important;width:0px !important;overflow:hidden !important;}.success #li_ui_li_gen_1492964248486_2 #li_ui_li_gen_1492964248486_2-title{color:#fff !important;border-top-color:#0077b5 !important;border-right-color:#0077b5 !important;border-bottom-color:#0077b5 !important;border-left-color:#0077b5 !important;background-color:#0077b5 !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#0077b5), color-stop(100%,#0077b5)) !important; background-image: -webkit-linear-gradient(top, #0077b5 0%, #0077b5 100%) !important;}.success #li_ui_li_gen_1492964248486_2 #li_ui_li_gen_1492964248486_2-title-text, .success #li_ui_li_gen_1492964248486_2 #li_ui_li_gen_1492964248486_2-title-text *{color:#fff !important;}.IN-shadowed .success #li_ui_li_gen_1492964248486_2 #li_ui_li_gen_1492964248486_2-title{}.success #li_ui_li_gen_1492964248486_2.hovered #li_ui_li_gen_1492964248486_2-title{color:#fff !important;border-top-color:#0369a0 !important;border-right-color:#0369a0 !important;border-bottom-color:#0369a0 !important;border-left-color:#0369a0 !important;background-color:#0369a0 !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#0369a0), color-stop(100%,#0369a0)) !important; background-image: -webkit-linear-gradient(top, #0369a0 0%, #0369a0 100%) !important;}.success #li_ui_li_gen_1492964248486_2.hovered #li_ui_li_gen_1492964248486_2-title-text, .success #li_ui_li_gen_1492964248486_2.hovered #li_ui_li_gen_1492964248486_2-title-text *{color:#fff !important;}.success #li_ui_li_gen_1492964248486_2.clicked #li_ui_li_gen_1492964248486_2-title, .success #li_ui_li_gen_1492964248486_2.down #li_ui_li_gen_1492964248486_2-title{color:#fff !important;border-top-color:#066094 !important;border-right-color:#066094 !important;border-bottom-color:#066094 !important;border-left-color:#066094 !important;background-color:#066094 !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#066094), color-stop(100%,#066094)) !important; background-image: -webkit-linear-gradient(top, #066094 0%, #066094 100%) !important;}.success #li_ui_li_gen_1492964248486_2.clicked #li_ui_li_gen_1492964248486_2-title-text, .success #li_ui_li_gen_1492964248486_2.down #li_ui_li_gen_1492964248486_2-title-text, .success #li_ui_li_gen_1492964248486_2.clicked #li_ui_li_gen_1492964248486_2-title-text *, .success #li_ui_li_gen_1492964248486_2.down #li_ui_li_gen_1492964248486_2-title-text *{color:#fff !important;}.IN-shadowed .success #li_ui_li_gen_1492964248486_2.clicked #li_ui_li_gen_1492964248486_2-title, .IN-shadowed .success #li_ui_li_gen_1492964248486_2.down #li_ui_li_gen_1492964248486_2-title{}#li_ui_li_gen_1492964248490_3-container.IN-right {display:inline-block !important;float:left !important;overflow:visible !important;position:relative !important;height:20px !important;padding-left:2px !important;line-height:1px !important;cursor:pointer !important;}#li_ui_li_gen_1492964248490_3.IN-right {display:block !important;float:left !important;height:20px !important;margin-right:4px !important;padding-right:4px !important;background-image:url(https://static.licdn.com/scds/common/u/images/apps/connect/sprites/sprite_connect_v14.png) !important;background-color:transparent !important;background-repeat:no-repeat !important;background-position:right -447px !important;}#li_ui_li_gen_1492964248490_3-inner.IN-right {display:block !important;float:left !important;padding-left:8px !important;text-align:center !important;background-image:url(https://static.licdn.com/scds/common/u/images/apps/connect/sprites/sprite_connect_v14.png) !important;background-color:transparent !important;background-repeat:no-repeat !important;background-position:0px -426px !important;}#li_ui_li_gen_1492964248490_3-content.IN-right {display:inline !important;font-size:11px !important;color:#4e4e4e !important;font-weight:bold !important;font-family:Arial, sans-serif !important;line-height:20px !important;padding:0 5px 0 5px !important;}#li_ui_li_gen_1492964248490_3-container.IN-empty {display:none !important;}#li_ui_li_gen_1492964248490_3-container.IN-hidden #li_ui_li_gen_1492964248490_3 {display:none !important;}</style><style type=\"text/css\">.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_reposition{overflow:hidden;position:relative}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:\"lucida grande\", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}.fb_link img{border:none}@keyframes fb_transform{from{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.fb_animate{animation:fb_transform .3s forwards}\n.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_reset .fb_dialog_legacy{overflow:visible}.fb_dialog_advanced{padding:10px;-moz-border-radius:8px;-webkit-border-radius:8px;border-radius:8px}.fb_dialog_content{background:#fff;color:#333}.fb_dialog_close_icon{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{top:5px;left:5px;right:auto}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent}.fb_dialog_close_icon:active{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent}.fb_dialog_loader{background-color:#f6f7f9;border:1px solid #606060;font-size:24px;padding:20px}.fb_dialog_top_left,.fb_dialog_top_right,.fb_dialog_bottom_left,.fb_dialog_bottom_right{height:10px;width:10px;overflow:hidden;position:absolute}.fb_dialog_top_left{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ye/r/8YeTNIlTZjm.png) no-repeat 0 0;left:-10px;top:-10px}.fb_dialog_top_right{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ye/r/8YeTNIlTZjm.png) no-repeat 0 -10px;right:-10px;top:-10px}.fb_dialog_bottom_left{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ye/r/8YeTNIlTZjm.png) no-repeat 0 -20px;bottom:-10px;left:-10px}.fb_dialog_bottom_right{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ye/r/8YeTNIlTZjm.png) no-repeat 0 -30px;right:-10px;bottom:-10px}.fb_dialog_vert_left,.fb_dialog_vert_right,.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{position:absolute;background:#525252;filter:alpha(opacity=70);opacity:.7}.fb_dialog_vert_left,.fb_dialog_vert_right{width:10px;height:100%}.fb_dialog_vert_left{margin-left:-10px}.fb_dialog_vert_right{right:0;margin-right:-10px}.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{width:100%;height:10px}.fb_dialog_horiz_top{margin-top:-10px}.fb_dialog_horiz_bottom{bottom:0;margin-bottom:-10px}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #365899;color:#fff;font-size:14px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title>span{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}body.fb_hidden{-webkit-transform:none;height:100%;margin:0;overflow:visible;position:absolute;top:-10000px;left:0;width:100%}.fb_dialog.fb_dialog_mobile.loading{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ya/r/3rhSv5V8j3o.gif) white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{width:auto;height:auto;min-height:initial;min-width:initial;background:none}.fb_dialog.fb_dialog_mobile.loading.centered #fb_dialog_loader_spinner{width:100%}.fb_dialog.fb_dialog_mobile.loading.centered .fb_dialog_content{background:none}.loading.centered #fb_dialog_loader_close{color:#fff;display:block;padding-top:20px;clear:both;font-size:18px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .45);position:absolute;bottom:0;left:0;right:0;top:0;width:100%;min-height:100%;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_content .dialog_header{-webkit-box-shadow:white 0 1px 1px -1px inset;background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#738ABA), to(#2C4987));border-bottom:1px solid;border-color:#1d4088;color:#fff;font:14px Helvetica, sans-serif;font-weight:bold;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{-webkit-font-smoothing:subpixel-antialiased;height:43px;width:100%}.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#4966A6), color-stop(.5, #355492), to(#2A4887));border:1px solid #29487d;-webkit-background-clip:padding-box;-webkit-border-radius:3px;-webkit-box-shadow:rgba(0, 0, 0, .117188) 0 1px 1px inset, rgba(255, 255, 255, .167969) 0 1px 0;display:inline-block;margin-top:3px;max-width:85px;line-height:18px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{border:none;background:none;color:#fff;font:12px Helvetica, sans-serif;font-weight:bold;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #555;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f6f7f9;border:1px solid #555;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}#fb_dialog_loader_spinner{animation:rotateSpinner 1.2s linear infinite;background-color:transparent;background-image:url(https://static.xx.fbcdn.net/rsrc.php/v3/yD/r/t-wz8gw1xG1.png);background-repeat:no-repeat;background-position:50% 50%;height:24px;width:24px}@keyframes rotateSpinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}\n.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_fluid_desktop,.fb_iframe_widget_fluid_desktop span,.fb_iframe_widget_fluid_desktop iframe{max-width:100%}.fb_iframe_widget_fluid_desktop iframe{min-width:220px;position:relative}.fb_iframe_widget_lift{z-index:1}.fb_hide_iframes iframe{position:relative;left:-10000px}.fb_iframe_widget_loader{position:relative;display:inline-block}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100%}.fb_iframe_widget_loader iframe{min-height:32px;z-index:2;zoom:1}.fb_iframe_widget_loader .FB_Loader{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/y9/r/jKEcVPZFk-2.gif) no-repeat;height:32px;width:32px;margin-left:-16px;position:absolute;left:50%;z-index:4}</style></head>\n<body class=\"home blog content-sidebar\" itemscope=\"\" itemtype=\"http://schema.org/WebPage\"><!-- BuySellAds Ad Code -->\n<script type=\"text/javascript\">\n(function(){\n  var bsa = document.createElement('script');\n     bsa.type = 'text/javascript';\n     bsa.async = true;\n     bsa.src = 'http://s3.buysellads.com/ac/bsa.js';\n  (document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(bsa);\n})();\n</script>\n<!-- End BuySellAds Ad Code --><div class=\"site-container\"><header class=\"site-header\" itemscope=\"\" itemtype=\"http://schema.org/WPHeader\"><div class=\"wrap\"><div class=\"title-area\"><h1 class=\"site-title\" itemprop=\"headline\"><a href=\"https://bitoftech.net/\">Bit of Technology</a></h1></div><div class=\"widget-area header-widget-area\"><section id=\"nav_menu-2\" class=\"widget widget_nav_menu\"><div class=\"widget-wrap\"><nav class=\"nav-header\" itemscope=\"\" itemtype=\"http://schema.org/SiteNavigationElement\"><ul id=\"menu-main\" class=\"menu genesis-nav-menu\"><li id=\"menu-item-494\" class=\"menu-item menu-item-type-post_type menu-item-object-page menu-item-494\"><a href=\"https://bitoftech.net/archive/\" itemprop=\"url\"><span itemprop=\"name\">Archive</span></a></li>\n<li id=\"menu-item-295\" class=\"menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-295\"><a href=\"https://bitoftech.net/taiseer-joudeh-blog/\" itemprop=\"url\"><span itemprop=\"name\">About Me</span></a>\n<ul class=\"sub-menu\">\n\t<li id=\"menu-item-985\" class=\"menu-item menu-item-type-custom menu-item-object-custom menu-item-985\"><a href=\"https://buysellads.com/buy/detail/240014\" itemprop=\"url\"><span itemprop=\"name\">Advertise</span></a></li>\n\t<li id=\"menu-item-294\" class=\"menu-item menu-item-type-post_type menu-item-object-page menu-item-294\"><a href=\"https://bitoftech.net/disclaimer/\" itemprop=\"url\"><span itemprop=\"name\">Disclaimer</span></a></li>\n</ul>\n</li>\n<li id=\"menu-item-623\" class=\"menu-item menu-item-type-post_type menu-item-object-page menu-item-623\"><a href=\"https://bitoftech.net/speaking/\" itemprop=\"url\"><span itemprop=\"name\">Speaking</span></a></li>\n<li id=\"menu-item-293\" class=\"menu-item menu-item-type-post_type menu-item-object-page menu-item-293\"><a href=\"https://bitoftech.net/contact/\" itemprop=\"url\"><span itemprop=\"name\">Contact</span></a></li>\n</ul></nav></div></section>\n</div></div></header><div class=\"site-inner\"><div class=\"wrap\"><div class=\"content-sidebar-wrap\"><script async=\"\" src=\"//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\"></script>\n<!-- Leaderboard -->\n<ins class=\"adsbygoogle\" style=\"display:inline-block;width:728px;height:90px;margin-top:7px\" data-ad-client=\"ca-pub-9008761019081236\" data-ad-slot=\"8465270703\" data-adsbygoogle-status=\"done\"><ins id=\"aswift_0_expand\" style=\"display:inline-table;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent\"><ins id=\"aswift_0_anchor\" style=\"display:block;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent\"><iframe width=\"728\" height=\"90\" frameborder=\"0\" marginwidth=\"0\" marginheight=\"0\" vspace=\"0\" hspace=\"0\" allowtransparency=\"true\" scrolling=\"no\" allowfullscreen=\"true\" onload=\"var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}\" id=\"aswift_0\" name=\"aswift_0\" style=\"left:0;position:absolute;top:0;\"></iframe></ins></ins></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script><main class=\"content\"><article class=\"post-1096 post type-post status-publish format-standard has-post-thumbnail category-asp-net-web-api category-azure category-azure-ad-b2c category-codeproject category-restful-api category-web-api-security tag-azure-active-directory-b2c tag-azure-ad-b2c tag-token-authentication tag-tutorial tag-web-api-2 tag-web-api-security entry genesis-feature genesis-feature-1 genesis-feature-odd\" itemscope=\"\" itemtype=\"http://schema.org/CreativeWork\"><header class=\"entry-header\"><h2 class=\"entry-title\" itemprop=\"headline\"><a href=\"https://bitoftech.net/2016/08/31/integrate-azure-ad-b2c-asp-net-mvc-web-app/\" rel=\"bookmark\">Integrate Azure AD B2C with ASP.NET MVC Web App – Part 3</a></h2> \n<p class=\"entry-meta\"><time class=\"entry-time\" itemprop=\"datePublished\" datetime=\"2016-08-31T01:25:11+00:00\">August 31, 2016</time> By <span class=\"entry-author\" itemprop=\"author\" itemscope=\"\" itemtype=\"http://schema.org/Person\"><a href=\"http://bitoftech.net/taiseer-joudeh-blog/\" class=\"entry-author-link\" itemprop=\"url\" rel=\"author\"><span class=\"entry-author-name\" itemprop=\"name\">Taiseer Joudeh</span></a></span> <span class=\"entry-comments-link\"><a href=\"https://bitoftech.net/2016/08/31/integrate-azure-ad-b2c-asp-net-mvc-web-app/#comments\">19 Comments</a></span> </p></header><div class=\"entry-content\" itemprop=\"text\"><div class=\"sharedaddy sd-sharing-enabled\"><div class=\"robots-nocontent sd-block sd-social sd-social-official sd-sharing\"><h3 class=\"sd-title\">Be Sociable, Share!</h3><div class=\"sd-content\"><ul><li class=\"share-facebook\"><div class=\"fb-share-button fb_iframe_widget\" data-href=\"https://bitoftech.net/2016/08/31/integrate-azure-ad-b2c-asp-net-mvc-web-app/\" data-layout=\"button_count\" fb-xfbml-state=\"parsed\" fb-iframe-plugin-query=\"app_id=249643311490&amp;container_width=0&amp;href=https%3A%2F%2Fbitoftech.net%2F2016%2F08%2F31%2Fintegrate-azure-ad-b2c-asp-net-mvc-web-app%2F&amp;layout=button_count&amp;locale=en_US&amp;sdk=joey\"><span style=\"vertical-align: top; width: 0px; height: 0px; overflow: hidden;\"><iframe name=\"f2f01628480e62\" width=\"1000px\" height=\"1000px\" frameborder=\"0\" allowtransparency=\"true\" allowfullscreen=\"true\" scrolling=\"no\" title=\"fb:share_button Facebook Social Plugin\" src=\"https://www.facebook.com/v2.3/plugins/share_button.php?app_id=249643311490&amp;channel=https%3A%2F%2Fstaticxx.facebook.com%2Fconnect%2Fxd_arbiter%2Fr%2F96nq-xsaNcg.js%3Fversion%3D42%23cb%3Df1dfb72bfbb364%26domain%3Dbitoftech.net%26origin%3Dhttps%253A%252F%252Fbitoftech.net%252Ff392018f3aba55c%26relation%3Dparent.parent&amp;container_width=0&amp;href=https%3A%2F%2Fbitoftech.net%2F2016%2F08%2F31%2Fintegrate-azure-ad-b2c-asp-net-mvc-web-app%2F&amp;layout=button_count&amp;locale=en_US&amp;sdk=joey\" style=\"border: none; visibility: hidden;\"></iframe></span></div></li><li class=\"share-twitter\"><iframe id=\"twitter-widget-0\" scrolling=\"no\" frameborder=\"0\" allowtransparency=\"true\" class=\"twitter-share-button twitter-share-button-rendered twitter-tweet-button\" title=\"Twitter Tweet Button\" src=\"https://platform.twitter.com/widgets/tweet_button.5c39137502ea1894df4434ae5ed041c5.en.html#dnt=false&amp;id=twitter-widget-0&amp;lang=en&amp;original_referer=https%3A%2F%2Fbitoftech.net%2F&amp;size=m&amp;text=Integrate%20Azure%20AD%20B2C%20with%20ASP.NET%20MVC%20Web%20App%20-%20Part%203&amp;time=1492964248313&amp;type=share&amp;url=https%3A%2F%2Fbitoftech.net%2F2016%2F08%2F31%2Fintegrate-azure-ad-b2c-asp-net-mvc-web-app%2F\" style=\"position: static; visibility: visible; width: 60px; height: 20px;\" data-url=\"https://bitoftech.net/2016/08/31/integrate-azure-ad-b2c-asp-net-mvc-web-app/\"></iframe></li><li class=\"share-linkedin\"><div class=\"linkedin_button\"><span class=\"IN-widget\" style=\"line-height: 1; vertical-align: baseline; display: inline-block; text-align: center;\"><span style=\"padding: 0px !important; margin: 0px !important; text-indent: 0px !important; display: inline-block !important; vertical-align: baseline !important; font-size: 1px !important;\"><span id=\"li_ui_li_gen_1492964248459_0\"><a id=\"li_ui_li_gen_1492964248459_0-link\" href=\"javascript:void(0);\"><span id=\"li_ui_li_gen_1492964248459_0-logo\">in</span><span id=\"li_ui_li_gen_1492964248459_0-title\"><span id=\"li_ui_li_gen_1492964248459_0-mark\"></span><span id=\"li_ui_li_gen_1492964248459_0-title-text\">Share</span></span></a></span></span><span style=\"padding: 0px !important; margin: 0px !important; text-indent: 0px !important; display: inline-block !important; vertical-align: baseline !important; font-size: 1px !important;\"><span id=\"li_ui_li_gen_1492964248480_1-container\" class=\"IN-right\"><span id=\"li_ui_li_gen_1492964248480_1\" class=\"IN-right\"><span id=\"li_ui_li_gen_1492964248480_1-inner\" class=\"IN-right\"><span id=\"li_ui_li_gen_1492964248480_1-content\" class=\"IN-right\">6</span></span></span></span></span></span><script type=\"in/share+init\" data-url=\"https://bitoftech.net/2016/08/31/integrate-azure-ad-b2c-asp-net-mvc-web-app/\" data-counter=\"right\"></script></div></li><li class=\"share-google-plus-1\"><div class=\"googleplus1_button\"><div class=\"g-plus\" data-action=\"share\" data-annotation=\"bubble\" data-href=\"https://bitoftech.net/2016/08/31/integrate-azure-ad-b2c-asp-net-mvc-web-app/\" id=\"___plusone_0\" style=\"text-indent: 0px; margin: 0px; padding: 0px; background: transparent; border-style: none; float: none; line-height: normal; font-size: 1px; vertical-align: baseline; display: inline-block; width: 106px; height: 24px;\"><iframe ng-non-bindable=\"\" frameborder=\"0\" hspace=\"0\" marginheight=\"0\" marginwidth=\"0\" scrolling=\"no\" style=\"position: static; top: 0px; width: 106px; margin: 0px; border-style: none; left: 0px; visibility: visible; height: 24px;\" tabindex=\"0\" vspace=\"0\" width=\"100%\" id=\"I0_1492964247964\" name=\"I0_1492964247964\" src=\"https://apis.google.com/se/0/_/+1/fastbutton?usegapi=1&amp;annotation=bubble&amp;origin=https%3A%2F%2Fbitoftech.net&amp;url=https%3A%2F%2Fbitoftech.net%2F2016%2F08%2F31%2Fintegrate-azure-ad-b2c-asp-net-mvc-web-app%2F&amp;gsrc=3p&amp;jsh=m%3B%2F_%2Fscs%2Fapps-static%2F_%2Fjs%2Fk%3Doz.gapi.en_US.SLCABaeCDbc.O%2Fm%3D__features__%2Fam%3DAQ%2Frt%3Dj%2Fd%3D1%2Frs%3DAGLTcCMLkwjFKjbbQHEAkWYM0gtD9xKJJA#_methods=onPlusOne%2C_ready%2C_close%2C_open%2C_resizeMe%2C_renderstart%2Concircled%2Cdrefresh%2Cerefresh&amp;id=I0_1492964247964&amp;parent=https%3A%2F%2Fbitoftech.net&amp;pfname=&amp;rpctoken=33801794\" data-gapiattached=\"true\" title=\"+1\"></iframe></div></div></li><li class=\"share-tumblr\"><a target=\"_blank\" href=\"https://www.tumblr.com/share/link/?url=https%3A%2F%2Fbitoftech.net%2F2016%2F08%2F31%2Fintegrate-azure-ad-b2c-asp-net-mvc-web-app%2F&amp;name=Integrate%20Azure%20AD%20B2C%20with%20ASP.NET%20MVC%20Web%20App%20-%20Part%203\" title=\"Share on Tumblr\" style=\"display:inline-block; text-indent:-9999px; overflow:hidden; width:62px; height:20px; background:url('https://platform.tumblr.com/v1/share_2.png') top left no-repeat transparent;\">Share on Tumblr</a></li><li class=\"share-email share-service-visible\"><a rel=\"nofollow\" data-shared=\"\" class=\"share-email sd-button\" href=\"https://bitoftech.net/2016/08/31/integrate-azure-ad-b2c-asp-net-mvc-web-app/?share=email&amp;nb=1\" target=\"_blank\" title=\"Click to email this to a friend\"><span>Email</span></a></li><li class=\"share-end\"></li></ul></div></div></div><p>This is the third part of the tutorial which will cover Using&nbsp;Azure AD B2C tenant with ASP.NET Web API 2 and various front-end clients.</p>\n<ul>\n<li><a href=\"http://bitoftech.net/2016/08/24/azure-active-directory-b2c-policies-management/\" target=\"_blank\">Azure Active Directory B2C Overview and Policies Management – (Part 1)</a></li>\n<li><a href=\"http://bitoftech.net/2016/08/24/secure-aspnet-web-api-2-azure-ad-b2c/\" target=\"_blank\">Secure ASP.NET Web API 2 using Azure AD&nbsp;B2C – (Part 2)</a></li>\n<li>Integrate Azure Active Directory B2C with ASP.NET MVC&nbsp;Web&nbsp;App (This Post)</li>\n<li><em>Secure Desktop Application using Microsoft Authentication Library (MSAL) and Azure Active Directory B2C&nbsp;(Part 4)</em></li>\n</ul>\n<h4>The&nbsp;<a href=\"https://github.com/tjoudeh/Azure-Active-Directory-B2C\" target=\"_blank\">source code</a>&nbsp;for this tutorial is&nbsp;available&nbsp;on GitHub.</h4>\n<h4>The MVC Web App has been published on Azure App Services, so feel free to try it out using the Base URL (<a href=\"https://aadb2cmvcapp.azurewebsites.net/\" target=\"_blank\">https://aadb2cmvcapp.azurewebsites.net/</a>)</h4>\n<p>I promise you that I won’t share your information with anyone, feel free to try the experience <img draggable=\"false\" class=\"emoji\" alt=\"🙂\" src=\"https://s.w.org/images/core/emoji/2.2.1/svg/1f642.svg\"></p>\n<h2>Integrate Azure AD B2C with ASP.NET MVC Web App</h2>\n<p>In the <a href=\"http://bitoftech.net/2016/08/24/secure-aspnet-web-api-2-azure-ad-b2c/\" target=\"_blank\">previous post</a>, we have configured our Web API to rely on our Azure AD B2C IdP to secure it so only calls which contain a token issued by our IdP will be accepted by our Web API.</p>\n<p>In this post we will build our first front-end application (ASP.NET MVC 5 Web App) which will consume the API endpoints by sending a valid token obtained from the Azure AD b2C tenant, as well it will allow anonymous users to create profiles, and sign in against the Azure B2C tenant. The MVC Web app itself will be protected as well by the same Azure AD B2C tenant as we will share the same tenant Id between the Web API and MVC Web app.</p>\n<p>So let’s start building the MVC Web App.</p>\n<h4>Step 1:&nbsp;Creating the MVC Web App Project</h4>\n<p>Let’s add a new ASP.NET Web application named “AADB2C.WebClientMvc” to the solution named “WebApiAzureAcitveDirectoryB2C.sln”, then add new MVC ASP.NET Web application, the selected template for the project will be “MVC”, and do not forget to change the “Authentication Mode” to “No Authentication” check the image below:</p>\n<p><a href=\"http://bitoftech.net/wp-content/uploads/2016/08/WebMvcTemplate.jpg\"><img class=\"alignnone wp-image-1097\" src=\"http://bitoftech.net/wp-content/uploads/2016/08/WebMvcTemplate.jpg\" alt=\"Azure B2C Web Mvc Template\" width=\"550\" height=\"429\" srcset=\"https://bitoftech.net/wp-content/uploads/2016/08/WebMvcTemplate.jpg 786w, https://bitoftech.net/wp-content/uploads/2016/08/WebMvcTemplate-300x234.jpg 300w, https://bitoftech.net/wp-content/uploads/2016/08/WebMvcTemplate-768x599.jpg 768w\" sizes=\"(max-width: 550px) 100vw, 550px\"></a></p>\n<p>Once the project has been created,&nbsp;click on it’s properties and set “SSL Enabled” to “True”, copy the “SSL URL” value and right lick on project, select “Properties”, then select the “Web” tab from the left side and paste the “SSL URL” value in the “Project Url” text field and click “Save”. We need to allow https scheme locally once we debug the application. Check the image below:</p>\n<p><a href=\"http://bitoftech.net/wp-content/uploads/2016/08/MvcWebSSLEnable.jpg\"><img class=\"alignnone wp-image-1098\" src=\"http://bitoftech.net/wp-content/uploads/2016/08/MvcWebSSLEnable-1024x368.jpg\" alt=\"MvcWebSSLEnable\" width=\"550\" height=\"198\" srcset=\"https://bitoftech.net/wp-content/uploads/2016/08/MvcWebSSLEnable-1024x368.jpg 1024w, https://bitoftech.net/wp-content/uploads/2016/08/MvcWebSSLEnable-300x108.jpg 300w, https://bitoftech.net/wp-content/uploads/2016/08/MvcWebSSLEnable-768x276.jpg 768w\" sizes=\"(max-width: 550px) 100vw, 550px\"></a></p>\n<h4>Step 2:&nbsp;Install the needed NuGet Packages to&nbsp;Configure the MVC App</h4>\n<p>We need to add bunch of NuGet packages,&nbsp;so Open NuGet Package Manager Console and install the below packages:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->\n\n\t\t<div id=\"crayon-58fcd396c4927336165151\" class=\"crayon-syntax crayon-theme-vs2012-black crayon-font-consolas crayon-os-pc print-yes notranslate\" data-settings=\" no-popup minimize scroll-mouseover\" style=\"margin-top: 14px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;\">\n\t\t\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 12px !important;height: 18px !important; line-height: 18px !important;\"><span class=\"crayon-title\"></span>\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 12px !important;height: 18px !important; line-height: 18px !important;\"><div class=\"crayon-button crayon-plain-button\" title=\"Toggle Plain Code\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"Toggle Line Wrap\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"Expand Code\" style=\"display: none;\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"Copy\"><div class=\"crayon-button-icon\"></div></div></div></div>\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 16.8px !important; line-height: 16.8px !important;\"></div>\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;\">Install-Package Microsoft.Owin.Security.OpenIdConnect -Version 3.0.1\nInstall-Package Microsoft.Owin.Security.Cookies -Version 3.0.1\nInstall-Package Microsoft.Owin.Host.SystemWeb -Version 3.0.1\nUpdate-package Microsoft.IdentityModel.Protocol.Extensions</textarea></div>\n\t\t\t<div class=\"crayon-main\" style=\"position: relative; z-index: 1; overflow: hidden;\">\n\t\t\t\t<table class=\"crayon-table\">\n\t\t\t\t\t<tbody><tr class=\"crayon-row\">\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 12px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-58fcd396c4927336165151-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c4927336165151-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c4927336165151-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c4927336165151-4\">4</div></div>\n\t\t\t\t</td>\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-58fcd396c4927336165151-1\"><span class=\"crayon-r \">Install-Package</span><span class=\"crayon-h\"> </span>Microsoft<span class=\"crayon-sy\">.</span>Owin<span class=\"crayon-sy\">.</span>Security<span class=\"crayon-sy\">.</span>OpenIdConnect<span class=\"crayon-e \"> -Version</span><span class=\"crayon-h\"> </span>3<span class=\"crayon-sy\">.</span>0<span class=\"crayon-sy\">.</span>1</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c4927336165151-2\"><span class=\"crayon-r \">Install-Package</span><span class=\"crayon-h\"> </span>Microsoft<span class=\"crayon-sy\">.</span>Owin<span class=\"crayon-sy\">.</span>Security<span class=\"crayon-sy\">.</span>Cookies<span class=\"crayon-e \"> -Version</span><span class=\"crayon-h\"> </span>3<span class=\"crayon-sy\">.</span>0<span class=\"crayon-sy\">.</span>1</div><div class=\"crayon-line\" id=\"crayon-58fcd396c4927336165151-3\"><span class=\"crayon-r \">Install-Package</span><span class=\"crayon-h\"> </span>Microsoft<span class=\"crayon-sy\">.</span>Owin<span class=\"crayon-sy\">.</span>Host<span class=\"crayon-sy\">.</span>SystemWeb<span class=\"crayon-e \"> -Version</span><span class=\"crayon-h\"> </span>3<span class=\"crayon-sy\">.</span>0<span class=\"crayon-sy\">.</span>1</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c4927336165151-4\"><span class=\"crayon-r \">Update-package</span><span class=\"crayon-h\"> </span>Microsoft<span class=\"crayon-sy\">.</span>IdentityModel<span class=\"crayon-sy\">.</span>Protocol<span class=\"crayon-sy\">.</span>Extensions</div></div></td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody></table>\n\t\t\t</div>\n\t\t</div>\n<!-- [Format Time: 0.0010 seconds] -->\n<p>The package “Microsoft.Owin.Security.OpenIdConnect” contains the middleware used to protect web apps with OpenId Connect, this package contains the logic for the heavy lifting happens when our MVC App will talk with Azure B2C tenant to request tokens and validate them.</p>\n<p>The package “Microsoft.IdentityModel.Protocol.Extension” contains classes which represent OpenID Connect constants and messages, lastly the package “Microsoft.Owin.Security.Cookies” will be used to create a cookie based session after obtaining a valid token from our Azure AD B2C tenant. This cookie&nbsp;will be sent from the browser to the server with each subsequent request and get validate by the cookie middleware.</p>\n<h4>Step 3: Configure Web App to use Azure AD B2C tenant IDs and Policies</h4>\n<p>Now we need to modify the web.config for our MVC App &nbsp;by adding the below keys, so open Web.config and add the below AppSettings keys:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->\n\n\t\t<div id=\"crayon-58fcd396c4935014980784\" class=\"crayon-syntax crayon-theme-vs2012-black crayon-font-consolas crayon-os-pc print-yes notranslate\" data-settings=\" no-popup minimize scroll-mouseover\" style=\"margin-top: 14px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;\">\n\t\t\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 12px !important;height: 18px !important; line-height: 18px !important;\"><span class=\"crayon-title\"></span>\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 12px !important;height: 18px !important; line-height: 18px !important;\"><div class=\"crayon-button crayon-plain-button\" title=\"Toggle Plain Code\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"Toggle Line Wrap\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"Expand Code\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"Copy\"><div class=\"crayon-button-icon\"></div></div></div></div>\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 16.8px !important; line-height: 16.8px !important;\"></div>\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;\">    &lt;add key=\"ida:Tenant\" value=\"BitofTechDemo.onmicrosoft.com\" /&gt;\n    &lt;add key=\"ida:ClientId\" value=\"bc348057-3c44-42fc-b4df-7ef14b926b78\" /&gt;\n    &lt;add key=\"ida:AadInstance\" value=\"https://login.microsoftonline.com/{0}/v2.0/.well-known/openid-configuration?p={1}\" /&gt;\n    &lt;add key=\"ida:SignUpPolicyId\" value=\"B2C_1_Signup\" /&gt;\n    &lt;add key=\"ida:SignInPolicyId\" value=\"B2C_1_Signin\" /&gt;\n    &lt;add key=\"ida:UserProfilePolicyId\" value=\"B2C_1_Editprofile\" /&gt;\n    &lt;add key=\"ida:RedirectUri\" value=\"https://localhost:44315/\" /&gt;\n    &lt;add key=\"api:OrdersApiUrl\" value=\"https://localhost:44339/\" /&gt;</textarea></div>\n\t\t\t<div class=\"crayon-main\" style=\"position: relative; z-index: 1; overflow: hidden;\">\n\t\t\t\t<table class=\"crayon-table\">\n\t\t\t\t\t<tbody><tr class=\"crayon-row\">\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 12px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-58fcd396c4935014980784-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c4935014980784-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c4935014980784-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c4935014980784-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c4935014980784-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c4935014980784-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c4935014980784-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c4935014980784-8\">8</div></div>\n\t\t\t\t</td>\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-58fcd396c4935014980784-1\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;add </span><span class=\"crayon-e \">key</span><span class=\"crayon-o\">=</span><span class=\"crayon-s \">\"ida:Tenant\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-e \">value</span><span class=\"crayon-o\">=</span><span class=\"crayon-s \">\"BitofTechDemo.onmicrosoft.com\"</span><span class=\"crayon-r \"> /&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c4935014980784-2\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;add </span><span class=\"crayon-e \">key</span><span class=\"crayon-o\">=</span><span class=\"crayon-s \">\"ida:ClientId\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-e \">value</span><span class=\"crayon-o\">=</span><span class=\"crayon-s \">\"bc348057-3c44-42fc-b4df-7ef14b926b78\"</span><span class=\"crayon-r \"> /&gt;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c4935014980784-3\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;add </span><span class=\"crayon-e \">key</span><span class=\"crayon-o\">=</span><span class=\"crayon-s \">\"ida:AadInstance\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-e \">value</span><span class=\"crayon-o\">=</span><span class=\"crayon-s \">\"https://login.microsoftonline.com/{0}/v2.0/.well-known/openid-configuration?p={1}\"</span><span class=\"crayon-r \"> /&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c4935014980784-4\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;add </span><span class=\"crayon-e \">key</span><span class=\"crayon-o\">=</span><span class=\"crayon-s \">\"ida:SignUpPolicyId\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-e \">value</span><span class=\"crayon-o\">=</span><span class=\"crayon-s \">\"B2C_1_Signup\"</span><span class=\"crayon-r \"> /&gt;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c4935014980784-5\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;add </span><span class=\"crayon-e \">key</span><span class=\"crayon-o\">=</span><span class=\"crayon-s \">\"ida:SignInPolicyId\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-e \">value</span><span class=\"crayon-o\">=</span><span class=\"crayon-s \">\"B2C_1_Signin\"</span><span class=\"crayon-r \"> /&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c4935014980784-6\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;add </span><span class=\"crayon-e \">key</span><span class=\"crayon-o\">=</span><span class=\"crayon-s \">\"ida:UserProfilePolicyId\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-e \">value</span><span class=\"crayon-o\">=</span><span class=\"crayon-s \">\"B2C_1_Editprofile\"</span><span class=\"crayon-r \"> /&gt;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c4935014980784-7\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;add </span><span class=\"crayon-e \">key</span><span class=\"crayon-o\">=</span><span class=\"crayon-s \">\"ida:RedirectUri\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-e \">value</span><span class=\"crayon-o\">=</span><span class=\"crayon-s \">\"https://localhost:44315/\"</span><span class=\"crayon-r \"> /&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c4935014980784-8\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;add </span><span class=\"crayon-e \">key</span><span class=\"crayon-o\">=</span><span class=\"crayon-s \">\"api:OrdersApiUrl\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-e \">value</span><span class=\"crayon-o\">=</span><span class=\"crayon-s \">\"https://localhost:44339/\"</span><span class=\"crayon-r \"> /&gt;</span></div></div></td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody></table>\n\t\t\t</div>\n\t\t</div>\n<!-- [Format Time: 0.0012 seconds] -->\n<p>The usage for the each setting has been outlined in the <a href=\"http://bitoftech.net/2016/08/24/azure-active-directory-b2c-policies-management/\" target=\"_blank\">previous post</a>, the only 2 new settings keys are: “ida:RedirectUri” which will be used to&nbsp;set the OpenID connect “redirect_uri” property The value of this URI should be registered in Azure AD B2C tenant (we will do this next), this redirect URI will be used by the OpenID Connect middleware to return token responses or failures after authentication process, as well after the sign out process. The second setting key “api:OrdersApiUrl” will be used as a base URI for our Web API.</p>\n<p>Now let’s register the new Redirect URI in Azure B2C tenant, to do so login to Azure Portal and navigate to the App “Bit of Tech Demo App” we already registered in the&nbsp;previous post, then add the value “https://localhost:44315/” in the Reply URL settings as the image below, note that I already published the MVC web App to Azure App Services to the URL (https://aadb2cmvcapp.azurewebsites.net/) so I’ve included this URL too.</p>\n<p><a href=\"http://bitoftech.net/wp-content/uploads/2016/08/MvcReplyURL.jpg\"><img class=\"alignnone wp-image-1100\" src=\"http://bitoftech.net/wp-content/uploads/2016/08/MvcReplyURL.jpg\" alt=\"B2C Mvc Reply URL\" width=\"550\" height=\"575\" srcset=\"https://bitoftech.net/wp-content/uploads/2016/08/MvcReplyURL.jpg 615w, https://bitoftech.net/wp-content/uploads/2016/08/MvcReplyURL-287x300.jpg 287w\" sizes=\"(max-width: 550px) 100vw, 550px\"></a></p>\n<h4>Step 4: Add Owin “Startup” Class</h4>\n<p>The default MVC template comes without a “Startup” class, but we need to configure our OWIN OpenID Connect middleware at the start of our Web App, so add a new class named “Startup” and paste the code below, there is a lot of code here so jump to the next paragraph as I will do my best to explain what we have included&nbsp;in this class.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->\n\n\t\t<div id=\"crayon-58fcd396c493b544410118\" class=\"crayon-syntax crayon-theme-vs2012-black crayon-font-consolas crayon-os-pc print-yes notranslate\" data-settings=\" no-popup minimize scroll-mouseover\" style=\"margin-top: 14px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;\">\n\t\t\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 12px !important;height: 18px !important; line-height: 18px !important;\"><span class=\"crayon-title\"></span>\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 12px !important;height: 18px !important; line-height: 18px !important;\"><div class=\"crayon-button crayon-plain-button\" title=\"Toggle Plain Code\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"Toggle Line Wrap\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"Expand Code\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"Copy\"><div class=\"crayon-button-icon\"></div></div></div></div>\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 16.8px !important; line-height: 16.8px !important;\"></div>\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;\">public class Startup\n    {\n        // App config settings\n        private static string clientId = ConfigurationManager.AppSettings[\"ida:ClientId\"];\n        private static string aadInstance = ConfigurationManager.AppSettings[\"ida:AadInstance\"];\n        private static string tenant = ConfigurationManager.AppSettings[\"ida:Tenant\"];\n        private static string redirectUri = ConfigurationManager.AppSettings[\"ida:RedirectUri\"];\n\n        // B2C policy identifiers\n        public static string SignUpPolicyId = ConfigurationManager.AppSettings[\"ida:SignUpPolicyId\"];\n        public static string SignInPolicyId = ConfigurationManager.AppSettings[\"ida:SignInPolicyId\"];\n        public static string ProfilePolicyId = ConfigurationManager.AppSettings[\"ida:UserProfilePolicyId\"];\n\n        public void Configuration(IAppBuilder app)\n        {\n            ConfigureAuth(app);\n        }\n\n        public void ConfigureAuth(IAppBuilder app)\n        {\n            app.SetDefaultSignInAsAuthenticationType(CookieAuthenticationDefaults.AuthenticationType);\n\n            app.UseCookieAuthentication(new CookieAuthenticationOptions() );\n\n            // Configure OpenID Connect middleware for each policy\n            app.UseOpenIdConnectAuthentication(CreateOptionsFromPolicy(SignUpPolicyId));\n            app.UseOpenIdConnectAuthentication(CreateOptionsFromPolicy(ProfilePolicyId));\n            app.UseOpenIdConnectAuthentication(CreateOptionsFromPolicy(SignInPolicyId));\n        }\n\n        // Used for avoiding yellow-screen-of-death\n        private Task AuthenticationFailed(AuthenticationFailedNotification&lt;OpenIdConnectMessage, OpenIdConnectAuthenticationOptions&gt; notification)\n        {\n            notification.HandleResponse();\n            if (notification.Exception.Message == \"access_denied\")\n            {\n                notification.Response.Redirect(\"/\");\n            }\n            else\n            {\n                notification.Response.Redirect(\"/Home/Error?message=\" + notification.Exception.Message);\n            }\n\n            return Task.FromResult(0);\n        }\n\n        private OpenIdConnectAuthenticationOptions CreateOptionsFromPolicy(string policy)\n        {\n            return new OpenIdConnectAuthenticationOptions\n            {\n                // For each policy, give OWIN the policy-specific metadata address, and\n                // set the authentication type to the id of the policy\n                MetadataAddress = String.Format(aadInstance, tenant, policy),\n                AuthenticationType = policy,\n              \n                // These are standard OpenID Connect parameters, with values pulled from web.config\n                ClientId = clientId,\n                RedirectUri = redirectUri,\n                PostLogoutRedirectUri = redirectUri,\n                Notifications = new OpenIdConnectAuthenticationNotifications\n                {\n                    AuthenticationFailed = AuthenticationFailed\n                },\n                Scope = \"openid\",\n                ResponseType = \"id_token\",\n\n                // This piece is optional - it is used for displaying the user's name in the navigation bar.\n                TokenValidationParameters = new TokenValidationParameters\n                {\n                    NameClaimType = \"name\",\n                    SaveSigninToken = true //important to save the token in boostrapcontext\n                }\n            };\n        }\n    }</textarea></div>\n\t\t\t<div class=\"crayon-main\" style=\"position: relative; z-index: 1; overflow: hidden;\">\n\t\t\t\t<table class=\"crayon-table\">\n\t\t\t\t\t<tbody><tr class=\"crayon-row\">\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 12px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-58fcd396c493b544410118-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c493b544410118-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c493b544410118-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c493b544410118-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c493b544410118-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c493b544410118-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c493b544410118-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c493b544410118-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c493b544410118-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c493b544410118-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c493b544410118-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c493b544410118-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c493b544410118-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c493b544410118-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c493b544410118-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c493b544410118-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c493b544410118-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c493b544410118-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c493b544410118-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c493b544410118-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c493b544410118-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c493b544410118-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c493b544410118-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c493b544410118-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c493b544410118-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c493b544410118-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c493b544410118-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c493b544410118-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c493b544410118-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c493b544410118-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c493b544410118-31\">31</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c493b544410118-32\">32</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c493b544410118-33\">33</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c493b544410118-34\">34</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c493b544410118-35\">35</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c493b544410118-36\">36</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c493b544410118-37\">37</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c493b544410118-38\">38</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c493b544410118-39\">39</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c493b544410118-40\">40</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c493b544410118-41\">41</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c493b544410118-42\">42</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c493b544410118-43\">43</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c493b544410118-44\">44</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c493b544410118-45\">45</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c493b544410118-46\">46</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c493b544410118-47\">47</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c493b544410118-48\">48</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c493b544410118-49\">49</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c493b544410118-50\">50</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c493b544410118-51\">51</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c493b544410118-52\">52</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c493b544410118-53\">53</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c493b544410118-54\">54</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c493b544410118-55\">55</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c493b544410118-56\">56</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c493b544410118-57\">57</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c493b544410118-58\">58</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c493b544410118-59\">59</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c493b544410118-60\">60</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c493b544410118-61\">61</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c493b544410118-62\">62</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c493b544410118-63\">63</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c493b544410118-64\">64</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c493b544410118-65\">65</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c493b544410118-66\">66</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c493b544410118-67\">67</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c493b544410118-68\">68</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c493b544410118-69\">69</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c493b544410118-70\">70</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c493b544410118-71\">71</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c493b544410118-72\">72</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c493b544410118-73\">73</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c493b544410118-74\">74</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c493b544410118-75\">75</div></div>\n\t\t\t\t</td>\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-58fcd396c493b544410118-1\"><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">class</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Startup</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c493b544410118-2\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c493b544410118-3\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-c\">// App config settings</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c493b544410118-4\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-m\">private</span><span class=\"crayon-h\"> </span><span class=\"crayon-m\">static</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">string</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">clientId</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ConfigurationManager</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">AppSettings</span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">\"ida:ClientId\"</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c493b544410118-5\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-m\">private</span><span class=\"crayon-h\"> </span><span class=\"crayon-m\">static</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">string</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">aadInstance</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ConfigurationManager</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">AppSettings</span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">\"ida:AadInstance\"</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c493b544410118-6\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-m\">private</span><span class=\"crayon-h\"> </span><span class=\"crayon-m\">static</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">string</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tenant</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ConfigurationManager</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">AppSettings</span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">\"ida:Tenant\"</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c493b544410118-7\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-m\">private</span><span class=\"crayon-h\"> </span><span class=\"crayon-m\">static</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">string</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">redirectUri</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ConfigurationManager</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">AppSettings</span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">\"ida:RedirectUri\"</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c493b544410118-8\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-58fcd396c493b544410118-9\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-c\">// B2C policy identifiers</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c493b544410118-10\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-m\">static</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">string</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">SignUpPolicyId</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ConfigurationManager</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">AppSettings</span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">\"ida:SignUpPolicyId\"</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c493b544410118-11\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-m\">static</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">string</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">SignInPolicyId</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ConfigurationManager</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">AppSettings</span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">\"ida:SignInPolicyId\"</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c493b544410118-12\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-m\">static</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">string</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ProfilePolicyId</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ConfigurationManager</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">AppSettings</span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">\"ida:UserProfilePolicyId\"</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c493b544410118-13\">&nbsp;</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c493b544410118-14\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">void</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Configuration</span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">IAppBuilder </span><span class=\"crayon-v\">app</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c493b544410118-15\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c493b544410118-16\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-e\">ConfigureAuth</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">app</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c493b544410118-17\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c493b544410118-18\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-58fcd396c493b544410118-19\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">void</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">ConfigureAuth</span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">IAppBuilder </span><span class=\"crayon-v\">app</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c493b544410118-20\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c493b544410118-21\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">app</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">SetDefaultSignInAsAuthenticationType</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">CookieAuthenticationDefaults</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">AuthenticationType</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c493b544410118-22\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-58fcd396c493b544410118-23\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">app</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">UseCookieAuthentication</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">CookieAuthenticationOptions</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c493b544410118-24\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-58fcd396c493b544410118-25\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-c\">// Configure OpenID Connect middleware for each policy</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c493b544410118-26\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">app</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">UseOpenIdConnectAuthentication</span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">CreateOptionsFromPolicy</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">SignUpPolicyId</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c493b544410118-27\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">app</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">UseOpenIdConnectAuthentication</span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">CreateOptionsFromPolicy</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">ProfilePolicyId</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c493b544410118-28\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">app</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">UseOpenIdConnectAuthentication</span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">CreateOptionsFromPolicy</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">SignInPolicyId</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c493b544410118-29\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c493b544410118-30\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-58fcd396c493b544410118-31\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-c\">// Used for avoiding yellow-screen-of-death</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c493b544410118-32\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-m\">private</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Task </span><span class=\"crayon-e\">AuthenticationFailed</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">AuthenticationFailedNotification</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">OpenIdConnectMessage</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">OpenIdConnectAuthenticationOptions</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">notification</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c493b544410118-33\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c493b544410118-34\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">notification</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">HandleResponse</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c493b544410118-35\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">notification</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Exception</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Message</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"access_denied\"</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c493b544410118-36\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c493b544410118-37\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">notification</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Response</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Redirect</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"/\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c493b544410118-38\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c493b544410118-39\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">else</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c493b544410118-40\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c493b544410118-41\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">notification</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Response</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Redirect</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"/Home/Error?message=\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">notification</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Exception</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Message</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c493b544410118-42\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c493b544410118-43\">&nbsp;</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c493b544410118-44\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Task</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">FromResult</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c493b544410118-45\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c493b544410118-46\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-58fcd396c493b544410118-47\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-m\">private</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">OpenIdConnectAuthenticationOptions </span><span class=\"crayon-e\">CreateOptionsFromPolicy</span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">string</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">policy</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c493b544410118-48\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c493b544410118-49\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">OpenIdConnectAuthenticationOptions</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c493b544410118-50\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c493b544410118-51\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-c\">// For each policy, give OWIN the policy-specific metadata address, and</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c493b544410118-52\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-c\">// set the authentication type to the id of the policy</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c493b544410118-53\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">MetadataAddress</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">String</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Format</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">aadInstance</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tenant</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">policy</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c493b544410118-54\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">AuthenticationType</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">policy</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c493b544410118-55\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c493b544410118-56\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-c\">// These are standard OpenID Connect parameters, with values pulled from web.config</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c493b544410118-57\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">ClientId</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">clientId</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c493b544410118-58\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">RedirectUri</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">redirectUri</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c493b544410118-59\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">PostLogoutRedirectUri</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">redirectUri</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c493b544410118-60\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">Notifications</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">OpenIdConnectAuthenticationNotifications</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c493b544410118-61\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c493b544410118-62\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">AuthenticationFailed</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">AuthenticationFailed</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c493b544410118-63\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c493b544410118-64\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">Scope</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"openid\"</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c493b544410118-65\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">ResponseType</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"id_token\"</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c493b544410118-66\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-58fcd396c493b544410118-67\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-c\">// This piece is optional - it is used for displaying the user's name in the navigation bar.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c493b544410118-68\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">TokenValidationParameters</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">TokenValidationParameters</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c493b544410118-69\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c493b544410118-70\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">NameClaimType</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"name\"</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c493b544410118-71\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">SaveSigninToken</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">true</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">//important to save the token in boostrapcontext</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c493b544410118-72\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c493b544410118-73\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c493b544410118-74\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c493b544410118-75\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div></div></td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody></table>\n\t\t\t</div>\n\t\t</div>\n<!-- [Format Time: 0.0073 seconds] -->\n<p>What we have implemented here is the following:</p>\n<ul>\n<li>From line 4-12 we have read the app settings for the keys we have included in MVC App web.config where they represent Azure AD B2C tenant and policy names, note that policy names&nbsp;access modifiers are set to public as it will be referenced in another class.</li>\n<li>Inside the method “ConfigureAuth” we have done different things as the following:\n<ul>\n<li>Line&nbsp;\n\t\t\t<span id=\"crayon-58fcd396c4943355584583\" class=\"crayon-syntax crayon-syntax-inline  crayon-theme-vs2012-black crayon-theme-vs2012-black-inline crayon-font-consolas\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;\"><span class=\"crayon-pre crayon-code\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><span class=\"crayon-v\">app</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">SetDefaultSignInAsAuthenticationType</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">CookieAuthenticationDefaults</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">AuthenticationType</span><span class=\"crayon-sy\">)</span></span></span>&nbsp;will configure the OWIN security pipeline and inform the OpenID connect middleware that the default authentication type we will use is”Cookies”, and this means that the “Claims” encoded in the token we will receive from Azure AD B2C tenant will be stored in a Cookie (Session for the authenticated user).</li>\n<li>Line&nbsp;\n\t\t\t<span id=\"crayon-58fcd396c494a908134524\" class=\"crayon-syntax crayon-syntax-inline  crayon-theme-vs2012-black crayon-theme-vs2012-black-inline crayon-font-consolas\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;\"><span class=\"crayon-pre crayon-code\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><span class=\"crayon-v\">app</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">UseCookieAuthentication</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">CookieAuthenticationOptions</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></span></span>&nbsp;will register a cookie authentication middleware instance with default options, this means that Authentication type here is equivalent to the same authentication type we set in the&nbsp;previous step. it will be “Cookies” too.</li>\n<li>Lines&nbsp;\n\t\t\t<span id=\"crayon-58fcd396c494d444289495\" class=\"crayon-syntax crayon-syntax-inline  crayon-theme-vs2012-black crayon-theme-vs2012-black-inline crayon-font-consolas\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;\"><span class=\"crayon-pre crayon-code\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><span class=\"crayon-v\">app</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">UseOpenIdConnectAuthentication</span></span></span>&nbsp;are used to configure the OWIN security pipeline to use the authentication provider (Azure AD B2C) per policy, in our case, there will be 3 different policies we already defined.</li>\n</ul>\n</li>\n<li>The method&nbsp;\n\t\t\t<span id=\"crayon-58fcd396c4951482505132\" class=\"crayon-syntax crayon-syntax-inline  crayon-theme-vs2012-black crayon-theme-vs2012-black-inline crayon-font-consolas\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;\"><span class=\"crayon-pre crayon-code\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><span class=\"crayon-v\">CreateOptionsFromPolicy</span></span></span>&nbsp;will take the Policy name as input parameter and will return an object of type “OpenIdConnectAuthenticationOptions”, This object is responsible for controlling the OpenID Connect middleware. The properties we used to configure the instance of “OpenIdConnectAuthenticationOptions” as the below:\n<ul>\n<li>The \n\t\t\t<span id=\"crayon-58fcd396c4955906884743\" class=\"crayon-syntax crayon-syntax-inline  crayon-theme-vs2012-black crayon-theme-vs2012-black-inline crayon-font-consolas\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;\"><span class=\"crayon-pre crayon-code\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><span class=\"crayon-v\">MetadataAddress</span></span></span>&nbsp;property will accept the address of the discovery document endpoint for our Azure AD B2C tenant per policy, so for example, the discovery endpoint for policy “B2C_1_Signup” will be “https://login.microsoftonline.com/BitofTechDemo.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=B2C_1_Signup”. This discovery document will be used to get information from Azure AD B2C on how to&nbsp;generate authentication requests and validated incoming token responses.</li>\n<li>The&nbsp;\n\t\t\t<span id=\"crayon-58fcd396c4959350137359\" class=\"crayon-syntax crayon-syntax-inline  crayon-theme-vs2012-black crayon-theme-vs2012-black-inline crayon-font-consolas\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;\"><span class=\"crayon-pre crayon-code\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><span class=\"crayon-v\">AuthenticationType</span></span></span>&nbsp;property will inform the middleware that authentication operation used is the policies we already defined, so for example if you defined a forth policy and you didn’t register it with the OpenID connect middleware, the tokens issues by this policy will be rejected.</li>\n<li>The&nbsp;\n\t\t\t<span id=\"crayon-58fcd396c495c186023296\" class=\"crayon-syntax crayon-syntax-inline  crayon-theme-vs2012-black crayon-theme-vs2012-black-inline crayon-font-consolas\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;\"><span class=\"crayon-pre crayon-code\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><span class=\"crayon-v\">ClientId</span></span></span>&nbsp;property will tell Azure AD B2C which ID to use to match the requests originating from the Web App. This will represent the Azure AD B2C tenant we defined earlier in the previous posts.</li>\n<li>The&nbsp;\n\t\t\t<span id=\"crayon-58fcd396c4962304680569\" class=\"crayon-syntax crayon-syntax-inline  crayon-theme-vs2012-black crayon-theme-vs2012-black-inline crayon-font-consolas\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;\"><span class=\"crayon-pre crayon-code\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><span class=\"crayon-v\">RedirectUri</span></span></span>&nbsp;property will inform the Azure AD B2C where your app wants the requested token response to be returned to, the value of this URL should be registered previously in the “ReplyURLs” values in Azure AD B2C App we defined earlier.</li>\n<li>The&nbsp;\n\t\t\t<span id=\"crayon-58fcd396c4965485712107\" class=\"crayon-syntax crayon-syntax-inline  crayon-theme-vs2012-black crayon-theme-vs2012-black-inline crayon-font-consolas\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;\"><span class=\"crayon-pre crayon-code\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><span class=\"crayon-v\">PostLogoutRedirectUri</span></span></span>&nbsp;property will inform Azure AD B2C where to redirect the browser after a sign out operation completed successfully.</li>\n<li>The&nbsp;\n\t\t\t<span id=\"crayon-58fcd396c4969877883989\" class=\"crayon-syntax crayon-syntax-inline  crayon-theme-vs2012-black crayon-theme-vs2012-black-inline crayon-font-consolas\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;\"><span class=\"crayon-pre crayon-code\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><span class=\"crayon-v\">Scope</span></span></span>&nbsp;property will be used to inform our Azure AD B2C tenant that our web app needs to use “OpenId Connect” protocol for authentication.</li>\n<li>The&nbsp;\n\t\t\t<span id=\"crayon-58fcd396c496d648071714\" class=\"crayon-syntax crayon-syntax-inline  crayon-theme-vs2012-black crayon-theme-vs2012-black-inline crayon-font-consolas\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;\"><span class=\"crayon-pre crayon-code\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><span class=\"crayon-v\">ResponseType</span></span></span>&nbsp;property will indicate what our Web App needs from Azure AD B2C tenant after this authentication process, in our case, we only need an&nbsp;\n\t\t\t<span id=\"crayon-58fcd396c4970769917455\" class=\"crayon-syntax crayon-syntax-inline  crayon-theme-vs2012-black crayon-theme-vs2012-black-inline crayon-font-consolas\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;\"><span class=\"crayon-pre crayon-code\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><span class=\"crayon-v\">id_token</span></span></span></li>\n<li>The&nbsp;\n\t\t\t<span id=\"crayon-58fcd396c4974847476606\" class=\"crayon-syntax crayon-syntax-inline  crayon-theme-vs2012-black crayon-theme-vs2012-black-inline crayon-font-consolas\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;\"><span class=\"crayon-pre crayon-code\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><span class=\"crayon-v\">TokenValidationParameters</span></span></span>&nbsp;is used to store the information needed to validate the tokens, we only need to change 2 settings here, the&nbsp;\n\t\t\t<span id=\"crayon-58fcd396c4977192594445\" class=\"crayon-syntax crayon-syntax-inline  crayon-theme-vs2012-black crayon-theme-vs2012-black-inline crayon-font-consolas\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;\"><span class=\"crayon-pre crayon-code\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><span class=\"crayon-v\">NameClaimType</span></span></span>&nbsp;and the&nbsp;\n\t\t\t<span id=\"crayon-58fcd396c497b510979773\" class=\"crayon-syntax crayon-syntax-inline  crayon-theme-vs2012-black crayon-theme-vs2012-black-inline crayon-font-consolas\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;\"><span class=\"crayon-pre crayon-code\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><span class=\"crayon-v\">SaveSigninToken</span></span></span>&nbsp;. Setting the “NameClaimType” value to “name” will allow us to read the display name of the user by calling&nbsp;\n\t\t\t<span id=\"crayon-58fcd396c497e261824668\" class=\"crayon-syntax crayon-syntax-inline  crayon-theme-vs2012-black crayon-theme-vs2012-black-inline crayon-font-consolas\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;\"><span class=\"crayon-pre crayon-code\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><span class=\"crayon-v\">User</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Identity</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Name</span></span></span>&nbsp;, and setting the “SaveSigninToken” to “true” will allow us to save the token we received from the authentication process in the claims created (Inside the session cookie), this will be useful to retrieve the token from the claims when we want to call the Web API. Keep in mind that the cookie size will get larger as we are storing the token inside it.</li>\n<li>Lastly, the property&nbsp;\n\t\t\t<span id=\"crayon-58fcd396c4982498403276\" class=\"crayon-syntax crayon-syntax-inline  crayon-theme-vs2012-black crayon-theme-vs2012-black-inline crayon-font-consolas\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;\"><span class=\"crayon-pre crayon-code\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><span class=\"crayon-v\">Notifications</span></span></span>&nbsp;will allow us to inject our custom code during certain phases of the authentication process, the phase we are interested in here is the&nbsp;\n\t\t\t<span id=\"crayon-58fcd396c4985504439551\" class=\"crayon-syntax crayon-syntax-inline  crayon-theme-vs2012-black crayon-theme-vs2012-black-inline crayon-font-consolas\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;\"><span class=\"crayon-pre crayon-code\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><span class=\"crayon-v\">AuthenticationFailed</span></span></span>&nbsp;phase, in this phase we want to redirect the user to the root directory of the Web App in case he/she clicked cancel on the sign on or sign in forms, and we need to redirect to the error view&nbsp;if we received any other exception during the authentication process.</li>\n</ul>\n</li>\n</ul>\n<p>This was the most complicated part in configuring our Web App to use our Azure AD B2C tenant. Now the next steps should be simpler and we will modify some views and add some new actions to issue requests to our Web API and call the Azure AD B2C polices.</p>\n<h4>Step 5: Call the Azure B2C Polices</h4>\n<p>Now we need to configure out Web App to invoke the policies we created, to do so we need to add a new controller named “AccountController”, so add it and paste the code below:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->\n\n\t\t<div id=\"crayon-58fcd396c4989253004106\" class=\"crayon-syntax crayon-theme-vs2012-black crayon-font-consolas crayon-os-pc print-yes notranslate\" data-settings=\" no-popup minimize scroll-mouseover\" style=\"margin-top: 14px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;\">\n\t\t\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 12px !important;height: 18px !important; line-height: 18px !important;\"><span class=\"crayon-title\"></span>\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 12px !important;height: 18px !important; line-height: 18px !important;\"><div class=\"crayon-button crayon-plain-button\" title=\"Toggle Plain Code\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"Toggle Line Wrap\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"Expand Code\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"Copy\"><div class=\"crayon-button-icon\"></div></div></div></div>\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 16.8px !important; line-height: 16.8px !important;\"></div>\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;\">    public class AccountController : Controller\n    {\n        public void SignIn()\n        {\n            if (!Request.IsAuthenticated)\n            {\n                // To execute a policy, you simply need to trigger an OWIN challenge.\n                // You can indicate which policy to use by specifying the policy id as the AuthenticationType\n                HttpContext.GetOwinContext().Authentication.Challenge(\n                    new AuthenticationProperties() { RedirectUri = \"/\" }, Startup.SignInPolicyId);\n            }\n        }\n\n        public void SignUp()\n        {\n            if (!Request.IsAuthenticated)\n            {\n                HttpContext.GetOwinContext().Authentication.Challenge(\n                    new AuthenticationProperties() { RedirectUri = \"/\" }, Startup.SignUpPolicyId);\n            }\n        }\n\n        public void Profile()\n        {\n            if (Request.IsAuthenticated)\n            {\n                HttpContext.GetOwinContext().Authentication.Challenge(\n                    new AuthenticationProperties() { RedirectUri = \"/\" }, Startup.ProfilePolicyId);\n            }\n        }\n\n        public void SignOut()\n        {\n            // To sign out the user, you should issue an OpenIDConnect sign out request\n            if (Request.IsAuthenticated)\n            {\n                IEnumerable&lt;AuthenticationDescription&gt; authTypes = HttpContext.GetOwinContext().Authentication.GetAuthenticationTypes();\n                HttpContext.GetOwinContext().Authentication.SignOut(authTypes.Select(t =&gt; t.AuthenticationType).ToArray());\n            }\n        }\n    }</textarea></div>\n\t\t\t<div class=\"crayon-main\" style=\"position: relative; z-index: 1; overflow: hidden;\">\n\t\t\t\t<table class=\"crayon-table\">\n\t\t\t\t\t<tbody><tr class=\"crayon-row\">\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 12px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-58fcd396c4989253004106-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c4989253004106-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c4989253004106-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c4989253004106-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c4989253004106-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c4989253004106-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c4989253004106-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c4989253004106-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c4989253004106-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c4989253004106-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c4989253004106-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c4989253004106-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c4989253004106-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c4989253004106-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c4989253004106-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c4989253004106-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c4989253004106-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c4989253004106-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c4989253004106-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c4989253004106-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c4989253004106-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c4989253004106-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c4989253004106-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c4989253004106-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c4989253004106-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c4989253004106-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c4989253004106-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c4989253004106-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c4989253004106-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c4989253004106-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c4989253004106-31\">31</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c4989253004106-32\">32</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c4989253004106-33\">33</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c4989253004106-34\">34</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c4989253004106-35\">35</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c4989253004106-36\">36</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c4989253004106-37\">37</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c4989253004106-38\">38</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c4989253004106-39\">39</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c4989253004106-40\">40</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c4989253004106-41\">41</div></div>\n\t\t\t\t</td>\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-58fcd396c4989253004106-1\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">class</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">AccountController</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Controller</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c4989253004106-2\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c4989253004106-3\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">void</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">SignIn</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c4989253004106-4\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c4989253004106-5\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">!</span><span class=\"crayon-v\">Request</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">IsAuthenticated</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c4989253004106-6\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c4989253004106-7\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-c\">// To execute a policy, you simply need to trigger an OWIN challenge.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c4989253004106-8\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-c\">// You can indicate which policy to use by specifying the policy id as the AuthenticationType</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c4989253004106-9\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">HttpContext</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">GetOwinContext</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Authentication</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Challenge</span><span class=\"crayon-sy\">(</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c4989253004106-10\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">AuthenticationProperties</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">RedirectUri</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"/\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Startup</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">SignInPolicyId</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c4989253004106-11\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c4989253004106-12\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c4989253004106-13\">&nbsp;</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c4989253004106-14\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">void</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">SignUp</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c4989253004106-15\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c4989253004106-16\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">!</span><span class=\"crayon-v\">Request</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">IsAuthenticated</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c4989253004106-17\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c4989253004106-18\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">HttpContext</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">GetOwinContext</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Authentication</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Challenge</span><span class=\"crayon-sy\">(</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c4989253004106-19\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">AuthenticationProperties</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">RedirectUri</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"/\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Startup</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">SignUpPolicyId</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c4989253004106-20\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c4989253004106-21\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c4989253004106-22\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-58fcd396c4989253004106-23\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">void</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Profile</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c4989253004106-24\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c4989253004106-25\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">Request</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">IsAuthenticated</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c4989253004106-26\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c4989253004106-27\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">HttpContext</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">GetOwinContext</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Authentication</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Challenge</span><span class=\"crayon-sy\">(</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c4989253004106-28\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">AuthenticationProperties</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">RedirectUri</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"/\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Startup</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">ProfilePolicyId</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c4989253004106-29\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c4989253004106-30\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c4989253004106-31\">&nbsp;</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c4989253004106-32\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">void</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">SignOut</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c4989253004106-33\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c4989253004106-34\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-c\">// To sign out the user, you should issue an OpenIDConnect sign out request</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c4989253004106-35\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">Request</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">IsAuthenticated</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c4989253004106-36\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c4989253004106-37\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">IEnumerable</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">AuthenticationDescription</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">authTypes</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">HttpContext</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">GetOwinContext</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Authentication</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">GetAuthenticationTypes</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c4989253004106-38\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">HttpContext</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">GetOwinContext</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Authentication</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">SignOut</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">authTypes</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Select</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">t</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">t</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">AuthenticationType</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">ToArray</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c4989253004106-39\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c4989253004106-40\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c4989253004106-41\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div></div></td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody></table>\n\t\t\t</div>\n\t\t</div>\n<!-- [Format Time: 0.0042 seconds] -->\n<p>What we have implemented here is simple, and it is the same for actions&nbsp;\n\t\t\t<span id=\"crayon-58fcd396c498e164140688\" class=\"crayon-syntax crayon-syntax-inline  crayon-theme-vs2012-black crayon-theme-vs2012-black-inline crayon-font-consolas\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;\"><span class=\"crayon-pre crayon-code\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><span class=\"crayon-v\">SignIn</span></span></span>&nbsp;,&nbsp;\n\t\t\t<span id=\"crayon-58fcd396c4994444974534\" class=\"crayon-syntax crayon-syntax-inline  crayon-theme-vs2012-black crayon-theme-vs2012-black-inline crayon-font-consolas\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;\"><span class=\"crayon-pre crayon-code\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><span class=\"crayon-v\">SignUp</span></span></span>&nbsp;, and&nbsp;\n\t\t\t<span id=\"crayon-58fcd396c4997449993633\" class=\"crayon-syntax crayon-syntax-inline  crayon-theme-vs2012-black crayon-theme-vs2012-black-inline crayon-font-consolas\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;\"><span class=\"crayon-pre crayon-code\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><span class=\"crayon-v\">Profile</span></span></span>&nbsp;, what we have done is a call to the&nbsp;\n\t\t\t<span id=\"crayon-58fcd396c499b543915139\" class=\"crayon-syntax crayon-syntax-inline  crayon-theme-vs2012-black crayon-theme-vs2012-black-inline crayon-font-consolas\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;\"><span class=\"crayon-pre crayon-code\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><span class=\"crayon-v\">Challenge</span></span></span>&nbsp;method and specify the related Policy name for each action.</p>\n<p>The “Challenge” method in the OWIN pipeline&nbsp;accepts an instance of the object \n\t\t\t<span id=\"crayon-58fcd396c499e058533672\" class=\"crayon-syntax crayon-syntax-inline  crayon-theme-vs2012-black crayon-theme-vs2012-black-inline crayon-font-consolas\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;\"><span class=\"crayon-pre crayon-code\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><span class=\"crayon-e\">AuthenticationProperties</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></span></span>&nbsp;&nbsp;which is used to set the settings of the action we want to do (Sign in, Sign up, Edit Profile). We only set the “RedirectUri” here to the root path of our Web App, taking into consideration that this “RedirectUri” has nothing to do with the “RedirectUri” we have defined in Azure AD B2C. This can be a different URI where you want the browser to redirect the user only after a successful operation takes place.</p>\n<p>Regarding the&nbsp;\n\t\t\t<span id=\"crayon-58fcd396c49a2834497399\" class=\"crayon-syntax crayon-syntax-inline  crayon-theme-vs2012-black crayon-theme-vs2012-black-inline crayon-font-consolas\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;\"><span class=\"crayon-pre crayon-code\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><span class=\"crayon-v\">SignOut</span></span></span>&nbsp;action, we need to Signout the user from different places, one by removing the app local session we created using the “Cookies” authentication and the other one by informing the OpenID connect middleware to send a Sign out request&nbsp;message to our Azure AD B2C tenant so the user is signed out from there too, that’s why we are retrieving all the Auth types available for our Web App and then we pass those different authentication types to the the “SignOut” method.</p>\n<p>Now let’s add a partial view which renders the links to call those actions, so add a new partial view named “_LoginPartial.cshtml” under the “Shared” folder and paste the code below:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->\n\n\t\t<div id=\"crayon-58fcd396c49a6122839309\" class=\"crayon-syntax crayon-theme-vs2012-black crayon-font-consolas crayon-os-pc print-yes notranslate\" data-settings=\" no-popup minimize scroll-mouseover\" style=\"margin-top: 14px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;\">\n\t\t\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 12px !important;height: 18px !important; line-height: 18px !important;\"><span class=\"crayon-title\"></span>\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 12px !important;height: 18px !important; line-height: 18px !important;\"><div class=\"crayon-button crayon-plain-button\" title=\"Toggle Plain Code\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"Toggle Line Wrap\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"Expand Code\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"Copy\"><div class=\"crayon-button-icon\"></div></div></div></div>\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 16.8px !important; line-height: 16.8px !important;\"></div>\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;\">@if (Request.IsAuthenticated)\n{\n    &lt;text&gt;\n        &lt;ul class=\"nav navbar-nav navbar-right\"&gt;\n            &lt;li&gt;\n                &lt;a id=\"profile-link\"&gt;@User.Identity.Name&lt;/a&gt;\n                &lt;div id=\"profile-options\" class=\"nav navbar-nav navbar-right\"&gt;\n                    &lt;ul class=\"profile-links\"&gt;\n                        &lt;li class=\"profile-link\"&gt;\n                            @Html.ActionLink(\"Edit Profile\", \"Profile\", \"Account\")\n                        &lt;/li&gt;\n                    &lt;/ul&gt;\n                &lt;/div&gt;\n            &lt;/li&gt;\n            &lt;li&gt;\n                @Html.ActionLink(\"Sign out\", \"SignOut\", \"Account\")\n            &lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/text&gt;\n}\nelse\n{\n    &lt;ul class=\"nav navbar-nav navbar-right\"&gt;\n        &lt;li&gt;@Html.ActionLink(\"Sign up\", \"SignUp\", \"Account\", routeValues: null, htmlAttributes: new { id = \"signUpLink\" })&lt;/li&gt;\n        &lt;li&gt;@Html.ActionLink(\"Sign in\", \"SignIn\", \"Account\", routeValues: null, htmlAttributes: new { id = \"loginLink\" })&lt;/li&gt;\n    &lt;/ul&gt;\n}</textarea></div>\n\t\t\t<div class=\"crayon-main\" style=\"position: relative; z-index: 1; overflow: hidden;\">\n\t\t\t\t<table class=\"crayon-table\">\n\t\t\t\t\t<tbody><tr class=\"crayon-row\">\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 12px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49a6122839309-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49a6122839309-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49a6122839309-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49a6122839309-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49a6122839309-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49a6122839309-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49a6122839309-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49a6122839309-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49a6122839309-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49a6122839309-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49a6122839309-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49a6122839309-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49a6122839309-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49a6122839309-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49a6122839309-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49a6122839309-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49a6122839309-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49a6122839309-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49a6122839309-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49a6122839309-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49a6122839309-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49a6122839309-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49a6122839309-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49a6122839309-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49a6122839309-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49a6122839309-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49a6122839309-27\">27</div></div>\n\t\t\t\t</td>\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-58fcd396c49a6122839309-1\"><span class=\"crayon-sy\">@</span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">Request</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">IsAuthenticated</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49a6122839309-2\"><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49a6122839309-3\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">text</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49a6122839309-4\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">ul </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"nav navbar-nav navbar-right\"</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49a6122839309-5\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">li</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49a6122839309-6\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">id</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"profile-link\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">User</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Identity</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Name</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">a</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49a6122839309-7\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">div </span><span class=\"crayon-v\">id</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"profile-options\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"nav navbar-nav navbar-right\"</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49a6122839309-8\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">ul </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"profile-links\"</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49a6122839309-9\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">li </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"profile-link\"</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49a6122839309-10\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">Html</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">ActionLink</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"Edit Profile\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"Profile\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"Account\"</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49a6122839309-11\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">li</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49a6122839309-12\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">ul</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49a6122839309-13\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">div</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49a6122839309-14\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">li</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49a6122839309-15\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">li</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49a6122839309-16\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">Html</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">ActionLink</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"Sign out\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"SignOut\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"Account\"</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49a6122839309-17\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">li</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49a6122839309-18\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">ul</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49a6122839309-19\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">text</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49a6122839309-20\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49a6122839309-21\"><span class=\"crayon-st\">else</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49a6122839309-22\"><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49a6122839309-23\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">ul </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"nav navbar-nav navbar-right\"</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49a6122839309-24\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">li</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">Html</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">ActionLink</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"Sign up\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"SignUp\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"Account\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">routeValues</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">null</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">htmlAttributes</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">id</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"signUpLink\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">li</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49a6122839309-25\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">li</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">Html</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">ActionLink</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"Sign in\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"SignIn\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"Account\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">routeValues</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">null</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">htmlAttributes</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">id</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"loginLink\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">li</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49a6122839309-26\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">ul</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49a6122839309-27\"><span class=\"crayon-sy\">}</span></div></div></td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody></table>\n\t\t\t</div>\n\t\t</div>\n<!-- [Format Time: 0.0034 seconds] -->\n<p>Notice that part of partial view will be rendered only if the user is authenticated and notice how we are displaying the user “Display Name” from the claim named “name” by only calling&nbsp;\n\t\t\t<span id=\"crayon-58fcd396c49aa440459269\" class=\"crayon-syntax crayon-syntax-inline  crayon-theme-vs2012-black crayon-theme-vs2012-black-inline crayon-font-consolas\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;\"><span class=\"crayon-pre crayon-code\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">User</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Identity</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Name</span></span></span></p>\n<p>Now&nbsp;we need to reference this partial view in the “_Layout.cshtml” view, we need just to replace the last Div in the body section with the below section:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->\n\n\t\t<div id=\"crayon-58fcd396c49b0102135985\" class=\"crayon-syntax crayon-theme-vs2012-black crayon-font-consolas crayon-os-pc print-yes notranslate\" data-settings=\" no-popup minimize scroll-mouseover\" style=\"margin-top: 14px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;\">\n\t\t\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 12px !important;height: 18px !important; line-height: 18px !important;\"><span class=\"crayon-title\"></span>\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 12px !important;height: 18px !important; line-height: 18px !important;\"><div class=\"crayon-button crayon-plain-button\" title=\"Toggle Plain Code\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"Toggle Line Wrap\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"Expand Code\" style=\"display: none;\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"Copy\"><div class=\"crayon-button-icon\"></div></div></div></div>\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 16.8px !important; line-height: 16.8px !important;\"></div>\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;\">&lt;div class=\"navbar-collapse collapse\"&gt;\n\t&lt;ul class=\"nav navbar-nav\"&gt;\n\t\t&lt;li&gt;@Html.ActionLink(\"Home\", \"Index\", \"Home\")&lt;/li&gt;\n\t\t&lt;li&gt;@Html.ActionLink(\"Orders List\", \"Index\", \"Orders\")&lt;/li&gt;\n\t&lt;/ul&gt;\n\t@Html.Partial(\"_LoginPartial\")\n&lt;/div&gt;</textarea></div>\n\t\t\t<div class=\"crayon-main\" style=\"position: relative; z-index: 1; overflow: hidden;\">\n\t\t\t\t<table class=\"crayon-table\">\n\t\t\t\t\t<tbody><tr class=\"crayon-row\">\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 12px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b0102135985-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b0102135985-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b0102135985-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b0102135985-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b0102135985-5\">5</div><div class=\"crayon-num crayon-marked-num crayon-top crayon-bottom crayon-striped-num\" data-line=\"crayon-58fcd396c49b0102135985-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b0102135985-7\">7</div></div>\n\t\t\t\t</td>\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-58fcd396c49b0102135985-1\"><span class=\"crayon-r \">&lt;div </span><span class=\"crayon-e \">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s \">\"navbar-collapse collapse\"</span><span class=\"crayon-r \">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b0102135985-2\"><span class=\"crayon-i \">\t</span><span class=\"crayon-r \">&lt;ul </span><span class=\"crayon-e \">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s \">\"nav navbar-nav\"</span><span class=\"crayon-r \">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b0102135985-3\"><span class=\"crayon-i \">\t\t</span><span class=\"crayon-r \">&lt;li&gt;</span><span class=\"crayon-i \">@Html.ActionLink(\"Home\", \"Index\", \"Home\")</span><span class=\"crayon-r \">&lt;/li&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b0102135985-4\"><span class=\"crayon-i \">\t\t</span><span class=\"crayon-r \">&lt;li&gt;</span><span class=\"crayon-i \">@Html.ActionLink(\"Orders List\", \"Index\", \"Orders\")</span><span class=\"crayon-r \">&lt;/li&gt;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b0102135985-5\"><span class=\"crayon-i \">\t</span><span class=\"crayon-r \">&lt;/ul&gt;</span></div><div class=\"crayon-line crayon-marked-line crayon-top crayon-bottom crayon-striped-line\" id=\"crayon-58fcd396c49b0102135985-6\"><span class=\"crayon-i \">\t@Html.Partial(\"_LoginPartial\")</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b0102135985-7\"><span class=\"crayon-r \">&lt;/div&gt;</span></div></div></td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody></table>\n\t\t\t</div>\n\t\t</div>\n<!-- [Format Time: 0.0004 seconds] -->\n<p></p>\n<h4>Step 6:&nbsp;Call the Web API from the MVC App</h4>\n<p>Now we want to add actions to start invoking the protected API we’ve created by passing the token obtained from Azure AD B2C tenant in the “Authorization” header for each protected request. We will add support for creating a new order and listing all the orders related to the authenticated user. If you recall from the <a href=\"http://bitoftech.net/2016/08/24/secure-aspnet-web-api-2-azure-ad-b2c/\">previous post</a>, we will depend on the claim named “objectidentifer” to read the User ID&nbsp;value encoded in the token as a claim.</p>\n<p>To do so we will add a new controller named “OrdersController” under folder “Controllers” and will add 2 actions methods named “Index” and “Create”, add the file and paste the code below:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->\n\n\t\t<div id=\"crayon-58fcd396c49b4787547411\" class=\"crayon-syntax crayon-theme-vs2012-black crayon-font-consolas crayon-os-pc print-yes notranslate\" data-settings=\" no-popup minimize scroll-mouseover\" style=\"margin-top: 14px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;\">\n\t\t\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 12px !important;height: 18px !important; line-height: 18px !important;\"><span class=\"crayon-title\"></span>\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 12px !important;height: 18px !important; line-height: 18px !important;\"><div class=\"crayon-button crayon-plain-button\" title=\"Toggle Plain Code\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"Toggle Line Wrap\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"Expand Code\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"Copy\"><div class=\"crayon-button-icon\"></div></div></div></div>\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 16.8px !important; line-height: 16.8px !important;\"></div>\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;\">    [Authorize]\n    public class OrdersController : Controller\n    {\n        private static string serviceUrl = ConfigurationManager.AppSettings[\"api:OrdersApiUrl\"];\n\n        // GET: Orders\n        public async Task&lt;ActionResult&gt; Index()\n        {\n            try\n            {\n\n                var bootstrapContext = ClaimsPrincipal.Current.Identities.First().BootstrapContext as System.IdentityModel.Tokens.BootstrapContext;\n\n                HttpClient client = new HttpClient();\n\n                client.BaseAddress = new Uri(serviceUrl);\n\n                client.DefaultRequestHeaders.Authorization = new AuthenticationHeaderValue(\"Bearer\", bootstrapContext.Token);\n\n                HttpResponseMessage response = await client.GetAsync(\"api/orders\");\n\n                if (response.IsSuccessStatusCode)\n                {\n\n                    var orders = await response.Content.ReadAsAsync&lt;List&lt;OrderModel&gt;&gt;();\n\n                    return View(orders);\n                }\n                else\n                {\n                    // If the call failed with access denied, show the user an error indicating they might need to sign-in again.\n                    if (response.StatusCode == System.Net.HttpStatusCode.Unauthorized)\n                    {\n                        return new RedirectResult(\"/Error?message=Error: \" + response.ReasonPhrase + \" You might need to sign in again.\");\n                    }\n                }\n\n                return new RedirectResult(\"/Error?message=An Error Occurred Reading Orders List: \" + response.StatusCode);\n            }\n            catch (Exception ex)\n            {\n                return new RedirectResult(\"/Error?message=An Error Occurred Reading Orders List: \" + ex.Message);\n            }\n        }\n\n        public ActionResult Create()\n        {\n            return View();\n        }\n\n        [HttpPost]\n        public async Task&lt;ActionResult&gt; Create([Bind(Include = \"ShipperName,ShipperCity\")]OrderModel order)\n        {\n\n            try\n            {\n                var bootstrapContext = ClaimsPrincipal.Current.Identities.First().BootstrapContext as System.IdentityModel.Tokens.BootstrapContext;\n\n                HttpClient client = new HttpClient();\n\n                client.BaseAddress = new Uri(serviceUrl);\n\n                client.DefaultRequestHeaders.Authorization = new AuthenticationHeaderValue(\"Bearer\", bootstrapContext.Token);\n\n                HttpResponseMessage response = await client.PostAsJsonAsync(\"api/orders\", order);\n\n                if (response.IsSuccessStatusCode)\n                {\n                    return RedirectToAction(\"Index\");\n                }\n                else\n                {\n                    // If the call failed with access denied, show the user an error indicating they might need to sign-in again.\n                    if (response.StatusCode == System.Net.HttpStatusCode.Unauthorized)\n                    {\n                        return new RedirectResult(\"/Error?message=Error: \" + response.ReasonPhrase + \" You might need to sign in again.\");\n                    }\n                }\n\n                return new RedirectResult(\"/Error?message=An Error Occurred Creating Order: \" + response.StatusCode);\n            }\n            catch (Exception ex)\n            {\n                return new RedirectResult(\"/Error?message=An Error Occurred Creating Order: \" + ex.Message);\n            }\n\n        }\n\n    }\n\n    public class OrderModel\n    {\n        public string OrderID { get; set; }\n        [Display(Name = \"Shipper\")]\n        public string ShipperName { get; set; }\n        [Display(Name = \"Shipper City\")]\n        public string ShipperCity { get; set; }\n        public DateTimeOffset TS { get; set; }\n    }</textarea></div>\n\t\t\t<div class=\"crayon-main\" style=\"position: relative; z-index: 1; overflow: hidden;\">\n\t\t\t\t<table class=\"crayon-table\">\n\t\t\t\t\t<tbody><tr class=\"crayon-row\">\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 12px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-31\">31</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-32\">32</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-33\">33</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-34\">34</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-35\">35</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-36\">36</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-37\">37</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-38\">38</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-39\">39</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-40\">40</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-41\">41</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-42\">42</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-43\">43</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-44\">44</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-45\">45</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-46\">46</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-47\">47</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-48\">48</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-49\">49</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-50\">50</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-51\">51</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-52\">52</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-53\">53</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-54\">54</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-55\">55</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-56\">56</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-57\">57</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-58\">58</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-59\">59</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-60\">60</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-61\">61</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-62\">62</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-63\">63</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-64\">64</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-65\">65</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-66\">66</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-67\">67</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-68\">68</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-69\">69</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-70\">70</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-71\">71</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-72\">72</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-73\">73</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-74\">74</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-75\">75</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-76\">76</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-77\">77</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-78\">78</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-79\">79</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-80\">80</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-81\">81</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-82\">82</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-83\">83</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-84\">84</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-85\">85</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-86\">86</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-87\">87</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-88\">88</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-89\">89</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-90\">90</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-91\">91</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-92\">92</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-93\">93</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-94\">94</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-95\">95</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-96\">96</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-97\">97</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49b4787547411-98\">98</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49b4787547411-99\">99</div></div>\n\t\t\t\t</td>\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-1\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">Authorize</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-2\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">class</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">OrdersController</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Controller</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-3\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-4\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-m\">private</span><span class=\"crayon-h\"> </span><span class=\"crayon-m\">static</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">string</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">serviceUrl</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ConfigurationManager</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">AppSettings</span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">\"api:OrdersApiUrl\"</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-5\">&nbsp;</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-6\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-c\">// GET: Orders</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-7\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-m\">async</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Task</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">ActionResult</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Index</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-8\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-9\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">try</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-10\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-11\">&nbsp;</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-12\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-t\">var</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">bootstrapContext</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ClaimsPrincipal</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Current</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Identities</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">First</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">BootstrapContext </span><span class=\"crayon-st\">as</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">System</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">IdentityModel</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Tokens</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">BootstrapContext</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-13\">&nbsp;</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-14\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-e\">HttpClient </span><span class=\"crayon-v\">client</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">HttpClient</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-15\">&nbsp;</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-16\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">client</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">BaseAddress</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Uri</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">serviceUrl</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-17\">&nbsp;</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-18\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">client</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">DefaultRequestHeaders</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Authorization</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">AuthenticationHeaderValue</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"Bearer\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">bootstrapContext</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Token</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-19\">&nbsp;</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-20\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-e\">HttpResponseMessage </span><span class=\"crayon-v\">response</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">await</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">client</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">GetAsync</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"api/orders\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-21\">&nbsp;</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-22\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">response</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">IsSuccessStatusCode</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-23\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-24\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-25\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-t\">var</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">orders</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">await</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">response</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Content</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">ReadAsAsync</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">List</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">OrderModel</span><span class=\"crayon-o\">&gt;&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-26\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-27\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">View</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">orders</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-28\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-29\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">else</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-30\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-31\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-c\">// If the call failed with access denied, show the user an error indicating they might need to sign-in again.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-32\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">response</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">StatusCode</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">System</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Net</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">HttpStatusCode</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Unauthorized</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-33\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-34\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">RedirectResult</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"/Error?message=Error: \"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">response</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">ReasonPhrase</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\" You might need to sign in again.\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-35\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-36\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-37\">&nbsp;</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-38\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">RedirectResult</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"/Error?message=An Error Occurred Reading Orders List: \"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">response</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">StatusCode</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-39\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-40\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">catch</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">Exception </span><span class=\"crayon-v\">ex</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-41\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-42\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">RedirectResult</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"/Error?message=An Error Occurred Reading Orders List: \"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ex</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Message</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-43\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-44\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-45\">&nbsp;</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-46\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">ActionResult </span><span class=\"crayon-e\">Create</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-47\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-48\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">View</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-49\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-50\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-51\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">HttpPost</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-52\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-m\">async</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Task</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">ActionResult</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Create</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">[</span><span class=\"crayon-e\">Bind</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">Include</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"ShipperName,ShipperCity\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">]</span><span class=\"crayon-e\">OrderModel </span><span class=\"crayon-v\">order</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-53\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-54\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-55\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">try</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-56\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-57\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-t\">var</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">bootstrapContext</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ClaimsPrincipal</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Current</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Identities</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">First</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">BootstrapContext </span><span class=\"crayon-st\">as</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">System</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">IdentityModel</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Tokens</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">BootstrapContext</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-58\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-59\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-e\">HttpClient </span><span class=\"crayon-v\">client</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">HttpClient</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-60\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-61\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">client</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">BaseAddress</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Uri</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">serviceUrl</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-62\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-63\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">client</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">DefaultRequestHeaders</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Authorization</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">AuthenticationHeaderValue</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"Bearer\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">bootstrapContext</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Token</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-64\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-65\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-e\">HttpResponseMessage </span><span class=\"crayon-v\">response</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">await</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">client</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">PostAsJsonAsync</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"api/orders\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">order</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-66\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-67\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">response</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">IsSuccessStatusCode</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-68\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-69\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">RedirectToAction</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"Index\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-70\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-71\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">else</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-72\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-73\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-c\">// If the call failed with access denied, show the user an error indicating they might need to sign-in again.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-74\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">response</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">StatusCode</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">System</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Net</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">HttpStatusCode</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Unauthorized</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-75\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-76\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">RedirectResult</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"/Error?message=Error: \"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">response</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">ReasonPhrase</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\" You might need to sign in again.\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-77\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-78\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-79\">&nbsp;</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-80\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">RedirectResult</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"/Error?message=An Error Occurred Creating Order: \"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">response</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">StatusCode</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-81\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-82\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">catch</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">Exception </span><span class=\"crayon-v\">ex</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-83\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-84\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">RedirectResult</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"/Error?message=An Error Occurred Creating Order: \"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ex</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Message</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-85\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-86\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-87\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-88\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-89\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-90\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-91\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">class</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">OrderModel</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-92\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-93\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">string</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">OrderID</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">get</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">set</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-94\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">[</span><span class=\"crayon-e\">Display</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">Name</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"Shipper\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-95\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">string</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">ShipperName</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">get</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">set</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-96\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">[</span><span class=\"crayon-e\">Display</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">Name</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"Shipper City\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-97\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">string</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">ShipperCity</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">get</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">set</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49b4787547411-98\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">DateTimeOffset</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">TS</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">get</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">set</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49b4787547411-99\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div></div></td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody></table>\n\t\t\t</div>\n\t\t</div>\n<!-- [Format Time: 0.0097 seconds] -->\n<p>What we have implemented here is the following:</p>\n<ul>\n<li>We have added an&nbsp;\n\t\t\t<span id=\"crayon-58fcd396c49ba026673856\" class=\"crayon-syntax crayon-syntax-inline  crayon-theme-vs2012-black crayon-theme-vs2012-black-inline crayon-font-consolas\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;\"><span class=\"crayon-pre crayon-code\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">Authorize</span><span class=\"crayon-sy\">]</span></span></span>&nbsp;attribute on the controller so any unauthenticated (anonymous) request (Session cookie doesn’t exist) to any of the actions in this controller will result into a redirect to the Sign in policy we have configured.</li>\n<li>Notice how we are reading the&nbsp;\n\t\t\t<span id=\"crayon-58fcd396c49c0113661139\" class=\"crayon-syntax crayon-syntax-inline  crayon-theme-vs2012-black crayon-theme-vs2012-black-inline crayon-font-consolas\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;\"><span class=\"crayon-pre crayon-code\" style=\"font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><span class=\"crayon-v\">BootstrapContext</span></span></span>&nbsp;from the current “ClaimsPrincipal” object, this context will contain a property named “Token” which we will send in the “Authorization” header for the Web API. Note that if you forgot to set the property “SaveSigninToken” of the “TokenValidationParameters” to “true” then this will return “null”.</li>\n<li>We are using HTTP Client to craft the requests and call the Web API endpoints we defined earlier. There is no need to pay attention to the User ID property in the MVC App as this property is encoded in the token itself, and the Web API will take the responsibility to decode it and store it in the Azure table storage along with order information.</li>\n</ul>\n<h4>Step 7:&nbsp;Add views for the&nbsp;Orders Controller</h4>\n<p>I will not dive into details here, as you know we need to add 2 views to support rendering the list of orders and creating a new order, for sake of completeness I will paste the cshtml for each view, so open a new folder named “Orders” under “Views” folder, then add 2 new views named “Index.cshtml” and “Create.cshtml” and paste the code as the below:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->\n\n\t\t<div id=\"crayon-58fcd396c49c4794747327\" class=\"crayon-syntax crayon-theme-vs2012-black crayon-font-consolas crayon-os-pc print-yes notranslate\" data-settings=\" no-popup minimize scroll-mouseover\" style=\"margin-top: 14px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;\">\n\t\t\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 12px !important;height: 18px !important; line-height: 18px !important;\"><span class=\"crayon-title\">Index.cshtml</span>\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 12px !important;height: 18px !important; line-height: 18px !important;\"><div class=\"crayon-button crayon-plain-button\" title=\"Toggle Plain Code\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"Toggle Line Wrap\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"Expand Code\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"Copy\"><div class=\"crayon-button-icon\"></div></div></div></div>\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 16.8px !important; line-height: 16.8px !important;\"></div>\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;\">@model IEnumerable&lt;AADB2C.WebClientMvc.Controllers.OrderModel&gt;\n@{\n    ViewBag.Title = \"Orders\";\n}\n&lt;h2&gt;Orders&lt;/h2&gt;\n&lt;br /&gt;\n&lt;p&gt;\n    @Html.ActionLink(\"Create New\", \"Create\")\n&lt;/p&gt;\n\n&lt;table class=\"table table-bordered table-striped table-hover table-condensed\" style=\"table-layout: auto\"&gt;\n    &lt;thead&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Order Id&lt;/td&gt;\n            &lt;td&gt;Shipper&lt;/td&gt;\n            &lt;td&gt;Shipper City&lt;/td&gt;\n            &lt;td&gt;Date&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/thead&gt;\n    @foreach (var item in Model)\n    {\n        &lt;tr&gt;\n            &lt;td&gt;\n                @Html.DisplayFor(modelItem =&gt; item.OrderID)\n            &lt;/td&gt;\n            &lt;td&gt;\n                @Html.DisplayFor(modelItem =&gt; item.ShipperName)\n            &lt;/td&gt;\n            &lt;td&gt;\n                @Html.DisplayFor(modelItem =&gt; item.ShipperCity)\n            &lt;/td&gt;\n            &lt;td&gt;\n                @Html.DisplayFor(modelItem =&gt; item.TS)\n            &lt;/td&gt;\n        &lt;/tr&gt;\n    }\n&lt;/table&gt;</textarea></div>\n\t\t\t<div class=\"crayon-main\" style=\"position: relative; z-index: 1; overflow: hidden;\">\n\t\t\t\t<table class=\"crayon-table\">\n\t\t\t\t\t<tbody><tr class=\"crayon-row\">\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 12px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49c4794747327-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49c4794747327-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49c4794747327-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49c4794747327-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49c4794747327-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49c4794747327-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49c4794747327-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49c4794747327-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49c4794747327-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49c4794747327-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49c4794747327-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49c4794747327-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49c4794747327-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49c4794747327-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49c4794747327-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49c4794747327-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49c4794747327-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49c4794747327-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49c4794747327-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49c4794747327-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49c4794747327-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49c4794747327-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49c4794747327-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49c4794747327-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49c4794747327-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49c4794747327-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49c4794747327-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49c4794747327-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49c4794747327-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49c4794747327-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49c4794747327-31\">31</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49c4794747327-32\">32</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49c4794747327-33\">33</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49c4794747327-34\">34</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49c4794747327-35\">35</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49c4794747327-36\">36</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49c4794747327-37\">37</div></div>\n\t\t\t\t</td>\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-58fcd396c49c4794747327-1\"><span class=\"crayon-sy\">@</span>model<span class=\"crayon-h\"> </span>IEnumerable<span class=\"crayon-r \">&lt;AADB2C.WebClientMvc.Controllers.OrderModel&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49c4794747327-2\"><span class=\"crayon-i \">@{</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49c4794747327-3\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;ViewBag.Title = \"Orders\";</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49c4794747327-4\"><span class=\"crayon-i \">}</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49c4794747327-5\"><span class=\"crayon-r \">&lt;h2&gt;</span><span class=\"crayon-i \">Orders</span><span class=\"crayon-r \">&lt;/h2&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49c4794747327-6\"><span class=\"crayon-r \">&lt;br </span><span class=\"crayon-r \">/&gt;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49c4794747327-7\"><span class=\"crayon-r \">&lt;p&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49c4794747327-8\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;@Html.ActionLink(\"Create New\", \"Create\")</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49c4794747327-9\"><span class=\"crayon-r \">&lt;/p&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49c4794747327-10\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-58fcd396c49c4794747327-11\"><span class=\"crayon-r \">&lt;table </span><span class=\"crayon-e \">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s \">\"table table-bordered table-striped table-hover table-condensed\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-e \">style</span><span class=\"crayon-o\">=</span><span class=\"crayon-s \">\"table-layout: auto\"</span><span class=\"crayon-r \">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49c4794747327-12\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;thead&gt;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49c4794747327-13\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;tr&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49c4794747327-14\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;td&gt;</span><span class=\"crayon-i \">Order Id</span><span class=\"crayon-r \">&lt;/td&gt;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49c4794747327-15\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;td&gt;</span><span class=\"crayon-i \">Shipper</span><span class=\"crayon-r \">&lt;/td&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49c4794747327-16\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;td&gt;</span><span class=\"crayon-i \">Shipper City</span><span class=\"crayon-r \">&lt;/td&gt;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49c4794747327-17\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;td&gt;</span><span class=\"crayon-i \">Date</span><span class=\"crayon-r \">&lt;/td&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49c4794747327-18\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;/tr&gt;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49c4794747327-19\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;/thead&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49c4794747327-20\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;@foreach (var item in Model)</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49c4794747327-21\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49c4794747327-22\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;tr&gt;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49c4794747327-23\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;td&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49c4794747327-24\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">@</span>Html<span class=\"crayon-sy\">.</span>DisplayFor<span class=\"crayon-sy\">(</span>modelItem<span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-r \">&gt;</span><span class=\"crayon-i \"> item.OrderID)</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49c4794747327-25\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;/td&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49c4794747327-26\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;td&gt;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49c4794747327-27\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">@</span>Html<span class=\"crayon-sy\">.</span>DisplayFor<span class=\"crayon-sy\">(</span>modelItem<span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-r \">&gt;</span><span class=\"crayon-i \"> item.ShipperName)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49c4794747327-28\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;/td&gt;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49c4794747327-29\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;td&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49c4794747327-30\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">@</span>Html<span class=\"crayon-sy\">.</span>DisplayFor<span class=\"crayon-sy\">(</span>modelItem<span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-r \">&gt;</span><span class=\"crayon-i \"> item.ShipperCity)</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49c4794747327-31\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;/td&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49c4794747327-32\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;td&gt;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49c4794747327-33\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">@</span>Html<span class=\"crayon-sy\">.</span>DisplayFor<span class=\"crayon-sy\">(</span>modelItem<span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-r \">&gt;</span><span class=\"crayon-i \"> item.TS)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49c4794747327-34\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;/td&gt;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49c4794747327-35\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;/tr&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49c4794747327-36\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;}</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49c4794747327-37\"><span class=\"crayon-r \">&lt;/table&gt;</span></div></div></td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody></table>\n\t\t\t</div>\n\t\t</div>\n<!-- [Format Time: 0.0016 seconds] -->\n<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->\n\n\t\t<div id=\"crayon-58fcd396c49c8586337114\" class=\"crayon-syntax crayon-theme-vs2012-black crayon-font-consolas crayon-os-pc print-yes notranslate\" data-settings=\" no-popup minimize scroll-mouseover\" style=\"margin-top: 14px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;\">\n\t\t\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 12px !important;height: 18px !important; line-height: 18px !important;\"><span class=\"crayon-title\">Create.cshtml</span>\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 12px !important;height: 18px !important; line-height: 18px !important;\"><div class=\"crayon-button crayon-plain-button\" title=\"Toggle Plain Code\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"Toggle Line Wrap\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"Expand Code\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"Copy\"><div class=\"crayon-button-icon\"></div></div></div></div>\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 16.8px !important; line-height: 16.8px !important;\"></div>\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;\">@model AADB2C.WebClientMvc.Controllers.OrderModel\n@{\n    ViewBag.Title = \"New Order\";\n}\n&lt;h2&gt;Create Order&lt;/h2&gt;\n@using (Html.BeginForm())\n{\n    &lt;div class=\"form-horizontal\"&gt;\n        &lt;hr /&gt;\n\n        &lt;div class=\"form-group\"&gt;\n            @Html.LabelFor(model =&gt; model.ShipperName, htmlAttributes: new { @class = \"control-label col-md-2\" })\n            &lt;div class=\"col-md-10\"&gt;\n                @Html.EditorFor(model =&gt; model.ShipperName, new { htmlAttributes = new { @class = \"form-control\" } })\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"form-group\"&gt;\n            @Html.LabelFor(model =&gt; model.ShipperCity, htmlAttributes: new { @class = \"control-label col-md-2\" })\n            &lt;div class=\"col-md-10\"&gt;\n                @Html.EditorFor(model =&gt; model.ShipperCity, new { htmlAttributes = new { @class = \"form-control\" } })\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"form-group\"&gt;\n            &lt;div class=\"col-md-offset-2 col-md-10\"&gt;\n                &lt;input type=\"submit\" value=\"Save Order\" class=\"btn btn-default\" /&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div&gt;\n        @Html.ActionLink(\"Back to Orders\", \"Index\")\n    &lt;/div&gt;\n}</textarea></div>\n\t\t\t<div class=\"crayon-main\" style=\"position: relative; z-index: 1; overflow: hidden;\">\n\t\t\t\t<table class=\"crayon-table\">\n\t\t\t\t\t<tbody><tr class=\"crayon-row\">\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 12px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49c8586337114-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49c8586337114-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49c8586337114-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49c8586337114-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49c8586337114-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49c8586337114-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49c8586337114-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49c8586337114-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49c8586337114-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49c8586337114-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49c8586337114-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49c8586337114-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49c8586337114-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49c8586337114-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49c8586337114-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49c8586337114-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49c8586337114-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49c8586337114-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49c8586337114-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49c8586337114-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49c8586337114-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49c8586337114-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49c8586337114-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49c8586337114-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49c8586337114-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49c8586337114-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49c8586337114-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49c8586337114-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49c8586337114-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49c8586337114-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49c8586337114-31\">31</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49c8586337114-32\">32</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49c8586337114-33\">33</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58fcd396c49c8586337114-34\">34</div><div class=\"crayon-num\" data-line=\"crayon-58fcd396c49c8586337114-35\">35</div></div>\n\t\t\t\t</td>\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-58fcd396c49c8586337114-1\"><span class=\"crayon-sy\">@</span>model<span class=\"crayon-h\"> </span>AADB2C<span class=\"crayon-sy\">.</span>WebClientMvc<span class=\"crayon-sy\">.</span>Controllers<span class=\"crayon-sy\">.</span>OrderModel</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49c8586337114-2\"><span class=\"crayon-sy\">@</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49c8586337114-3\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span>ViewBag<span class=\"crayon-sy\">.</span><span class=\"crayon-e \">Title</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s \">\"New Order\"</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49c8586337114-4\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49c8586337114-5\"><span class=\"crayon-r \">&lt;h2&gt;</span><span class=\"crayon-i \">Create Order</span><span class=\"crayon-r \">&lt;/h2&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49c8586337114-6\"><span class=\"crayon-i \">@using (Html.BeginForm())</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49c8586337114-7\"><span class=\"crayon-i \">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49c8586337114-8\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;div </span><span class=\"crayon-e \">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s \">\"form-horizontal\"</span><span class=\"crayon-r \">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49c8586337114-9\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;hr </span><span class=\"crayon-r \">/&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49c8586337114-10\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-58fcd396c49c8586337114-11\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;div </span><span class=\"crayon-e \">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s \">\"form-group\"</span><span class=\"crayon-r \">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49c8586337114-12\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">@</span>Html<span class=\"crayon-sy\">.</span>LabelFor<span class=\"crayon-sy\">(</span>model<span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-r \">&gt;</span><span class=\"crayon-i \"> model.ShipperName, htmlAttributes: new { @class = \"control-label col-md-2\" })</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49c8586337114-13\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;div </span><span class=\"crayon-e \">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s \">\"col-md-10\"</span><span class=\"crayon-r \">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49c8586337114-14\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">@</span>Html<span class=\"crayon-sy\">.</span>EditorFor<span class=\"crayon-sy\">(</span>model<span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-r \">&gt;</span><span class=\"crayon-i \"> model.ShipperName, new { htmlAttributes = new { @class = \"form-control\" } })</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49c8586337114-15\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;/div&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49c8586337114-16\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;/div&gt;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49c8586337114-17\">&nbsp;</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49c8586337114-18\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;div </span><span class=\"crayon-e \">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s \">\"form-group\"</span><span class=\"crayon-r \">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49c8586337114-19\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">@</span>Html<span class=\"crayon-sy\">.</span>LabelFor<span class=\"crayon-sy\">(</span>model<span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-r \">&gt;</span><span class=\"crayon-i \"> model.ShipperCity, htmlAttributes: new { @class = \"control-label col-md-2\" })</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49c8586337114-20\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;div </span><span class=\"crayon-e \">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s \">\"col-md-10\"</span><span class=\"crayon-r \">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49c8586337114-21\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">@</span>Html<span class=\"crayon-sy\">.</span>EditorFor<span class=\"crayon-sy\">(</span>model<span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-r \">&gt;</span><span class=\"crayon-i \"> model.ShipperCity, new { htmlAttributes = new { @class = \"form-control\" } })</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49c8586337114-22\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;/div&gt;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49c8586337114-23\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;/div&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49c8586337114-24\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-58fcd396c49c8586337114-25\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;div </span><span class=\"crayon-e \">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s \">\"form-group\"</span><span class=\"crayon-r \">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49c8586337114-26\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;div </span><span class=\"crayon-e \">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s \">\"col-md-offset-2 col-md-10\"</span><span class=\"crayon-r \">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49c8586337114-27\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;input </span><span class=\"crayon-e \">type</span><span class=\"crayon-o\">=</span><span class=\"crayon-s \">\"submit\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-e \">value</span><span class=\"crayon-o\">=</span><span class=\"crayon-s \">\"Save Order\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-e \">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s \">\"btn btn-default\"</span><span class=\"crayon-r \"> /&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49c8586337114-28\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;/div&gt;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49c8586337114-29\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;/div&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49c8586337114-30\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;/div&gt;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49c8586337114-31\">&nbsp;</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49c8586337114-32\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;div&gt;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49c8586337114-33\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Html.ActionLink(\"Back to Orders\", \"Index\")</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58fcd396c49c8586337114-34\"><span class=\"crayon-i \">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r \">&lt;/div&gt;</span></div><div class=\"crayon-line\" id=\"crayon-58fcd396c49c8586337114-35\"><span class=\"crayon-sy\">}</span></div></div></td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody></table>\n\t\t\t</div>\n\t\t</div>\n<!-- [Format Time: 0.0020 seconds] -->\n<p></p>\n<h4>Step 8: Lastly, let’s test out the complete flow</h4>\n<p>To test this out the user will click on “Orders List” link from the top navigation menu, then he will be redirected to the Azure AD B2C tenant where s/he can enter the app local credentials, if the crednetials provided are valid then a successful authentication will take place and a token will be obtained and stored in the claims identity for the authenticated user, then the orders view are displayed the token is sent in the authorization header to get all orders for this user. It should be something as the animated image below:</p>\n<p><a href=\"http://bitoftech.net/wp-content/uploads/2016/08/animation.gif\"><img class=\"alignnone size-full wp-image-1109\" src=\"http://bitoftech.net/wp-content/uploads/2016/08/animation.gif\" alt=\"Azure AD B2C animation\" width=\"688\" height=\"767\"></a></p>\n<p>That’s it for now folks, I hope you find it useful <img draggable=\"false\" class=\"emoji\" alt=\"🙂\" src=\"https://s.w.org/images/core/emoji/2.2.1/svg/1f642.svg\"> In the next post, I will cover how to integrate MSAL with Azure AD B2C and use it in a desktop application. If you find the post useful;&nbsp;then do not forget to share it <img draggable=\"false\" class=\"emoji\" alt=\"🙂\" src=\"https://s.w.org/images/core/emoji/2.2.1/svg/1f642.svg\"></p>\n<h4>The&nbsp;<a title=\"Source Code for Azure AD Web Api\" href=\"https://github.com/tjoudeh/Azure-Active-Directory-B2C\" target=\"_blank\">Source code</a>&nbsp;for this tutorial&nbsp;is available on GitHub.</h4>\n<h4>The MVC Web App has been published on Azure App Services, so feel free to try it out using the Base URL (<a href=\"https://aadb2cmvcapp.azurewebsites.net/\" target=\"_blank\">https://aadb2cmvcapp.azurewebsites.net/</a>)</h4>\n<h3>Follow me on Twitter&nbsp;<a style=\"color: #ed702b;\" title=\"Taiseer Joudeh Twitter\" href=\"http://twitter.com/tjoudeh\" target=\"_blank\">@tjoudeh</a></h3>\n<h4>Resources</h4>\n<ul>\n<li><a href=\"https://brockallen.com/2013/10/24/a-primer-on-owin-cookie-authentication-middleware-for-the-asp-net-developer/\" target=\"_blank\">A primer on OWIN cookie authentication middleware</a> by Brock Allen</li>\n<li><a href=\"https://www.amazon.com/Authentication-Directory-Applications-Developer-Reference/dp/0735696942/ref=sr_1_1?ie=UTF8&amp;qid=1448916106&amp;sr=8-1&amp;keywords=9780735696945\" target=\"_blank\">Modern Authentication with Azure Active Directory for Web Applications</a>&nbsp;by Vittorio Bertocci</li>\n<li><a href=\"https://azure.microsoft.com/en-us/documentation/articles/active-directory-b2c-devquickstarts-web-api-dotnet/\" target=\"_blank\">Azure AD B2C: Call a web API from a .NET web app</a></li>\n</ul>\n<div class=\"sharedaddy sd-sharing-enabled\"><div class=\"robots-nocontent sd-block sd-social sd-social-official sd-sharing\"><h3 class=\"sd-title\">Be Sociable, Share!</h3><div class=\"sd-content\"><ul><li class=\"share-facebook\"><div class=\"fb-share-button fb_iframe_widget\" data-href=\"https://bitoftech.net/2016/08/31/integrate-azure-ad-b2c-asp-net-mvc-web-app/\" data-layout=\"button_count\" fb-xfbml-state=\"parsed\" fb-iframe-plugin-query=\"app_id=249643311490&amp;container_width=0&amp;href=https%3A%2F%2Fbitoftech.net%2F2016%2F08%2F31%2Fintegrate-azure-ad-b2c-asp-net-mvc-web-app%2F&amp;layout=button_count&amp;locale=en_US&amp;sdk=joey\"><span style=\"vertical-align: top; width: 0px; height: 0px; overflow: hidden;\"><iframe name=\"f1d743fa81d721\" width=\"1000px\" height=\"1000px\" frameborder=\"0\" allowtransparency=\"true\" allowfullscreen=\"true\" scrolling=\"no\" title=\"fb:share_button Facebook Social Plugin\" src=\"https://www.facebook.com/v2.3/plugins/share_button.php?app_id=249643311490&amp;channel=https%3A%2F%2Fstaticxx.facebook.com%2Fconnect%2Fxd_arbiter%2Fr%2F96nq-xsaNcg.js%3Fversion%3D42%23cb%3Df203a71a3500708%26domain%3Dbitoftech.net%26origin%3Dhttps%253A%252F%252Fbitoftech.net%252Ff392018f3aba55c%26relation%3Dparent.parent&amp;container_width=0&amp;href=https%3A%2F%2Fbitoftech.net%2F2016%2F08%2F31%2Fintegrate-azure-ad-b2c-asp-net-mvc-web-app%2F&amp;layout=button_count&amp;locale=en_US&amp;sdk=joey\" style=\"border: none; visibility: hidden;\"></iframe></span></div></li><li class=\"share-twitter\"><iframe id=\"twitter-widget-1\" scrolling=\"no\" frameborder=\"0\" allowtransparency=\"true\" class=\"twitter-share-button twitter-share-button-rendered twitter-tweet-button\" title=\"Twitter Tweet Button\" src=\"https://platform.twitter.com/widgets/tweet_button.5c39137502ea1894df4434ae5ed041c5.en.html#dnt=false&amp;id=twitter-widget-1&amp;lang=en&amp;original_referer=https%3A%2F%2Fbitoftech.net%2F&amp;size=m&amp;text=Integrate%20Azure%20AD%20B2C%20with%20ASP.NET%20MVC%20Web%20App%20-%20Part%203&amp;time=1492964248320&amp;type=share&amp;url=https%3A%2F%2Fbitoftech.net%2F2016%2F08%2F31%2Fintegrate-azure-ad-b2c-asp-net-mvc-web-app%2F\" style=\"position: static; visibility: visible; width: 60px; height: 20px;\" data-url=\"https://bitoftech.net/2016/08/31/integrate-azure-ad-b2c-asp-net-mvc-web-app/\"></iframe></li><li class=\"share-linkedin\"><div class=\"linkedin_button\"><span class=\"IN-widget\" style=\"line-height: 1; vertical-align: baseline; display: inline-block; text-align: center;\"><span style=\"padding: 0px !important; margin: 0px !important; text-indent: 0px !important; display: inline-block !important; vertical-align: baseline !important; font-size: 1px !important;\"><span id=\"li_ui_li_gen_1492964248486_2\"><a id=\"li_ui_li_gen_1492964248486_2-link\" href=\"javascript:void(0);\"><span id=\"li_ui_li_gen_1492964248486_2-logo\">in</span><span id=\"li_ui_li_gen_1492964248486_2-title\"><span id=\"li_ui_li_gen_1492964248486_2-mark\"></span><span id=\"li_ui_li_gen_1492964248486_2-title-text\">Share</span></span></a></span></span><span style=\"padding: 0px !important; margin: 0px !important; text-indent: 0px !important; display: inline-block !important; vertical-align: baseline !important; font-size: 1px !important;\"><span id=\"li_ui_li_gen_1492964248490_3-container\" class=\"IN-right\"><span id=\"li_ui_li_gen_1492964248490_3\" class=\"IN-right\"><span id=\"li_ui_li_gen_1492964248490_3-inner\" class=\"IN-right\"><span id=\"li_ui_li_gen_1492964248490_3-content\" class=\"IN-right\">6</span></span></span></span></span></span><script type=\"in/share+init\" data-url=\"https://bitoftech.net/2016/08/31/integrate-azure-ad-b2c-asp-net-mvc-web-app/\" data-counter=\"right\"></script></div></li><li class=\"share-google-plus-1\"><div class=\"googleplus1_button\"><div class=\"g-plus\" data-action=\"share\" data-annotation=\"bubble\" data-href=\"https://bitoftech.net/2016/08/31/integrate-azure-ad-b2c-asp-net-mvc-web-app/\" id=\"___plusone_1\" style=\"text-indent: 0px; margin: 0px; padding: 0px; background: transparent; border-style: none; float: none; line-height: normal; font-size: 1px; vertical-align: baseline; display: inline-block; width: 106px; height: 24px;\"><iframe ng-non-bindable=\"\" frameborder=\"0\" hspace=\"0\" marginheight=\"0\" marginwidth=\"0\" scrolling=\"no\" style=\"position: static; top: 0px; width: 106px; margin: 0px; border-style: none; left: 0px; visibility: visible; height: 24px;\" tabindex=\"0\" vspace=\"0\" width=\"100%\" id=\"I1_1492964247968\" name=\"I1_1492964247968\" src=\"https://apis.google.com/se/0/_/+1/fastbutton?usegapi=1&amp;annotation=bubble&amp;origin=https%3A%2F%2Fbitoftech.net&amp;url=https%3A%2F%2Fbitoftech.net%2F2016%2F08%2F31%2Fintegrate-azure-ad-b2c-asp-net-mvc-web-app%2F&amp;gsrc=3p&amp;jsh=m%3B%2F_%2Fscs%2Fapps-static%2F_%2Fjs%2Fk%3Doz.gapi.en_US.SLCABaeCDbc.O%2Fm%3D__features__%2Fam%3DAQ%2Frt%3Dj%2Fd%3D1%2Frs%3DAGLTcCMLkwjFKjbbQHEAkWYM0gtD9xKJJA#_methods=onPlusOne%2C_ready%2C_close%2C_open%2C_resizeMe%2C_renderstart%2Concircled%2Cdrefresh%2Cerefresh&amp;id=I1_1492964247968&amp;parent=https%3A%2F%2Fbitoftech.net&amp;pfname=&amp;rpctoken=34060568\" data-gapiattached=\"true\" title=\"+1\"></iframe></div></div></li><li class=\"share-tumblr\"><a target=\"_blank\" href=\"https://www.tumblr.com/share/link/?url=https%3A%2F%2Fbitoftech.net%2F2016%2F08%2F31%2Fintegrate-azure-ad-b2c-asp-net-mvc-web-app%2F&amp;name=Integrate%20Azure%20AD%20B2C%20with%20ASP.NET%20MVC%20Web%20App%20-%20Part%203\" title=\"Share on Tumblr\" style=\"display:inline-block; text-indent:-9999px; overflow:hidden; width:62px; height:20px; background:url('https://platform.tumblr.com/v1/share_2.png') top left no-repeat transparent;\">Share on Tumblr</a></li><li class=\"share-email share-service-visible\"><a rel=\"nofollow\" data-shared=\"\" class=\"share-email sd-button\" href=\"https://bitoftech.net/2016/08/31/integrate-azure-ad-b2c-asp-net-mvc-web-app/?share=email&amp;nb=1\" target=\"_blank\" title=\"Click to email this to a friend\"><span>Email</span></a></li><li class=\"share-end\"></li></ul></div></div></div></div><footer class=\"entry-footer\"><p class=\"entry-meta\"><span class=\"entry-categories\">Filed Under: <a href=\"https://bitoftech.net/category/asp-net-web-api/\" rel=\"category tag\">ASP.Net Web API</a>, <a href=\"https://bitoftech.net/category/azure/\" rel=\"category tag\">Azure</a>, <a href=\"https://bitoftech.net/category/azure-ad-b2c/\" rel=\"category tag\">Azure AD B2C</a>, <a href=\"https://bitoftech.net/category/codeproject/\" rel=\"category tag\">CodeProject</a>, <a href=\"https://bitoftech.net/category/restful-api/\" rel=\"category tag\">RESTful API</a>, <a href=\"https://bitoftech.net/category/web-api-security/\" rel=\"category tag\">Web API Security</a></span> <span class=\"entry-tags\">Tagged With: <a href=\"https://bitoftech.net/tag/azure-active-directory-b2c/\" rel=\"tag\">Azure Active Directory B2C</a>, <a href=\"https://bitoftech.net/tag/azure-ad-b2c/\" rel=\"tag\">Azure AD B2C</a>, <a href=\"https://bitoftech.net/tag/token-authentication/\" rel=\"tag\">Token Authentication</a>, <a href=\"https://bitoftech.net/tag/tutorial/\" rel=\"tag\">Tutorial</a>, <a href=\"https://bitoftech.net/tag/web-api-2/\" rel=\"tag\">Web API 2</a>, <a href=\"https://bitoftech.net/tag/web-api-security/\" rel=\"tag\">Web API Security</a></span></p></footer></article><article class=\"post-1072 post type-post status-publish format-standard category-azure category-azure-ad-b2c category-web-api-security tag-azure-active-directory-b2c tag-azure-ad-b2c tag-token-authentication tag-tutorial tag-web-api-2 tag-web-api-security entry genesis-grid genesis-grid-1 genesis-grid-odd\" itemscope=\"\" itemtype=\"http://schema.org/CreativeWork\"><header class=\"entry-header\"><h2 class=\"entry-title\" itemprop=\"headline\"><a href=\"https://bitoftech.net/2016/08/24/secure-aspnet-web-api-2-azure-ad-b2c/\" rel=\"bookmark\">Secure ASP.NET Web API 2 using Azure AD B2C – Part 2</a></h2> \n<p class=\"entry-meta\"><time class=\"entry-time\" itemprop=\"datePublished\" datetime=\"2016-08-24T22:53:17+00:00\">August 24, 2016</time> By <span class=\"entry-author\" itemprop=\"author\" itemscope=\"\" itemtype=\"http://schema.org/Person\"><a href=\"http://bitoftech.net/taiseer-joudeh-blog/\" class=\"entry-author-link\" itemprop=\"url\" rel=\"author\"><span class=\"entry-author-name\" itemprop=\"name\">Taiseer Joudeh</span></a></span> <span class=\"entry-comments-link\"><a href=\"https://bitoftech.net/2016/08/24/secure-aspnet-web-api-2-azure-ad-b2c/#comments\">8 Comments</a></span> </p></header><div class=\"entry-content\" itemprop=\"text\"><a href=\"https://bitoftech.net/2016/08/24/secure-aspnet-web-api-2-azure-ad-b2c/\"><img width=\"270\" height=\"100\" src=\"https://bitoftech.net/wp-content/uploads/2016/08/JWTTokenManually-270x100.jpg\" class=\"grid-featured\" alt=\"JWT Token Manually\" itemprop=\"image\"></a><p>This is the second&nbsp;part of the tutorial which will cover Using&nbsp;Azure AD B2C tenant with ASP.NET Web API 2 and various front end clients.\n\n \tAzure Active Directory B2C Overview and Policies Management - (Part 1)\n \tSecure ASP.NET Web API 2 using … <a href=\"https://bitoftech.net/2016/08/24/secure-aspnet-web-api-2-azure-ad-b2c/\" class=\"more-link\">[Continue reading]</a></p></div><footer class=\"entry-footer\"><p class=\"entry-meta\"><span class=\"entry-categories\">Filed Under: <a href=\"https://bitoftech.net/category/azure/\" rel=\"category tag\">Azure</a>, <a href=\"https://bitoftech.net/category/azure-ad-b2c/\" rel=\"category tag\">Azure AD B2C</a>, <a href=\"https://bitoftech.net/category/web-api-security/\" rel=\"category tag\">Web API Security</a></span> <span class=\"entry-tags\">Tagged With: <a href=\"https://bitoftech.net/tag/azure-active-directory-b2c/\" rel=\"tag\">Azure Active Directory B2C</a>, <a href=\"https://bitoftech.net/tag/azure-ad-b2c/\" rel=\"tag\">Azure AD B2C</a>, <a href=\"https://bitoftech.net/tag/token-authentication/\" rel=\"tag\">Token Authentication</a>, <a href=\"https://bitoftech.net/tag/tutorial/\" rel=\"tag\">Tutorial</a>, <a href=\"https://bitoftech.net/tag/web-api-2/\" rel=\"tag\">Web API 2</a>, <a href=\"https://bitoftech.net/tag/web-api-security/\" rel=\"tag\">Web API Security</a></span></p></footer></article><article class=\"post-1046 post type-post status-publish format-standard category-asp-net-web-api category-azure category-azure-ad-b2c category-restful-api category-web-api-security tag-azure-active-directory-b2c tag-azure-ad-b2c tag-token-authentication tag-tutorial tag-web-api-2 tag-web-api-security entry genesis-grid genesis-grid-2 genesis-grid-even\" itemscope=\"\" itemtype=\"http://schema.org/CreativeWork\"><header class=\"entry-header\"><h2 class=\"entry-title\" itemprop=\"headline\"><a href=\"https://bitoftech.net/2016/08/24/azure-active-directory-b2c-policies-management/\" rel=\"bookmark\">Azure Active Directory B2C Overview and Policies Management – Part 1</a></h2> \n<p class=\"entry-meta\"><time class=\"entry-time\" itemprop=\"datePublished\" datetime=\"2016-08-24T03:32:45+00:00\">August 24, 2016</time> By <span class=\"entry-author\" itemprop=\"author\" itemscope=\"\" itemtype=\"http://schema.org/Person\"><a href=\"http://bitoftech.net/taiseer-joudeh-blog/\" class=\"entry-author-link\" itemprop=\"url\" rel=\"author\"><span class=\"entry-author-name\" itemprop=\"name\">Taiseer Joudeh</span></a></span> <span class=\"entry-comments-link\"><a href=\"https://bitoftech.net/2016/08/24/azure-active-directory-b2c-policies-management/#comments\">10 Comments</a></span> </p></header><div class=\"entry-content\" itemprop=\"text\"><a href=\"https://bitoftech.net/2016/08/24/azure-active-directory-b2c-policies-management/\"><img width=\"270\" height=\"100\" src=\"https://bitoftech.net/wp-content/uploads/2016/08/2NewCustomDirectory-270x100.jpg\" class=\"grid-featured\" alt=\"Azure AD B2C Directory\" itemprop=\"image\"></a><p>Prior joining Microsoft I was heavily involved in architecting and building a large scale HTTP API which will be consumed by a large number of mobile application consumers on multiple platforms (iOS, Android, and Windows Phone). Securing the API and … <a href=\"https://bitoftech.net/2016/08/24/azure-active-directory-b2c-policies-management/\" class=\"more-link\">[Continue reading]</a></p></div><footer class=\"entry-footer\"><p class=\"entry-meta\"><span class=\"entry-categories\">Filed Under: <a href=\"https://bitoftech.net/category/asp-net-web-api/\" rel=\"category tag\">ASP.Net Web API</a>, <a href=\"https://bitoftech.net/category/azure/\" rel=\"category tag\">Azure</a>, <a href=\"https://bitoftech.net/category/azure-ad-b2c/\" rel=\"category tag\">Azure AD B2C</a>, <a href=\"https://bitoftech.net/category/restful-api/\" rel=\"category tag\">RESTful API</a>, <a href=\"https://bitoftech.net/category/web-api-security/\" rel=\"category tag\">Web API Security</a></span> <span class=\"entry-tags\">Tagged With: <a href=\"https://bitoftech.net/tag/azure-active-directory-b2c/\" rel=\"tag\">Azure Active Directory B2C</a>, <a href=\"https://bitoftech.net/tag/azure-ad-b2c/\" rel=\"tag\">Azure AD B2C</a>, <a href=\"https://bitoftech.net/tag/token-authentication/\" rel=\"tag\">Token Authentication</a>, <a href=\"https://bitoftech.net/tag/tutorial/\" rel=\"tag\">Tutorial</a>, <a href=\"https://bitoftech.net/tag/web-api-2/\" rel=\"tag\">Web API 2</a>, <a href=\"https://bitoftech.net/tag/web-api-security/\" rel=\"tag\">Web API Security</a></span></p></footer></article><article class=\"post-987 post type-post status-publish format-standard has-post-thumbnail category-asp-net category-asp-net-identity category-asp-net-web-api category-uncategorized category-web-api-security category-web-api-tutorial tag-autherization-server tag-claims tag-jwt tag-oauth tag-token-authentication entry genesis-grid genesis-grid-3 genesis-grid-odd\" itemscope=\"\" itemtype=\"http://schema.org/CreativeWork\"><header class=\"entry-header\"><h2 class=\"entry-title\" itemprop=\"headline\"><a href=\"https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/\" rel=\"bookmark\">ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 – Part 5</a></h2> \n<p class=\"entry-meta\"><time class=\"entry-time\" itemprop=\"datePublished\" datetime=\"2015-03-31T01:57:49+00:00\">March 31, 2015</time> By <span class=\"entry-author\" itemprop=\"author\" itemscope=\"\" itemtype=\"http://schema.org/Person\"><a href=\"http://bitoftech.net/taiseer-joudeh-blog/\" class=\"entry-author-link\" itemprop=\"url\" rel=\"author\"><span class=\"entry-author-name\" itemprop=\"name\">Taiseer Joudeh</span></a></span> <span class=\"entry-comments-link\"><a href=\"https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/#comments\">307 Comments</a></span> </p></header><div class=\"entry-content\" itemprop=\"text\"><a href=\"https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/\"><img width=\"270\" height=\"100\" src=\"https://bitoftech.net/wp-content/uploads/2015/03/ClaimsFeaturedImage-270x100.jpg\" class=\"grid-featured\" alt=\"Claims Featured Image\" itemprop=\"image\"></a><p>This is the fifth&nbsp;part of Building Simple Membership system using&nbsp;ASP.NET Identity 2.1,&nbsp;ASP.NET Web API 2.2 and AngularJS. The topics we’ll cover are:\n\n\tConfigure ASP.NET Identity with ASP.NET Web API (Accounts Management) - Part 1.\n\tASP.NET … <a href=\"https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/\" class=\"more-link\">[Continue reading]</a></p></div><footer class=\"entry-footer\"><p class=\"entry-meta\"><span class=\"entry-categories\">Filed Under: <a href=\"https://bitoftech.net/category/asp-net/\" rel=\"category tag\">ASP.NET</a>, <a href=\"https://bitoftech.net/category/asp-net-identity/\" rel=\"category tag\">ASP.NET Identity</a>, <a href=\"https://bitoftech.net/category/asp-net-web-api/\" rel=\"category tag\">ASP.Net Web API</a>, <a href=\"https://bitoftech.net/category/uncategorized/\" rel=\"category tag\">Uncategorized</a>, <a href=\"https://bitoftech.net/category/web-api-security/\" rel=\"category tag\">Web API Security</a>, <a href=\"https://bitoftech.net/category/web-api-tutorial/\" rel=\"category tag\">Web API Tutorial</a></span> <span class=\"entry-tags\">Tagged With: <a href=\"https://bitoftech.net/tag/autherization-server/\" rel=\"tag\">Autherization Server</a>, <a href=\"https://bitoftech.net/tag/claims/\" rel=\"tag\">Claims</a>, <a href=\"https://bitoftech.net/tag/jwt/\" rel=\"tag\">JWT</a>, <a href=\"https://bitoftech.net/tag/oauth/\" rel=\"tag\">OAuth</a>, <a href=\"https://bitoftech.net/tag/token-authentication/\" rel=\"tag\">Token Authentication</a></span></p></footer></article><article class=\"post-966 post type-post status-publish format-standard has-post-thumbnail category-asp-net category-asp-net-identity category-asp-net-web-api category-web-api-security category-web-api-tutorial tag-authentication tag-autherization-server tag-oauth tag-roles entry genesis-grid genesis-grid-4 genesis-grid-even\" itemscope=\"\" itemtype=\"http://schema.org/CreativeWork\"><header class=\"entry-header\"><h2 class=\"entry-title\" itemprop=\"headline\"><a href=\"https://bitoftech.net/2015/03/11/asp-net-identity-2-1-roles-based-authorization-authentication-asp-net-web-api/\" rel=\"bookmark\">ASP.NET Identity 2.1 Roles Based Authorization with ASP.NET Web API – Part 4</a></h2> \n<p class=\"entry-meta\"><time class=\"entry-time\" itemprop=\"datePublished\" datetime=\"2015-03-11T02:14:10+00:00\">March 11, 2015</time> By <span class=\"entry-author\" itemprop=\"author\" itemscope=\"\" itemtype=\"http://schema.org/Person\"><a href=\"http://bitoftech.net/taiseer-joudeh-blog/\" class=\"entry-author-link\" itemprop=\"url\" rel=\"author\"><span class=\"entry-author-name\" itemprop=\"name\">Taiseer Joudeh</span></a></span> <span class=\"entry-comments-link\"><a href=\"https://bitoftech.net/2015/03/11/asp-net-identity-2-1-roles-based-authorization-authentication-asp-net-web-api/#comments\">133 Comments</a></span> </p></header><div class=\"entry-content\" itemprop=\"text\"><a href=\"https://bitoftech.net/2015/03/11/asp-net-identity-2-1-roles-based-authorization-authentication-asp-net-web-api/\"><img width=\"270\" height=\"100\" src=\"https://bitoftech.net/wp-content/uploads/2015/03/FeaturedImage-270x100.jpg\" class=\"grid-featured\" alt=\"Roles Auth\" itemprop=\"image\"></a><p>This is the forth&nbsp;part of Building Simple Membership system using&nbsp;ASP.NET Identity 2.1,&nbsp;ASP.NET Web API 2.2 and AngularJS. The topics we’ll cover are:\n\n\tConfigure ASP.NET Identity with ASP.NET Web API (Accounts Management) - Part 1.\n\tASP.NET … <a href=\"https://bitoftech.net/2015/03/11/asp-net-identity-2-1-roles-based-authorization-authentication-asp-net-web-api/\" class=\"more-link\">[Continue reading]</a></p></div><footer class=\"entry-footer\"><p class=\"entry-meta\"><span class=\"entry-categories\">Filed Under: <a href=\"https://bitoftech.net/category/asp-net/\" rel=\"category tag\">ASP.NET</a>, <a href=\"https://bitoftech.net/category/asp-net-identity/\" rel=\"category tag\">ASP.NET Identity</a>, <a href=\"https://bitoftech.net/category/asp-net-web-api/\" rel=\"category tag\">ASP.Net Web API</a>, <a href=\"https://bitoftech.net/category/web-api-security/\" rel=\"category tag\">Web API Security</a>, <a href=\"https://bitoftech.net/category/web-api-tutorial/\" rel=\"category tag\">Web API Tutorial</a></span> <span class=\"entry-tags\">Tagged With: <a href=\"https://bitoftech.net/tag/authentication/\" rel=\"tag\">Authentication</a>, <a href=\"https://bitoftech.net/tag/autherization-server/\" rel=\"tag\">Autherization Server</a>, <a href=\"https://bitoftech.net/tag/oauth/\" rel=\"tag\">OAuth</a>, <a href=\"https://bitoftech.net/tag/roles/\" rel=\"tag\">Roles</a></span></p></footer></article><article class=\"post-933 post type-post status-publish format-standard has-post-thumbnail category-asp-net category-asp-net-identity category-asp-net-web-api category-codeproject category-web-api-security category-web-api-tutorial tag-authentication tag-authorization tag-json-web-tokens tag-jwt tag-oauth entry genesis-grid genesis-grid-5 genesis-grid-odd\" itemscope=\"\" itemtype=\"http://schema.org/CreativeWork\"><header class=\"entry-header\"><h2 class=\"entry-title\" itemprop=\"headline\"><a href=\"https://bitoftech.net/2015/02/16/implement-oauth-json-web-tokens-authentication-in-asp-net-web-api-and-identity-2/\" rel=\"bookmark\">Implement OAuth JSON Web Tokens Authentication in ASP.NET Web API and Identity 2.1 – Part 3</a></h2> \n<p class=\"entry-meta\"><time class=\"entry-time\" itemprop=\"datePublished\" datetime=\"2015-02-16T20:10:10+00:00\">February 16, 2015</time> By <span class=\"entry-author\" itemprop=\"author\" itemscope=\"\" itemtype=\"http://schema.org/Person\"><a href=\"http://bitoftech.net/taiseer-joudeh-blog/\" class=\"entry-author-link\" itemprop=\"url\" rel=\"author\"><span class=\"entry-author-name\" itemprop=\"name\">Taiseer Joudeh</span></a></span> <span class=\"entry-comments-link\"><a href=\"https://bitoftech.net/2015/02/16/implement-oauth-json-web-tokens-authentication-in-asp-net-web-api-and-identity-2/#comments\">294 Comments</a></span> </p></header><div class=\"entry-content\" itemprop=\"text\"><a href=\"https://bitoftech.net/2015/02/16/implement-oauth-json-web-tokens-authentication-in-asp-net-web-api-and-identity-2/\"><img width=\"270\" height=\"100\" src=\"https://bitoftech.net/wp-content/uploads/2015/02/FeaturedImage1-270x100.jpg\" class=\"grid-featured\" alt=\"Featured Image\" itemprop=\"image\"></a><p>This is the third&nbsp;part of Building Simple Membership system using&nbsp;ASP.NET Identity 2.1,&nbsp;ASP.NET Web API 2.2 and AngularJS. The topics we’ll cover are:\n\n\tConfigure ASP.NET Identity with ASP.NET Web API (Accounts Management) - Part 1.\n\tASP.NET … <a href=\"https://bitoftech.net/2015/02/16/implement-oauth-json-web-tokens-authentication-in-asp-net-web-api-and-identity-2/\" class=\"more-link\">[Continue reading]</a></p></div><footer class=\"entry-footer\"><p class=\"entry-meta\"><span class=\"entry-categories\">Filed Under: <a href=\"https://bitoftech.net/category/asp-net/\" rel=\"category tag\">ASP.NET</a>, <a href=\"https://bitoftech.net/category/asp-net-identity/\" rel=\"category tag\">ASP.NET Identity</a>, <a href=\"https://bitoftech.net/category/asp-net-web-api/\" rel=\"category tag\">ASP.Net Web API</a>, <a href=\"https://bitoftech.net/category/codeproject/\" rel=\"category tag\">CodeProject</a>, <a href=\"https://bitoftech.net/category/web-api-security/\" rel=\"category tag\">Web API Security</a>, <a href=\"https://bitoftech.net/category/web-api-tutorial/\" rel=\"category tag\">Web API Tutorial</a></span> <span class=\"entry-tags\">Tagged With: <a href=\"https://bitoftech.net/tag/authentication/\" rel=\"tag\">Authentication</a>, <a href=\"https://bitoftech.net/tag/authorization/\" rel=\"tag\">Authorization</a>, <a href=\"https://bitoftech.net/tag/json-web-tokens/\" rel=\"tag\">JSON Web Tokens</a>, <a href=\"https://bitoftech.net/tag/jwt/\" rel=\"tag\">JWT</a>, <a href=\"https://bitoftech.net/tag/oauth/\" rel=\"tag\">OAuth</a></span></p></footer></article><article class=\"post-925 post type-post status-publish format-standard has-post-thumbnail category-asp-net category-asp-net-identity category-asp-net-web-api category-web-api-tutorial tag-token-authentication tag-tutorial tag-web-api-2 entry genesis-grid genesis-grid-6 genesis-grid-even\" itemscope=\"\" itemtype=\"http://schema.org/CreativeWork\"><header class=\"entry-header\"><h2 class=\"entry-title\" itemprop=\"headline\"><a href=\"https://bitoftech.net/2015/02/03/asp-net-identity-2-accounts-confirmation-password-user-policy-configuration/\" rel=\"bookmark\">ASP.NET Identity 2.1 Accounts Confirmation, and Password Policy Configuration – Part 2</a></h2> \n<p class=\"entry-meta\"><time class=\"entry-time\" itemprop=\"datePublished\" datetime=\"2015-02-03T01:24:02+00:00\">February 3, 2015</time> By <span class=\"entry-author\" itemprop=\"author\" itemscope=\"\" itemtype=\"http://schema.org/Person\"><a href=\"http://bitoftech.net/taiseer-joudeh-blog/\" class=\"entry-author-link\" itemprop=\"url\" rel=\"author\"><span class=\"entry-author-name\" itemprop=\"name\">Taiseer Joudeh</span></a></span> <span class=\"entry-comments-link\"><a href=\"https://bitoftech.net/2015/02/03/asp-net-identity-2-accounts-confirmation-password-user-policy-configuration/#comments\">98 Comments</a></span> </p></header><div class=\"entry-content\" itemprop=\"text\"><a href=\"https://bitoftech.net/2015/02/03/asp-net-identity-2-accounts-confirmation-password-user-policy-configuration/\"><img width=\"270\" height=\"100\" src=\"https://bitoftech.net/wp-content/uploads/2015/02/FeaturedImage-270x100.jpg\" class=\"grid-featured\" alt=\"\" itemprop=\"image\"></a><p>This is the second&nbsp;part of Building Simple Membership system using&nbsp;ASP.NET Identity 2.1,&nbsp;ASP.NET Web API 2.2 and AngularJS. The topics we’ll cover are:\n\n\tConfigure ASP.NET Identity with ASP.NET Web API (Accounts Management) - Part 1.\n\tASP.NET … <a href=\"https://bitoftech.net/2015/02/03/asp-net-identity-2-accounts-confirmation-password-user-policy-configuration/\" class=\"more-link\">[Continue reading]</a></p></div><footer class=\"entry-footer\"><p class=\"entry-meta\"><span class=\"entry-categories\">Filed Under: <a href=\"https://bitoftech.net/category/asp-net/\" rel=\"category tag\">ASP.NET</a>, <a href=\"https://bitoftech.net/category/asp-net-identity/\" rel=\"category tag\">ASP.NET Identity</a>, <a href=\"https://bitoftech.net/category/asp-net-web-api/\" rel=\"category tag\">ASP.Net Web API</a>, <a href=\"https://bitoftech.net/category/web-api-tutorial/\" rel=\"category tag\">Web API Tutorial</a></span> <span class=\"entry-tags\">Tagged With: <a href=\"https://bitoftech.net/tag/token-authentication/\" rel=\"tag\">Token Authentication</a>, <a href=\"https://bitoftech.net/tag/tutorial/\" rel=\"tag\">Tutorial</a>, <a href=\"https://bitoftech.net/tag/web-api-2/\" rel=\"tag\">Web API 2</a></span></p></footer></article><article class=\"post-915 post type-post status-publish format-standard has-post-thumbnail category-blogging tag-interview entry genesis-grid genesis-grid-7 genesis-grid-odd\" itemscope=\"\" itemtype=\"http://schema.org/CreativeWork\"><header class=\"entry-header\"><h2 class=\"entry-title\" itemprop=\"headline\"><a href=\"https://bitoftech.net/2015/01/26/taiseer-joudeh-interview-establishing-a-successful-blog/\" rel=\"bookmark\">Interview with John about establishing a successful blog</a></h2> \n<p class=\"entry-meta\"><time class=\"entry-time\" itemprop=\"datePublished\" datetime=\"2015-01-26T17:57:49+00:00\">January 26, 2015</time> By <span class=\"entry-author\" itemprop=\"author\" itemscope=\"\" itemtype=\"http://schema.org/Person\"><a href=\"http://bitoftech.net/taiseer-joudeh-blog/\" class=\"entry-author-link\" itemprop=\"url\" rel=\"author\"><span class=\"entry-author-name\" itemprop=\"name\">Taiseer Joudeh</span></a></span> <span class=\"entry-comments-link\"><a href=\"https://bitoftech.net/2015/01/26/taiseer-joudeh-interview-establishing-a-successful-blog/#respond\">Leave a Comment</a></span> </p></header><div class=\"entry-content\" itemprop=\"text\"><a href=\"https://bitoftech.net/2015/01/26/taiseer-joudeh-interview-establishing-a-successful-blog/\"><img width=\"270\" height=\"100\" src=\"https://bitoftech.net/wp-content/uploads/2015/01/FeaturedImage2-270x100.jpg\" class=\"grid-featured\" alt=\"Taiseer Joudeh\" itemprop=\"image\"></a><p>Recently I was Interviewed by John Sonmez. John&nbsp;is the founder of&nbsp;SimpleProgrammer.com, and I'm definitely sure that you've already&nbsp;stumbled&nbsp;upon a post, video or&nbsp;Plural Sight course authored by him.&nbsp;I consider John&nbsp;as coach for Software Developers, … <a href=\"https://bitoftech.net/2015/01/26/taiseer-joudeh-interview-establishing-a-successful-blog/\" class=\"more-link\">[Continue reading]</a></p></div><footer class=\"entry-footer\"><p class=\"entry-meta\"><span class=\"entry-categories\">Filed Under: <a href=\"https://bitoftech.net/category/blogging/\" rel=\"category tag\">Blogging</a></span> <span class=\"entry-tags\">Tagged With: <a href=\"https://bitoftech.net/tag/interview/\" rel=\"tag\">Interview</a></span></p></footer></article><article class=\"post-894 post type-post status-publish format-standard has-post-thumbnail category-asp-net category-asp-net-identity category-asp-net-web-api category-web-api-tutorial tag-token-authentication tag-tutorial tag-web-api-2 entry genesis-grid genesis-grid-8 genesis-grid-even\" itemscope=\"\" itemtype=\"http://schema.org/CreativeWork\"><header class=\"entry-header\"><h2 class=\"entry-title\" itemprop=\"headline\"><a href=\"https://bitoftech.net/2015/01/21/asp-net-identity-2-with-asp-net-web-api-2-accounts-management/\" rel=\"bookmark\">ASP.NET Identity 2.1 with ASP.NET Web API 2.2 (Accounts Management) – Part 1</a></h2> \n<p class=\"entry-meta\"><time class=\"entry-time\" itemprop=\"datePublished\" datetime=\"2015-01-21T20:06:40+00:00\">January 21, 2015</time> By <span class=\"entry-author\" itemprop=\"author\" itemscope=\"\" itemtype=\"http://schema.org/Person\"><a href=\"http://bitoftech.net/taiseer-joudeh-blog/\" class=\"entry-author-link\" itemprop=\"url\" rel=\"author\"><span class=\"entry-author-name\" itemprop=\"name\">Taiseer Joudeh</span></a></span> <span class=\"entry-comments-link\"><a href=\"https://bitoftech.net/2015/01/21/asp-net-identity-2-with-asp-net-web-api-2-accounts-management/#comments\">214 Comments</a></span> </p></header><div class=\"entry-content\" itemprop=\"text\"><a href=\"https://bitoftech.net/2015/01/21/asp-net-identity-2-with-asp-net-web-api-2-accounts-management/\"><img width=\"270\" height=\"100\" src=\"https://bitoftech.net/wp-content/uploads/2015/01/AspNetIdentityFeatured-270x100.jpg\" class=\"grid-featured\" alt=\"Asp Net Identity\" itemprop=\"image\"></a><p>ASP.NET Identity 2.1 is the latest&nbsp;membership and identity management framework provided by Microsoft, this membership system can be plugged&nbsp;to&nbsp;any ASP.NET framework such as Web API, MVC, Web Forms, etc...\n\nIn this tutorial we'll cover&nbsp;how to … <a href=\"https://bitoftech.net/2015/01/21/asp-net-identity-2-with-asp-net-web-api-2-accounts-management/\" class=\"more-link\">[Continue reading]</a></p></div><footer class=\"entry-footer\"><p class=\"entry-meta\"><span class=\"entry-categories\">Filed Under: <a href=\"https://bitoftech.net/category/asp-net/\" rel=\"category tag\">ASP.NET</a>, <a href=\"https://bitoftech.net/category/asp-net-identity/\" rel=\"category tag\">ASP.NET Identity</a>, <a href=\"https://bitoftech.net/category/asp-net-web-api/\" rel=\"category tag\">ASP.Net Web API</a>, <a href=\"https://bitoftech.net/category/web-api-tutorial/\" rel=\"category tag\">Web API Tutorial</a></span> <span class=\"entry-tags\">Tagged With: <a href=\"https://bitoftech.net/tag/token-authentication/\" rel=\"tag\">Token Authentication</a>, <a href=\"https://bitoftech.net/tag/tutorial/\" rel=\"tag\">Tutorial</a>, <a href=\"https://bitoftech.net/tag/web-api-2/\" rel=\"tag\">Web API 2</a></span></p></footer></article><article class=\"post-876 post type-post status-publish format-standard has-post-thumbnail category-blogging category-mvp tag-microsoft-mvp entry genesis-grid genesis-grid-9 genesis-grid-odd\" itemscope=\"\" itemtype=\"http://schema.org/CreativeWork\"><header class=\"entry-header\"><h2 class=\"entry-title\" itemprop=\"headline\"><a href=\"https://bitoftech.net/2015/01/01/journey-2015-microsoft-mvp-award-valuable-professional/\" rel=\"bookmark\">My Journey to The 2015 Microsoft MVP Award (Most Valuable Professional)</a></h2> \n<p class=\"entry-meta\"><time class=\"entry-time\" itemprop=\"datePublished\" datetime=\"2015-01-01T21:28:34+00:00\">January 1, 2015</time> By <span class=\"entry-author\" itemprop=\"author\" itemscope=\"\" itemtype=\"http://schema.org/Person\"><a href=\"http://bitoftech.net/taiseer-joudeh-blog/\" class=\"entry-author-link\" itemprop=\"url\" rel=\"author\"><span class=\"entry-author-name\" itemprop=\"name\">Taiseer Joudeh</span></a></span> <span class=\"entry-comments-link\"><a href=\"https://bitoftech.net/2015/01/01/journey-2015-microsoft-mvp-award-valuable-professional/#comments\">51 Comments</a></span> </p></header><div class=\"entry-content\" itemprop=\"text\"><a href=\"https://bitoftech.net/2015/01/01/journey-2015-microsoft-mvp-award-valuable-professional/\"><img width=\"270\" height=\"100\" src=\"https://bitoftech.net/wp-content/uploads/2015/01/TaiseerJoudehMVP-270x100.png\" class=\"grid-featured\" alt=\"Taiseer Joudeh MVP\" itemprop=\"image\"></a><p>I still clearly remember staying late at the office after reading this inspirational post by Scott Hanselman&nbsp;asking myself why not to&nbsp;start a new blog, I have a good&nbsp;knowledge in the ASP.NET stack so why not to share this with the community through … <a href=\"https://bitoftech.net/2015/01/01/journey-2015-microsoft-mvp-award-valuable-professional/\" class=\"more-link\">[Continue reading]</a></p></div><footer class=\"entry-footer\"><p class=\"entry-meta\"><span class=\"entry-categories\">Filed Under: <a href=\"https://bitoftech.net/category/blogging/\" rel=\"category tag\">Blogging</a>, <a href=\"https://bitoftech.net/category/mvp/\" rel=\"category tag\">MVP</a></span> <span class=\"entry-tags\">Tagged With: <a href=\"https://bitoftech.net/tag/microsoft-mvp/\" rel=\"tag\">Microsoft MVP</a></span></p></footer></article><div class=\"archive-pagination pagination\"><ul><li class=\"active\" aria-label=\"Current page\"><a href=\"https://bitoftech.net/\">1</a></li>\n<li><a href=\"https://bitoftech.net/page/2/\">2</a></li>\n<li><a href=\"https://bitoftech.net/page/3/\">3</a></li>\n<li class=\"pagination-omission\">…</li>\n<li><a href=\"https://bitoftech.net/page/5/\">5</a></li>\n<li class=\"pagination-next\"><a href=\"https://bitoftech.net/page/2/\">Next Page »</a></li>\n</ul></div>\n</main><aside class=\"sidebar sidebar-primary widget-area\" role=\"complementary\" aria-label=\"Primary Sidebar\" itemscope=\"\" itemtype=\"http://schema.org/WPSideBar\"><section id=\"user-profile-2\" class=\"widget user-profile\"><div class=\"widget-wrap\"><h4 class=\"widget-title widgettitle\">About Taiseer</h4>\n<p><span class=\"alignleft\"><img alt=\"\" src=\"https://secure.gravatar.com/avatar/9eb6f781385423defcafb5d1077f2c9c?s=85&amp;r=g\" srcset=\"https://secure.gravatar.com/avatar/9eb6f781385423defcafb5d1077f2c9c?s=170&amp;r=g 2x\" class=\"avatar avatar-85 photo\" height=\"85\" width=\"85\"></span>Husband, Father, Consultant @ MSFT, Life Time Learner... <a class=\"pagelink\" href=\"https://bitoftech.net/taiseer-joudeh-blog/\">Read More…</a></p>\n</div></section>\n<section id=\"text-4\" class=\"widget widget_text\"><div class=\"widget-wrap\">\t\t\t<div class=\"textwidget\"><script async=\"\" src=\"//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\"></script>\n<!-- Medium Image 1 -->\n<ins class=\"adsbygoogle\" style=\"display: inline-block; width: 300px; height: 250px;\" data-ad-client=\"ca-pub-9008761019081236\" data-ad-slot=\"8604871501\" data-adsbygoogle-status=\"done\"><ins id=\"aswift_1_expand\" style=\"display:inline-table;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent\"><ins id=\"aswift_1_anchor\" style=\"display:block;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent\"><iframe width=\"300\" height=\"250\" frameborder=\"0\" marginwidth=\"0\" marginheight=\"0\" vspace=\"0\" hspace=\"0\" allowtransparency=\"true\" scrolling=\"no\" allowfullscreen=\"true\" onload=\"var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}\" id=\"aswift_1\" name=\"aswift_1\" style=\"left:0;position:absolute;top:0;\"></iframe></ins></ins></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script></div>\n\t\t</div></section>\n<section id=\"text-17\" class=\"widget widget_text\"><div class=\"widget-wrap\">\t\t\t<div class=\"textwidget\"><script type=\"text/javascript\" src=\"http://ap.lijit.com/www/delivery/fpi.js?z=329848&amp;u=bitoftech&amp;width=300&amp;height=250\"></script></div>\n\t\t</div></section>\n<section id=\"text-9\" class=\"widget widget_text\"><div class=\"widget-wrap\">\t\t\t<div class=\"textwidget\"><!-- BuySellAds Zone Code -->\n<div id=\"bsap_1296521\" class=\"bsarocks bsap_30768b51b7a9bb130f466a2aceedc374\"></div>\n<!-- End BuySellAds Zone Code --></div>\n\t\t</div></section>\n<section id=\"text-11\" class=\"widget widget_text\"><div class=\"widget-wrap\">\t\t\t<div class=\"textwidget\"><div style=\"width:300px;\">\n<!-- BuySellAds Zone Code -->\n<div id=\"bsap_1296793\" class=\"bsarocks bsap_30768b51b7a9bb130f466a2aceedc374\"></div>\n<!-- End BuySellAds Zone Code -->\n</div></div>\n\t\t</div></section>\n<section id=\"text-14\" class=\"widget widget_text\"><div class=\"widget-wrap\">\t\t\t<div class=\"textwidget\"><!-- BuySellAds Zone Code -->\n<div id=\"bsap_1300503\" class=\"bsarocks bsap_30768b51b7a9bb130f466a2aceedc374\"></div>\n<!-- End BuySellAds Zone Code --></div>\n\t\t</div></section>\n<section id=\"text-5\" class=\"widget widget_text\"><div class=\"widget-wrap\">\t\t\t<div class=\"textwidget\"><script async=\"\" src=\"//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\"></script>\n<!-- Medium Image 2 -->\n<ins class=\"adsbygoogle\" style=\"display: inline-block; width: 300px; height: 250px;\" data-ad-client=\"ca-pub-9008761019081236\" data-ad-slot=\"8649753901\" data-adsbygoogle-status=\"done\"><ins id=\"aswift_2_expand\" style=\"display:inline-table;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent\"><ins id=\"aswift_2_anchor\" style=\"display:block;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent\"><iframe width=\"300\" height=\"250\" frameborder=\"0\" marginwidth=\"0\" marginheight=\"0\" vspace=\"0\" hspace=\"0\" allowtransparency=\"true\" scrolling=\"no\" allowfullscreen=\"true\" onload=\"var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}\" id=\"aswift_2\" name=\"aswift_2\" style=\"left:0;position:absolute;top:0;\"></iframe></ins></ins></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script></div>\n\t\t</div></section>\n\t\t<section id=\"recent-posts-4\" class=\"widget widget_recent_entries\"><div class=\"widget-wrap\">\t\t<h4 class=\"widget-title widgettitle\">Recent Posts</h4>\n\t\t<ul>\n\t\t\t\t\t<li>\n\t\t\t\t<a href=\"https://bitoftech.net/2016/08/31/integrate-azure-ad-b2c-asp-net-mvc-web-app/\">Integrate Azure AD B2C with ASP.NET MVC Web App – Part 3</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t<a href=\"https://bitoftech.net/2016/08/24/secure-aspnet-web-api-2-azure-ad-b2c/\">Secure ASP.NET Web API 2 using Azure AD B2C – Part 2</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t<a href=\"https://bitoftech.net/2016/08/24/azure-active-directory-b2c-policies-management/\">Azure Active Directory B2C Overview and Policies Management – Part 1</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t<a href=\"https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/\">ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 – Part 5</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t<a href=\"https://bitoftech.net/2015/03/11/asp-net-identity-2-1-roles-based-authorization-authentication-asp-net-web-api/\">ASP.NET Identity 2.1 Roles Based Authorization with ASP.NET Web API – Part 4</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t</div></section>\n\t\t<section id=\"archives-3\" class=\"widget widget_archive\"><div class=\"widget-wrap\"><h4 class=\"widget-title widgettitle\">Blog Archives</h4>\n\t\t<label class=\"screen-reader-text\" for=\"archives-dropdown-3\">Blog Archives</label>\n\t\t<select id=\"archives-dropdown-3\" name=\"archive-dropdown\" onchange=\"document.location.href=this.options[this.selectedIndex].value;\">\n\t\t\t\n\t\t\t<option value=\"\">Select Month</option>\n\t\t\t\t<option value=\"https://bitoftech.net/2016/08/\"> August 2016 &nbsp;(3)</option>\n\t<option value=\"https://bitoftech.net/2015/03/\"> March 2015 &nbsp;(2)</option>\n\t<option value=\"https://bitoftech.net/2015/02/\"> February 2015 &nbsp;(2)</option>\n\t<option value=\"https://bitoftech.net/2015/01/\"> January 2015 &nbsp;(3)</option>\n\t<option value=\"https://bitoftech.net/2014/12/\"> December 2014 &nbsp;(2)</option>\n\t<option value=\"https://bitoftech.net/2014/11/\"> November 2014 &nbsp;(1)</option>\n\t<option value=\"https://bitoftech.net/2014/10/\"> October 2014 &nbsp;(2)</option>\n\t<option value=\"https://bitoftech.net/2014/09/\"> September 2014 &nbsp;(2)</option>\n\t<option value=\"https://bitoftech.net/2014/08/\"> August 2014 &nbsp;(2)</option>\n\t<option value=\"https://bitoftech.net/2014/07/\"> July 2014 &nbsp;(2)</option>\n\t<option value=\"https://bitoftech.net/2014/06/\"> June 2014 &nbsp;(2)</option>\n\t<option value=\"https://bitoftech.net/2014/05/\"> May 2014 &nbsp;(1)</option>\n\t<option value=\"https://bitoftech.net/2014/04/\"> April 2014 &nbsp;(3)</option>\n\t<option value=\"https://bitoftech.net/2014/03/\"> March 2014 &nbsp;(2)</option>\n\t<option value=\"https://bitoftech.net/2014/02/\"> February 2014 &nbsp;(2)</option>\n\t<option value=\"https://bitoftech.net/2014/01/\"> January 2014 &nbsp;(4)</option>\n\t<option value=\"https://bitoftech.net/2013/12/\"> December 2013 &nbsp;(3)</option>\n\t<option value=\"https://bitoftech.net/2013/11/\"> November 2013 &nbsp;(9)</option>\n\t<option value=\"https://bitoftech.net/2013/04/\"> April 2013 &nbsp;(2)</option>\n\n\t\t</select>\n\t\t</div></section>\n</aside></div></div></div><div class=\"footer-widgets\"><div class=\"wrap\"><div class=\"footer-widgets-1 widget-area\">\t\t<section id=\"recent-posts-3\" class=\"widget widget_recent_entries\"><div class=\"widget-wrap\">\t\t<h4 class=\"widget-title widgettitle\">Recent Posts</h4>\n\t\t<ul>\n\t\t\t\t\t<li>\n\t\t\t\t<a href=\"https://bitoftech.net/2016/08/31/integrate-azure-ad-b2c-asp-net-mvc-web-app/\">Integrate Azure AD B2C with ASP.NET MVC Web App – Part 3</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t<a href=\"https://bitoftech.net/2016/08/24/secure-aspnet-web-api-2-azure-ad-b2c/\">Secure ASP.NET Web API 2 using Azure AD B2C – Part 2</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t<a href=\"https://bitoftech.net/2016/08/24/azure-active-directory-b2c-policies-management/\">Azure Active Directory B2C Overview and Policies Management – Part 1</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t<a href=\"https://bitoftech.net/2015/03/31/asp-net-web-api-claims-authorization-with-asp-net-identity-2-1/\">ASP.NET Web API Claims Authorization with ASP.NET Identity 2.1 – Part 5</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t<a href=\"https://bitoftech.net/2015/03/11/asp-net-identity-2-1-roles-based-authorization-authentication-asp-net-web-api/\">ASP.NET Identity 2.1 Roles Based Authorization with ASP.NET Web API – Part 4</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t</div></section>\n\t\t</div><div class=\"footer-widgets-2 widget-area\"><section id=\"tag_cloud-2\" class=\"widget widget_tag_cloud\"><div class=\"widget-wrap\"><h4 class=\"widget-title widgettitle\">Tags</h4>\n<div class=\"tagcloud\"><a href=\"https://bitoftech.net/tag/ajax/\" class=\"tag-link-95 tag-link-position-1\" title=\"2 topics\" style=\"font-size: 10.135593220339pt;\">AJAX</a>\n<a href=\"https://bitoftech.net/tag/angularjs/\" class=\"tag-link-96 tag-link-position-2\" title=\"12 topics\" style=\"font-size: 17.610169491525pt;\">AngularJS</a>\n<a href=\"https://bitoftech.net/tag/api/\" class=\"tag-link-17 tag-link-position-3\" title=\"17 topics\" style=\"font-size: 19.389830508475pt;\">API</a>\n<a href=\"https://bitoftech.net/tag/api-versioning/\" class=\"tag-link-18 tag-link-position-4\" title=\"2 topics\" style=\"font-size: 10.135593220339pt;\">API Versioning</a>\n<a href=\"https://bitoftech.net/tag/asp-net/\" class=\"tag-link-97 tag-link-position-5\" title=\"25 topics\" style=\"font-size: 21.169491525424pt;\">ASP.NET</a>\n<a href=\"https://bitoftech.net/tag/authentication/\" class=\"tag-link-60 tag-link-position-6\" title=\"3 topics\" style=\"font-size: 11.559322033898pt;\">Authentication</a>\n<a href=\"https://bitoftech.net/tag/autherization-server/\" class=\"tag-link-73 tag-link-position-7\" title=\"4 topics\" style=\"font-size: 12.745762711864pt;\">Autherization Server</a>\n<a href=\"https://bitoftech.net/tag/azure-active-directory-b2c/\" class=\"tag-link-109 tag-link-position-8\" title=\"3 topics\" style=\"font-size: 11.559322033898pt;\">Azure Active Directory B2C</a>\n<a href=\"https://bitoftech.net/tag/azure-ad-b2c/\" class=\"tag-link-110 tag-link-position-9\" title=\"3 topics\" style=\"font-size: 11.559322033898pt;\">Azure AD B2C</a>\n<a href=\"https://bitoftech.net/tag/basic-authentication/\" class=\"tag-link-19 tag-link-position-10\" title=\"1 topic\" style=\"font-size: 8pt;\">basic authentication</a>\n<a href=\"https://bitoftech.net/tag/c/\" class=\"tag-link-20 tag-link-position-11\" title=\"1 topic\" style=\"font-size: 8pt;\">C#</a>\n<a href=\"https://bitoftech.net/tag/cachecow/\" class=\"tag-link-21 tag-link-position-12\" title=\"1 topic\" style=\"font-size: 8pt;\">CacheCow</a>\n<a href=\"https://bitoftech.net/tag/client-side-templating/\" class=\"tag-link-98 tag-link-position-13\" title=\"1 topic\" style=\"font-size: 8pt;\">Client Side Templating</a>\n<a href=\"https://bitoftech.net/tag/code-first/\" class=\"tag-link-22 tag-link-position-14\" title=\"4 topics\" style=\"font-size: 12.745762711864pt;\">Code First</a>\n<a href=\"https://bitoftech.net/tag/dependency-injection/\" class=\"tag-link-99 tag-link-position-15\" title=\"2 topics\" style=\"font-size: 10.135593220339pt;\">Dependency Injection</a>\n<a href=\"https://bitoftech.net/tag/entity-framework/\" class=\"tag-link-100 tag-link-position-16\" title=\"12 topics\" style=\"font-size: 17.610169491525pt;\">Entity Framework</a>\n<a href=\"https://bitoftech.net/tag/etag/\" class=\"tag-link-24 tag-link-position-17\" title=\"1 topic\" style=\"font-size: 8pt;\">ETag</a>\n<a href=\"https://bitoftech.net/tag/foursquare-api/\" class=\"tag-link-25 tag-link-position-18\" title=\"4 topics\" style=\"font-size: 12.745762711864pt;\">Foursquare API</a>\n<a href=\"https://bitoftech.net/tag/http-caching/\" class=\"tag-link-26 tag-link-position-19\" title=\"1 topic\" style=\"font-size: 8pt;\">HTTP Caching</a>\n<a href=\"https://bitoftech.net/tag/http-verbs/\" class=\"tag-link-27 tag-link-position-20\" title=\"1 topic\" style=\"font-size: 8pt;\">HTTP Verbs</a>\n<a href=\"https://bitoftech.net/tag/imdb-api/\" class=\"tag-link-28 tag-link-position-21\" title=\"1 topic\" style=\"font-size: 8pt;\">IMDB API</a>\n<a href=\"https://bitoftech.net/tag/ioc/\" class=\"tag-link-29 tag-link-position-22\" title=\"1 topic\" style=\"font-size: 8pt;\">IoC</a>\n<a href=\"https://bitoftech.net/tag/javascript/\" class=\"tag-link-101 tag-link-position-23\" title=\"1 topic\" style=\"font-size: 8pt;\">Javascript</a>\n<a href=\"https://bitoftech.net/tag/jquery/\" class=\"tag-link-102 tag-link-position-24\" title=\"2 topics\" style=\"font-size: 10.135593220339pt;\">jQuery</a>\n<a href=\"https://bitoftech.net/tag/json/\" class=\"tag-link-30 tag-link-position-25\" title=\"2 topics\" style=\"font-size: 10.135593220339pt;\">JSON</a>\n<a href=\"https://bitoftech.net/tag/json-web-tokens/\" class=\"tag-link-79 tag-link-position-26\" title=\"2 topics\" style=\"font-size: 10.135593220339pt;\">JSON Web Tokens</a>\n<a href=\"https://bitoftech.net/tag/jwt/\" class=\"tag-link-59 tag-link-position-27\" title=\"4 topics\" style=\"font-size: 12.745762711864pt;\">JWT</a>\n<a href=\"https://bitoftech.net/tag/model-factory/\" class=\"tag-link-31 tag-link-position-28\" title=\"1 topic\" style=\"font-size: 8pt;\">Model Factory</a>\n<a href=\"https://bitoftech.net/tag/ninject/\" class=\"tag-link-103 tag-link-position-29\" title=\"3 topics\" style=\"font-size: 11.559322033898pt;\">Ninject</a>\n<a href=\"https://bitoftech.net/tag/oauth/\" class=\"tag-link-62 tag-link-position-30\" title=\"8 topics\" style=\"font-size: 15.71186440678pt;\">OAuth</a>\n<a href=\"https://bitoftech.net/tag/odata/\" class=\"tag-link-106 tag-link-position-31\" title=\"3 topics\" style=\"font-size: 11.559322033898pt;\">OData</a>\n<a href=\"https://bitoftech.net/tag/pagination/\" class=\"tag-link-32 tag-link-position-32\" title=\"1 topic\" style=\"font-size: 8pt;\">Pagination</a>\n<a href=\"https://bitoftech.net/tag/resources-association/\" class=\"tag-link-33 tag-link-position-33\" title=\"1 topic\" style=\"font-size: 8pt;\">Resources Association</a>\n<a href=\"https://bitoftech.net/tag/resource-server/\" class=\"tag-link-74 tag-link-position-34\" title=\"2 topics\" style=\"font-size: 10.135593220339pt;\">Resource Server</a>\n<a href=\"https://bitoftech.net/tag/rest/\" class=\"tag-link-34 tag-link-position-35\" title=\"17 topics\" style=\"font-size: 19.389830508475pt;\">REST</a>\n<a href=\"https://bitoftech.net/tag/restful/\" class=\"tag-link-35 tag-link-position-36\" title=\"20 topics\" style=\"font-size: 20.101694915254pt;\">RESTful</a>\n<a href=\"https://bitoftech.net/tag/single-page-applications/\" class=\"tag-link-104 tag-link-position-37\" title=\"4 topics\" style=\"font-size: 12.745762711864pt;\">Single Page Applications</a>\n<a href=\"https://bitoftech.net/tag/spa/\" class=\"tag-link-36 tag-link-position-38\" title=\"9 topics\" style=\"font-size: 16.305084745763pt;\">SPA</a>\n<a href=\"https://bitoftech.net/tag/token-authentication/\" class=\"tag-link-57 tag-link-position-39\" title=\"11 topics\" style=\"font-size: 17.254237288136pt;\">Token Authentication</a>\n<a href=\"https://bitoftech.net/tag/tutorial/\" class=\"tag-link-37 tag-link-position-40\" title=\"27 topics\" style=\"font-size: 21.64406779661pt;\">Tutorial</a>\n<a href=\"https://bitoftech.net/tag/web-api/\" class=\"tag-link-38 tag-link-position-41\" title=\"29 topics\" style=\"font-size: 22pt;\">Web API</a>\n<a href=\"https://bitoftech.net/tag/web-api-2/\" class=\"tag-link-45 tag-link-position-42\" title=\"8 topics\" style=\"font-size: 15.71186440678pt;\">Web API 2</a>\n<a href=\"https://bitoftech.net/tag/web-api-security/\" class=\"tag-link-105 tag-link-position-43\" title=\"9 topics\" style=\"font-size: 16.305084745763pt;\">Web API Security</a>\n<a href=\"https://bitoftech.net/tag/web-service/\" class=\"tag-link-40 tag-link-position-44\" title=\"16 topics\" style=\"font-size: 19.033898305085pt;\">Web Service</a>\n<a href=\"https://bitoftech.net/tag/wordpress-com/\" class=\"tag-link-43 tag-link-position-45\" title=\"1 topic\" style=\"font-size: 8pt;\">wordpress.com</a></div>\n</div></section>\n</div><div class=\"footer-widgets-3 widget-area\"><section id=\"search-3\" class=\"widget widget_search\"><div class=\"widget-wrap\"><h4 class=\"widget-title widgettitle\">Search</h4>\n<form class=\"search-form\" itemprop=\"potentialAction\" itemscope=\"\" itemtype=\"http://schema.org/SearchAction\" method=\"get\" action=\"https://bitoftech.net/\" role=\"search\"><meta itemprop=\"target\" content=\"https://bitoftech.net/?s={s}\"><input itemprop=\"query-input\" type=\"search\" name=\"s\" placeholder=\"Search this website …\"><input type=\"submit\" value=\"Search\"></form></div></section>\n</div></div></div><footer class=\"site-footer\" itemscope=\"\" itemtype=\"http://schema.org/WPFooter\"><div class=\"wrap\"><p>Copyright ©&nbsp;2017 ·<a href=\"http://my.studiopress.com/themes/eleven40/\">eleven40 Pro Theme</a> · <a href=\"http://my.studiopress.com/themes/genesis/\">Genesis Framework</a> by <a href=\"http://www.studiopress.com/\">StudioPress</a> · <a href=\"http://wordpress.org/\">WordPress</a> · <a rel=\"nofollow\" href=\"https://bitoftech.net/wp-login.php\">Log in</a></p></div></footer></div>\n\t<script type=\"text/javascript\">\n\t\twindow.WPCOM_sharing_counts = {\"https:\\/\\/bitoftech.net\\/2016\\/08\\/31\\/integrate-azure-ad-b2c-asp-net-mvc-web-app\\/\":1096};\n\t</script>\n<div id=\"fb-root\" class=\" fb_reset\"><div style=\"position: absolute; top: -10000px; height: 0px; width: 0px;\"><div><iframe name=\"fb_xdm_frame_https\" frameborder=\"0\" allowtransparency=\"true\" allowfullscreen=\"true\" scrolling=\"no\" id=\"fb_xdm_frame_https\" aria-hidden=\"true\" title=\"Facebook Cross Domain Communication Frame\" tabindex=\"-1\" src=\"https://staticxx.facebook.com/connect/xd_arbiter/r/96nq-xsaNcg.js?version=42#channel=f392018f3aba55c&amp;origin=https%3A%2F%2Fbitoftech.net\" style=\"border: none;\"></iframe></div></div><div style=\"position: absolute; top: -10000px; height: 0px; width: 0px;\"><div></div></div></div>\n\t\t\t<script>(function(d, s, id) { var js, fjs = d.getElementsByTagName(s)[0]; if (d.getElementById(id)) return; js = d.createElement(s); js.id = id; js.src = 'https://connect.facebook.net/en_US/sdk.js#xfbml=1&appId=249643311490&version=v2.3'; fjs.parentNode.insertBefore(js, fjs); }(document, 'script', 'facebook-jssdk'));</script>\n\t\t\t<script>\n\t\t\tjQuery( document.body ).on( 'post-load', function() {\n\t\t\t\tif ( 'undefined' !== typeof FB ) {\n\t\t\t\t\tFB.XFBML.parse();\n\t\t\t\t}\n\t\t\t} );\n\t\t\t</script>\n\t\t\t\t\t\t<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>\n\t\t\t<script type=\"text/javascript\">\n\t\t\tjQuery( document ).ready( function() {\n\t\t\t\tjQuery.getScript( 'https://platform.linkedin.com/in.js?async=true', function success() {\n\t\t\t\t\tIN.init();\n\t\t\t\t});\n\t\t\t});\n\t\t\tjQuery( document.body ).on( 'post-load', function() {\n\t\t\t\tif ( typeof IN != 'undefined' )\n\t\t\t\t\tIN.parse();\n\t\t\t});\n\t\t\t</script>\t\t\t<script>\n\t\t\tfunction renderGooglePlus1() {\n\t\t\t\tif ( 'undefined' === typeof gapi ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tjQuery( '.g-plus' ).each(function() {\n\t\t\t\t\tvar $button = jQuery( this );\n\n\t\t\t\t\tif ( ! $button.data( 'gplus-rendered' ) ) {\n\t\t\t\t\t\tgapi.plusone.render( this, {\n\t\t\t\t\t\t\thref: $button.attr( 'data-href' ),\n\t\t\t\t\t\t\tsize: $button.attr( 'data-size' ),\n\t\t\t\t\t\t\tannotation: $button.attr( 'data-annotation' )\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t$button.data( 'gplus-rendered', true );\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t(function() {\n\t\t\t\tvar po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;\n\t\t\t\tpo.src = 'https://apis.google.com/js/plusone.js';\n\t\t\t\tpo.innerHTML = '{\"parsetags\": \"explicit\"}';\n\t\t\t\tpo.onload = renderGooglePlus1;\n\t\t\t\tvar s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);\n\t\t\t})();\n\n\t\t\tjQuery( document.body ).on( 'post-load', renderGooglePlus1 );\n\t\t\t</script>\n\t\t\t<script type=\"text/javascript\" src=\"https://platform.tumblr.com/v1/share.js\"></script>\t\n<script type=\"text/javascript\" src=\"https://bitoftech.net/wp-content/plugins/contact-form-7/includes/js/jquery.form.min.js?ver=3.51.0-2014.06.20\"></script>\n<script type=\"text/javascript\">\n/* <![CDATA[ */\nvar _wpcf7 = {\"recaptcha\":{\"messages\":{\"empty\":\"Please verify that you are not a robot.\"}}};\n/* ]]> */\n</script>\n<script type=\"text/javascript\" src=\"https://bitoftech.net/wp-content/plugins/contact-form-7/includes/js/scripts.js?ver=4.7\"></script>\n<script type=\"text/javascript\" src=\"https://s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=201716\"></script>\n<script type=\"text/javascript\" src=\"https://bitoftech.net/wp-includes/js/wp-embed.min.js?ver=4.7.4\"></script>\n<script type=\"text/javascript\">\n/* <![CDATA[ */\nvar sharing_js_options = {\"lang\":\"en\",\"counts\":\"1\"};\n/* ]]> */\n</script>\n<script type=\"text/javascript\" src=\"https://bitoftech.net/wp-content/plugins/jetpack/modules/sharedaddy/sharing.js?ver=4.8.2\"></script>\n<script type=\"text/javascript\">\nvar windowOpen;\n\t\t\tjQuery( document.body ).on( 'click', 'a.share-facebook', function() {\n\t\t\t\t// If there's another sharing window open, close it.\n\t\t\t\tif ( 'undefined' !== typeof windowOpen ) {\n\t\t\t\t\twindowOpen.close();\n\t\t\t\t}\n\t\t\t\twindowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomfacebook', 'menubar=1,resizable=1,width=600,height=400' );\n\t\t\t\treturn false;\n\t\t\t});\n</script>\n<script type=\"text/javascript\" src=\"https://stats.wp.com/e-201716.js\" async=\"\" defer=\"\"></script>\n<script type=\"text/javascript\">\n\t_stq = window._stq || [];\n\t_stq.push([ 'view', {v:'ext',j:'1:4.8.2',blog:'64786678',post:'0',tz:'3',srv:'bitoftech.net'} ]);\n\t_stq.push([ 'clickTrackerInit', '64786678', '0' ]);\n</script>\n\n<div id=\"sharing_email\" style=\"display: none;\">\n\t\t<form action=\"/\" method=\"post\">\n\t\t\t<label for=\"target_email\">Send to Email Address</label>\n\t\t\t<input type=\"email\" name=\"target_email\" id=\"target_email\" value=\"\">\n\n\t\t\t\n\t\t\t\t<label for=\"source_name\">Your Name</label>\n\t\t\t\t<input type=\"text\" name=\"source_name\" id=\"source_name\" value=\"\">\n\n\t\t\t\t<label for=\"source_email\">Your Email Address</label>\n\t\t\t\t<input type=\"email\" name=\"source_email\" id=\"source_email\" value=\"\">\n\n\t\t\t\t\t\t<input type=\"text\" id=\"jetpack-source_f_name\" name=\"source_f_name\" class=\"input\" value=\"\" size=\"25\" autocomplete=\"off\" title=\"This field is for validation and should not be changed\">\n\t\t\t<script>jQuery( document ).ready( function(){ document.getElementById('jetpack-source_f_name').value = '' });</script>\n\t\t\t\n\t\t\t<img style=\"float: right; display: none\" class=\"loading\" src=\"https://bitoftech.net/wp-content/plugins/jetpack/modules/sharedaddy/images/loading.gif\" alt=\"loading\" width=\"16\" height=\"16\">\n\t\t\t<input type=\"submit\" value=\"Send Email\" class=\"sharing_send\">\n\t\t\t<a rel=\"nofollow\" href=\"#cancel\" class=\"sharing_cancel\">Cancel</a>\n\n\t\t\t<div class=\"errors errors-1\" style=\"display: none;\">\n\t\t\t\tPost was not sent - check your email addresses!\t\t\t</div>\n\n\t\t\t<div class=\"errors errors-2\" style=\"display: none;\">\n\t\t\t\tEmail check failed, please try again\t\t\t</div>\n\n\t\t\t<div class=\"errors errors-3\" style=\"display: none;\">\n\t\t\t\tSorry, your blog cannot share posts by email.\t\t\t</div>\n\t\t</form>\n\t</div><iframe name=\"oauth2relay802321219\" id=\"oauth2relay802321219\" src=\"https://accounts.google.com/o/oauth2/postmessageRelay?parent=https%3A%2F%2Fbitoftech.net&amp;jsh=m%3B%2F_%2Fscs%2Fapps-static%2F_%2Fjs%2Fk%3Doz.gapi.en_US.SLCABaeCDbc.O%2Fm%3D__features__%2Fam%3DAQ%2Frt%3Dj%2Fd%3D1%2Frs%3DAGLTcCMLkwjFKjbbQHEAkWYM0gtD9xKJJA#rpctoken=396838281&amp;forcesecure=1\" tabindex=\"-1\" aria-hidden=\"true\" style=\"width: 1px; height: 1px; position: absolute; top: -100px;\"></iframe><iframe id=\"rufous-sandbox\" scrolling=\"no\" frameborder=\"0\" allowtransparency=\"true\" allowfullscreen=\"true\" style=\"position: absolute; visibility: hidden; display: none; width: 0px; height: 0px; padding: 0px; border: none;\" title=\"Twitter analytics iframe\"></iframe></body>"}
{"link":"https://bitoftech.net/wp-login.php","html":"<!--<![endif]--><head>\n\t<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\">\n\t<title>Bit of Technology ‹ Log In</title>\n\t<link rel=\"dns-prefetch\" href=\"//s.w.org\">\n<link rel=\"stylesheet\" href=\"https://bitoftech.net/wp-admin/load-styles.php?c=0&amp;dir=ltr&amp;load%5B%5D=dashicons,buttons,forms,l10n,login&amp;ver=4.7.4\" type=\"text/css\" media=\"all\">\n<meta name=\"robots\" content=\"noindex,follow\">\n\t<meta name=\"viewport\" content=\"width=device-width\">\n\t\t</head>\n\t<body class=\"login login-action-login wp-core-ui  locale-en-us\">\n\t\t<div id=\"login\">\n\t\t<h1><a href=\"https://wordpress.org/\" title=\"Powered by WordPress\" tabindex=\"-1\">Bit of Technology</a></h1>\n\t\n<form name=\"loginform\" id=\"loginform\" action=\"https://bitoftech.net/wp-login.php\" method=\"post\">\n\t<p>\n\t\t<label for=\"user_login\">Username or Email Address<br>\n\t\t<input type=\"text\" name=\"log\" id=\"user_login\" class=\"input\" value=\"\" size=\"20\"></label>\n\t</p>\n\t<p>\n\t\t<label for=\"user_pass\">Password<br>\n\t\t<input type=\"password\" name=\"pwd\" id=\"user_pass\" class=\"input\" value=\"\" size=\"20\"></label>\n\t</p>\n\t\t<p class=\"forgetmenot\"><label for=\"rememberme\"><input name=\"rememberme\" type=\"checkbox\" id=\"rememberme\" value=\"forever\"> Remember Me</label></p>\n\t<p class=\"submit\">\n\t\t<input type=\"submit\" name=\"wp-submit\" id=\"wp-submit\" class=\"button button-primary button-large\" value=\"Log In\">\n\t\t<input type=\"hidden\" name=\"redirect_to\" value=\"https://bitoftech.net/wp-admin/\">\n\t\t<input type=\"hidden\" name=\"testcookie\" value=\"1\">\n\t</p>\n</form>\n\n<p id=\"nav\">\n\t<a href=\"https://bitoftech.net/wp-login.php?action=lostpassword\">Lost your password?</a>\n</p>\n\n<script type=\"text/javascript\">\nfunction wp_attempt_focus(){\nsetTimeout( function(){ try{\nd = document.getElementById('user_login');\nd.focus();\nd.select();\n} catch(e){}\n}, 200);\n}\n\nwp_attempt_focus();\nif(typeof wpOnload=='function')wpOnload();\n</script>\n\n\t<p id=\"backtoblog\"><a href=\"http://bitoftech.net/\">← Back to Bit of Technology</a></p>\n\t\n\t</div>\n\n\t\n\t<link rel=\"stylesheet\" id=\"jetpack_css-css\" href=\"https://bitoftech.net/wp-content/plugins/jetpack/css/jetpack.css?ver=4.8.2\" type=\"text/css\" media=\"all\">\n\t<div class=\"clear\"></div>\n\t\n\t\n\t</body>"}
